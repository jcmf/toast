head	1.148;
access;
symbols;
locks
	zaphod:1.148; strict;
comment	@# @;


1.148
date	2005.12.05.00.23.13;	author zaphod;	state Exp;
branches;
next	1.147;

1.147
date	2005.03.05.05.59.18;	author zaphod;	state Exp;
branches;
next	1.146;

1.146
date	2005.03.01.05.22.12;	author zaphod;	state Exp;
branches;
next	1.145;

1.145
date	2005.02.27.05.39.04;	author zaphod;	state Exp;
branches;
next	1.144;

1.144
date	2005.02.22.00.15.08;	author zaphod;	state Exp;
branches;
next	1.143;

1.143
date	2005.02.21.20.04.43;	author zaphod;	state Exp;
branches;
next	1.142;

1.142
date	2005.02.18.05.28.48;	author zaphod;	state Exp;
branches;
next	1.141;

1.141
date	2005.02.15.05.32.18;	author zaphod;	state Exp;
branches;
next	1.140;

1.140
date	2005.02.13.05.10.15;	author zaphod;	state Exp;
branches;
next	1.139;

1.139
date	2005.02.13.05.01.13;	author zaphod;	state Exp;
branches;
next	1.138;

1.138
date	2005.02.07.06.10.40;	author zaphod;	state Exp;
branches;
next	1.137;

1.137
date	2005.02.06.21.11.34;	author zaphod;	state Exp;
branches;
next	1.136;

1.136
date	2005.02.06.08.41.53;	author zaphod;	state Exp;
branches;
next	1.135;

1.135
date	2005.02.06.08.09.19;	author zaphod;	state Exp;
branches;
next	1.134;

1.134
date	2005.02.06.04.14.39;	author zaphod;	state Exp;
branches;
next	1.133;

1.133
date	2005.02.05.23.59.08;	author zaphod;	state Exp;
branches;
next	1.132;

1.132
date	2005.02.05.23.19.38;	author zaphod;	state Exp;
branches;
next	1.131;

1.131
date	2005.02.05.08.21.03;	author zaphod;	state Exp;
branches;
next	1.130;

1.130
date	2005.01.13.05.33.00;	author zaphod;	state Exp;
branches;
next	1.129;

1.129
date	2004.11.24.07.46.54;	author zaphod;	state Exp;
branches;
next	1.128;

1.128
date	2004.11.21.02.44.52;	author zaphod;	state Exp;
branches;
next	1.127;

1.127
date	2004.11.14.05.27.17;	author zaphod;	state Exp;
branches;
next	1.126;

1.126
date	2004.11.14.00.31.36;	author zaphod;	state Exp;
branches;
next	1.125;

1.125
date	2004.10.13.05.15.46;	author zaphod;	state Exp;
branches;
next	1.124;

1.124
date	2004.10.10.00.10.38;	author zaphod;	state Exp;
branches;
next	1.123;

1.123
date	2004.10.02.22.27.49;	author zaphod;	state Exp;
branches;
next	1.122;

1.122
date	2004.10.02.21.08.32;	author zaphod;	state Exp;
branches;
next	1.121;

1.121
date	2004.09.20.07.15.14;	author zaphod;	state Exp;
branches;
next	1.120;

1.120
date	2004.09.20.06.31.34;	author zaphod;	state Exp;
branches;
next	1.119;

1.119
date	2004.09.20.03.41.33;	author zaphod;	state Exp;
branches;
next	1.118;

1.118
date	2004.09.05.22.16.17;	author zaphod;	state Exp;
branches;
next	1.117;

1.117
date	2004.09.05.06.51.57;	author zaphod;	state Exp;
branches;
next	1.116;

1.116
date	2004.09.04.21.16.54;	author zaphod;	state Exp;
branches;
next	1.115;

1.115
date	2004.09.04.02.57.47;	author zaphod;	state Exp;
branches;
next	1.114;

1.114
date	2004.08.31.03.50.23;	author zaphod;	state Exp;
branches;
next	1.113;

1.113
date	2004.08.31.03.06.36;	author zaphod;	state Exp;
branches;
next	1.112;

1.112
date	2004.08.30.03.59.30;	author zaphod;	state Exp;
branches;
next	1.111;

1.111
date	2004.08.29.22.17.43;	author zaphod;	state Exp;
branches;
next	1.110;

1.110
date	2004.08.29.21.35.06;	author zaphod;	state Exp;
branches;
next	1.109;

1.109
date	2004.08.29.21.20.57;	author zaphod;	state Exp;
branches;
next	1.108;

1.108
date	2004.08.29.20.08.16;	author zaphod;	state Exp;
branches;
next	1.107;

1.107
date	2004.08.29.06.56.51;	author zaphod;	state Exp;
branches;
next	1.106;

1.106
date	2004.08.29.04.03.11;	author zaphod;	state Exp;
branches;
next	1.105;

1.105
date	2004.08.29.03.51.44;	author zaphod;	state Exp;
branches;
next	1.104;

1.104
date	2004.08.22.22.22.06;	author zaphod;	state Exp;
branches;
next	1.103;

1.103
date	2004.08.22.21.50.08;	author zaphod;	state Exp;
branches;
next	1.102;

1.102
date	2004.08.17.23.47.16;	author zaphod;	state Exp;
branches;
next	1.101;

1.101
date	2004.07.20.23.12.39;	author zaphod;	state Exp;
branches;
next	1.100;

1.100
date	2004.07.19.23.54.02;	author zaphod;	state Exp;
branches;
next	1.99;

1.99
date	2004.07.19.17.42.50;	author zaphod;	state Exp;
branches;
next	1.98;

1.98
date	2004.07.19.03.57.33;	author zaphod;	state Exp;
branches;
next	1.97;

1.97
date	2004.07.17.05.29.46;	author zaphod;	state Exp;
branches;
next	1.96;

1.96
date	2004.07.17.04.18.15;	author zaphod;	state Exp;
branches;
next	1.95;

1.95
date	2004.07.17.00.57.02;	author zaphod;	state Exp;
branches;
next	1.94;

1.94
date	2004.07.16.17.27.11;	author zaphod;	state Exp;
branches;
next	1.93;

1.93
date	2004.07.16.05.02.50;	author zaphod;	state Exp;
branches;
next	1.92;

1.92
date	2004.07.15.06.16.10;	author zaphod;	state Exp;
branches;
next	1.91;

1.91
date	2004.07.15.00.48.15;	author zaphod;	state Exp;
branches;
next	1.90;

1.90
date	2004.07.15.00.42.34;	author zaphod;	state Exp;
branches;
next	1.89;

1.89
date	2004.07.12.04.50.20;	author zaphod;	state Exp;
branches;
next	1.88;

1.88
date	2004.07.12.00.45.45;	author zaphod;	state Exp;
branches;
next	1.87;

1.87
date	2004.07.11.05.04.08;	author zaphod;	state Exp;
branches;
next	1.86;

1.86
date	2004.07.11.03.43.40;	author zaphod;	state Exp;
branches;
next	1.85;

1.85
date	2004.06.23.23.41.47;	author zaphod;	state Exp;
branches;
next	1.84;

1.84
date	2004.06.01.20.35.05;	author zaphod;	state Exp;
branches;
next	1.83;

1.83
date	2004.06.01.01.05.08;	author zaphod;	state Exp;
branches;
next	1.82;

1.82
date	2004.05.28.01.02.50;	author zaphod;	state Exp;
branches;
next	1.81;

1.81
date	2004.05.26.01.51.43;	author zaphod;	state Exp;
branches;
next	1.80;

1.80
date	2004.05.24.19.54.56;	author zaphod;	state Exp;
branches;
next	1.79;

1.79
date	2004.05.24.19.53.16;	author zaphod;	state Exp;
branches;
next	1.78;

1.78
date	2004.05.24.19.37.23;	author zaphod;	state Exp;
branches;
next	1.77;

1.77
date	2004.05.24.03.40.41;	author zaphod;	state Exp;
branches;
next	1.76;

1.76
date	2004.05.13.22.33.17;	author zaphod;	state Exp;
branches;
next	1.75;

1.75
date	2004.05.06.00.21.01;	author zaphod;	state Exp;
branches;
next	1.74;

1.74
date	2004.05.06.00.11.23;	author zaphod;	state Exp;
branches;
next	1.73;

1.73
date	2004.05.05.01.50.35;	author zaphod;	state Exp;
branches;
next	1.72;

1.72
date	2004.05.04.20.56.05;	author zaphod;	state Exp;
branches;
next	1.71;

1.71
date	2004.05.04.18.28.08;	author zaphod;	state Exp;
branches;
next	1.70;

1.70
date	2004.05.04.18.15.06;	author zaphod;	state Exp;
branches;
next	1.69;

1.69
date	2004.05.03.23.26.37;	author zaphod;	state Exp;
branches;
next	1.68;

1.68
date	2004.05.03.18.26.06;	author zaphod;	state Exp;
branches;
next	1.67;

1.67
date	2004.05.03.18.18.43;	author zaphod;	state Exp;
branches;
next	1.66;

1.66
date	2004.05.01.05.29.57;	author zaphod;	state Exp;
branches;
next	1.65;

1.65
date	2004.04.30.22.00.29;	author zaphod;	state Exp;
branches;
next	1.64;

1.64
date	2004.04.30.17.07.51;	author zaphod;	state Exp;
branches;
next	1.63;

1.63
date	2004.04.29.20.05.20;	author zaphod;	state Exp;
branches;
next	1.62;

1.62
date	2004.04.29.17.02.45;	author zaphod;	state Exp;
branches;
next	1.61;

1.61
date	2004.04.29.16.59.47;	author zaphod;	state Exp;
branches;
next	1.60;

1.60
date	2004.04.29.01.44.18;	author zaphod;	state Exp;
branches;
next	1.59;

1.59
date	2004.04.28.21.29.44;	author zaphod;	state Exp;
branches;
next	1.58;

1.58
date	2004.04.28.01.13.49;	author zaphod;	state Exp;
branches;
next	1.57;

1.57
date	2004.04.27.17.09.17;	author zaphod;	state Exp;
branches;
next	1.56;

1.56
date	2004.04.27.04.45.46;	author zaphod;	state Exp;
branches;
next	1.55;

1.55
date	2004.04.25.22.42.41;	author zaphod;	state Exp;
branches;
next	1.54;

1.54
date	2004.04.25.22.35.13;	author zaphod;	state Exp;
branches;
next	1.53;

1.53
date	2004.04.25.05.08.26;	author zaphod;	state Exp;
branches;
next	1.52;

1.52
date	2004.04.23.21.48.07;	author zaphod;	state Exp;
branches;
next	1.51;

1.51
date	2004.04.23.17.15.27;	author zaphod;	state Exp;
branches;
next	1.50;

1.50
date	2004.04.23.01.17.51;	author zaphod;	state Exp;
branches;
next	1.49;

1.49
date	2004.04.23.00.42.02;	author zaphod;	state Exp;
branches;
next	1.48;

1.48
date	2004.04.22.23.29.55;	author zaphod;	state Exp;
branches;
next	1.47;

1.47
date	2004.04.22.23.27.31;	author zaphod;	state Exp;
branches;
next	1.46;

1.46
date	2004.04.22.21.37.28;	author zaphod;	state Exp;
branches;
next	1.45;

1.45
date	2004.04.22.21.16.26;	author zaphod;	state Exp;
branches;
next	1.44;

1.44
date	2004.04.22.21.10.23;	author zaphod;	state Exp;
branches;
next	1.43;

1.43
date	2004.04.22.19.47.00;	author zaphod;	state Exp;
branches;
next	1.42;

1.42
date	2004.04.22.17.37.56;	author zaphod;	state Exp;
branches;
next	1.41;

1.41
date	2004.04.22.01.40.20;	author zaphod;	state Exp;
branches;
next	1.40;

1.40
date	2004.04.21.21.50.00;	author zaphod;	state Exp;
branches;
next	1.39;

1.39
date	2004.04.21.17.08.04;	author zaphod;	state Exp;
branches;
next	1.38;

1.38
date	2004.04.21.17.02.28;	author zaphod;	state Exp;
branches;
next	1.37;

1.37
date	2004.04.21.05.46.22;	author zaphod;	state Exp;
branches;
next	1.36;

1.36
date	2004.04.20.22.41.40;	author zaphod;	state Exp;
branches;
next	1.35;

1.35
date	2004.04.20.22.36.41;	author zaphod;	state Exp;
branches;
next	1.34;

1.34
date	2004.04.20.22.35.28;	author zaphod;	state Exp;
branches;
next	1.33;

1.33
date	2004.04.20.03.38.08;	author zaphod;	state Exp;
branches;
next	1.32;

1.32
date	2004.04.19.21.54.00;	author zaphod;	state Exp;
branches;
next	1.31;

1.31
date	2004.04.19.21.28.52;	author zaphod;	state Exp;
branches;
next	1.30;

1.30
date	2004.04.18.23.39.24;	author zaphod;	state Exp;
branches;
next	1.29;

1.29
date	2004.04.18.23.09.41;	author zaphod;	state Exp;
branches;
next	1.28;

1.28
date	2004.04.17.03.56.36;	author zaphod;	state Exp;
branches;
next	1.27;

1.27
date	2004.04.16.23.05.10;	author zaphod;	state Exp;
branches;
next	1.26;

1.26
date	2004.04.16.22.53.46;	author zaphod;	state Exp;
branches;
next	1.25;

1.25
date	2004.04.16.22.27.17;	author zaphod;	state Exp;
branches;
next	1.24;

1.24
date	2004.04.16.22.19.15;	author zaphod;	state Exp;
branches;
next	1.23;

1.23
date	2004.04.16.00.26.54;	author zaphod;	state Exp;
branches;
next	1.22;

1.22
date	2004.04.16.00.17.16;	author zaphod;	state Exp;
branches;
next	1.21;

1.21
date	2004.04.15.06.20.38;	author zaphod;	state Exp;
branches;
next	1.20;

1.20
date	2004.04.14.22.28.34;	author zaphod;	state Exp;
branches;
next	1.19;

1.19
date	2004.04.14.18.03.09;	author zaphod;	state Exp;
branches;
next	1.18;

1.18
date	2004.04.14.01.22.35;	author zaphod;	state Exp;
branches;
next	1.17;

1.17
date	2004.04.14.00.57.08;	author zaphod;	state Exp;
branches;
next	1.16;

1.16
date	2004.04.14.00.30.35;	author zaphod;	state Exp;
branches;
next	1.15;

1.15
date	2004.04.13.21.25.28;	author zaphod;	state Exp;
branches;
next	1.14;

1.14
date	2004.04.13.19.55.57;	author zaphod;	state Exp;
branches;
next	1.13;

1.13
date	2004.04.12.23.24.43;	author zaphod;	state Exp;
branches;
next	1.12;

1.12
date	2004.04.11.19.56.34;	author zaphod;	state Exp;
branches;
next	1.11;

1.11
date	2004.04.11.07.16.30;	author zaphod;	state Exp;
branches;
next	1.10;

1.10
date	2004.04.11.07.13.31;	author zaphod;	state Exp;
branches;
next	1.9;

1.9
date	2004.04.11.02.49.44;	author zaphod;	state Exp;
branches;
next	1.8;

1.8
date	2004.04.09.23.59.49;	author zaphod;	state Exp;
branches;
next	1.7;

1.7
date	2004.04.09.16.53.53;	author zaphod;	state Exp;
branches;
next	1.6;

1.6
date	2004.04.09.00.05.07;	author zaphod;	state Exp;
branches;
next	1.5;

1.5
date	2004.04.07.22.11.40;	author zaphod;	state Exp;
branches;
next	1.4;

1.4
date	2004.04.07.18.36.59;	author zaphod;	state Exp;
branches;
next	1.3;

1.3
date	2004.04.06.00.36.29;	author zaphod;	state Exp;
branches;
next	1.2;

1.2
date	2004.04.05.19.48.43;	author zaphod;	state Exp;
branches;
next	1.1;

1.1
date	2004.04.04.23.20.58;	author zaphod;	state Exp;
branches;
next	;


desc
@toast linux -- a linux distribution based on the toast package manager
@


1.148
log
@Man, this is totally broken.  Time for a major redesign, I think.
Checking in feeble, abandoned attempts at upgrading and fixing....
@
text
@#!/bin/sh

case "$1" in
  sbin/setup) topdir=.; mkdir -p sbin tmp;;
  1.[1-9]*) topdir=/;;
  *) exec perl -x "$0" "$@@"; exit 1;;
esac

set -e
: > sbin/setup
chmod +x sbin/setup
for i in toast help; do ln -sf setup "sbin/$i"; done
sed -e "s,TOPDIR,$topdir,g" > "sbin/setup" << "---"
#!/bin/sh

export PATH=/sbin:/bin:/usr/sbin:/usr/bin
export HOME=/
export SHELL=/bin/sh

# es = estimated download size (in 1024-byte blocks, as per du -s); 0 = none
# eb = estimated build time (in units of "du precompiled.tar.bz2")
# flags = zero or more of the following letters, mashed together:
#   c = critical task; don't bother to continue if this fails
#   n = nonrepresentative task; don't factor install time into estimates
# as = actual download _time_ (not size!) in seconds (on this machine)
# ab = actual build time in seconds (on this machine)

topdir="tmp/setup"
namedir="$topdir/name"
numdir="$topdir/num"
efile="$topdir/event"
ufile="$topdir/updated"
ffile="$topdir/failed"

statuslines="5"

color_stats="1;44"
color_bar="1;36;46"

color_pending="41"
color_getting="40"
color_missing="43"
color_stored="1;41"
color_building="1;40"
color_broken="1;43"
color_done="1;42"

color_fkey="30;47"
color_fkey_selected="1;37;47"
color_fkey_eol="37;47"

# solid block:     '\33(U\333\17'
# left half block: '\33(U\335\17'
# halftone block:  '\33(U\261\17'
# up arrow:        '\33[3h\30\33[3l'
# down arrow:      '\33[3h\31\33[3l'

case "$TERM" in
  *xterm*)
    char_solid_block='\16a\17'
    char_half_block=' '
    ;;
  *)
    char_solid_block='\33(U\333\17'
    char_half_block='\33(U\335\17'
    ;;
esac

timeout()
{
  seconds="$1"
  save="`stty -g`"
  key=""
  while [ "$seconds" -gt 0 -a -z "$key" ]; do
    echo -ne '\r'"$seconds "
    stty raw -echo time 10 min 0 || exit $?
    key="`dd bs=1 count=1 2>/dev/null`"
    stty "$save"
    let seconds="$seconds - 1"
  done
  echo -ne '\r          \r'
  [ -z "$key" ]
}

resize()
{
  save="`stty -g`"
  stty raw -echo time 1 min 0
  echo -ne '\33[s\33[255;255H\33[6n\33[u'
  eval "`dd bs=1 count=128 2>/dev/null | sed -ne 's/.*\[\([0-9]\+\);\([0-9]\+\)R.*/LINES=\1;COLUMNS=\2;/p'`"
  stty "$save"
  [ -z "$LINES" ] && LINES=50
  [ -z "$COLUMNS" ] && COLUMNS=80
  export LINES COLUMNS
}

refresh()
{
  echo -ne "\33[0;${2}m " > "$1/display.tmp"
  echo -n `cat $1/name` '' >> "$1/display.tmp"
  if [ ! -d "$1/next" -o -r "$1/next/newline" ]; then
    echo -e "\33[0;${3}m\33[K" >> "$1/display.tmp"
  fi
  mv "$1/display.tmp" "$1/display"
}

error()
{
  echo "$*" >&2
  rm -f "$tmpfile"
  exit 1
}

valid_disk_name()
{
  case "$1" in
    */*) return 1 ;;
    *[0-9]) return 1 ;;
    [hs]d[a-z]*) return 0 ;;
    *) return 1 ;;
  esac
}

good_disk_name()
{
  read removable < "/sys/block/$1/removable" 2>/dev/null
  [ "$removable" = "0" ]
}

partition()
{
  # Environment variables:
  # DISKS
  # DESTROY

  # Number of partitions to create on each disk.
  # Each partition will be an LVM2 physical volume (PE).
  # We split each disk into multiple partitions/PEs because there is no way
  # to resize a PE once it has been created.  It would be very difficult
  # to make room for another OS later on if we used only one PV per disk.
  # Linux only allocates 15 minor numbers for SCSI disk partitions;
  # if 1 is primary, 2 is extended, and 5-15 are logical, then there is a
  # maximum of 12 usable partitions per disk.
  slices=8

  # LVM2 physical extent (PE) size, in megabytes.  This must be a power of two!
  # Once the volume group (VG) has been created, its PE size can't be changed.
  # The maximum logical volume (LV) size for the VG is about 64k times PE size.
  # A PE size of 32 MB gets you a maximum LV size of 2 terabytes, which is
  # the maximum allowed, so there is no point in using a value larger than 32.
  # Each partition must be large enough to fit at least one PE (plus overhead),
  # or it won't be very useful.
  # Since each PV stores data in multiples of the PE size, smaller values might
  # waste a bit less space, especially on smaller drives.
  pemegs=16

  # Number of megabytes to allocate to the /boot logical volume.
  # /boot needs to be on a separate LV because current versions of lilo
  # seem to panic if the LV spans multiple PVs (even if they're on the
  # same disk!), so we need a special LV that is explicitly restricted to
  # one PV.
  bootmegs=128

  # Number of megabytes to allocate for swap space.
  # This gets its own logical volume.
  swapmegs=1024

  # Percentage of the total space in the volume group to allocate to the
  # root logical volume we'll be creating.
  # Remaining space in the VG will be used for /boot, swap (if any),
  # by snapshots (for fsck or backups) and/or any other logical volumes
  # the user might decide to create later.
  lvpercent=80

  # Volume group name.  If we want to be able to coexist peacefully with an
  # existing Linux setup that also uses LVM, this shouldn't conflict with any
  # existing volume group names.
  vgname="toast"

  # Temporary file used to store munged parted output.
  tmpfile=/tmp/parted.munge.$$

  # get/validate list of disks
  if [ -n "$DISKS" ]; then
    for disk in $DISKS; do
      valid_disk_name "$disk" || error "bad disk name: $disk"
    done
  else
    while read major minor blocks name rest; do
      valid_disk_name "$name" && good_disk_name "$name" && DISKS="$DISKS $name"
    done < /proc/partitions
    [ -z "$DISKS" ] && error "no disks found"
  fi

  # check block device nodes for all disks
  for disk in $DISKS; do
    path="/dev/$disk"
    [ -b "$path" ] || error "not a block device: $path"
    [ -r "$path" ] || error "can't read disk: $disk"
    [ -w "$path" ] || error "can't write disk: $disk"
  done

  # create partitions
  pvpaths=""
  let pecount=0
  for disk in $DISKS; do
    path="/dev/$disk"
    parted="parted -s $path --"
    diskmajor=""
    diskminor=""
    totalm=""
    totalk=""
    overwrite=""
    lastminor=0
    extminor=0
    labeltype=""
    primary1exists=""
    primary2exists=""
    primary3exists=""
    primary4exists=""

    case "$disk" in
      h*) maxminor=63 ;; # IDE
      s*) maxminor=15 ;; # SCSI
      *) error "assertion failed: $disk"
    esac

    while read major minor blocks name rest; do
      if [ "$name" = "$disk" ]; then
        diskmajor="$major"
        diskminor="$minor"
        let totalm="$blocks/1024"
        let totalk="($blocks%1024)*1000/1024"
        case "$totalk" in
          [0-9]) totalk="00$totalk" ;;
          [1-9][0-9]) totalk="0$totalk" ;;
          [1-9][0-9][0-9]) ;;
          *) error "assertion failed: disk=$disk blocks=$blocks k=$totalk"
        esac
      fi
    done < /proc/partitions

    [ -z "$totalm" ] && error "assertion failed: disk=$disk totalm=$totalm"
    [ -z "$totalk" ] && error "assertion failed: disk=$disk totalk=$totalk"
    [ -z "$diskmajor" ] && error "assertion failed: no major for disk=$disk"
    [ -z "$diskminor" ] && error "assertion failed: no minor for disk=$disk"

    sum=bf619eac0cdf3f68d496ea9344137e8b # md5sum of 512 zero bytes

    if [ "$DESTROY" = "yes" ]; then
      echo "# Entire disk $disk will be overwritten unconditionally."
      overwrite="yes"
    elif dd if="$path" bs=512 count=1 2>/dev/null | md5sum | grep -q "$sum"; then
      echo "# Disk $disk appears to be empty; entire disk will be overwritten."
      overwrite="yes"
    else
      echo "# Contents of disk $disk may be accidentally destroyed."
      # TODO: tell user what partitions will go on this disk, if any
      $parted print | sed -e 's/0\.000-//; s/\./ /g' > "$tmpfile"
      while read one two three four five six rest; do
        if [ "$one $two $three" = "Disk geometry for" ]; then
          totalm="$five"
          totalk="$six"
        fi
        [ "$one $two $three" = "Disk label type:" ] && labeltype="$four"
        case "$one" in
          [0-9]*)
            [ "$one" -gt "$lastminor" ] && lastminor="$one"
            [ "$six" = "extended" ] && extminor="$one"
            [ "$six" = "primary" ] && eval "primary$one""exists=yes"
            ;;
        esac
      done < "$tmpfile"
      rm -f "$tmpfile"
    fi

    freeslot=0
    for slot in 4 3 2; do
      eval "[ -n \$primary$slot""exists ]" && freeslot="$slot"
    done

    if [ -n "$overwrite" ]; then
      lastminor=0
      extminor=0
      labeltype="msdos"
      echo "dd if=/dev/zero of=$path bs=512 count=1"
      echo "$parted mklabel $labeltype"
    fi

    if [ "$labeltype" = "msdos" ] && [ "$extminor" -gt 0 -o "$freeslot" -gt 0 ]; then
      let slicemegs="$totalm/$slices"
      [ "$slicemegs" -le "$pemegs" ] && slicemegs=$totalm
      let splitmegs="$slicemegs*2"
      lastm=0
      lastk=000
      {
        if [ -z "$overwrite" ]; then
          $parted print | grep "^[0-9]" | cut -c 3- | sort -n | sed -e 's/\./ /g'
        fi
        echo "$totalm $totalk END END END END END"
      } > "$tmpfile"
      while read startm startk endm endk type fs flags; do
        let gapmegs="($startm$startk-$lastm$lastk)/1000"
        create=yes
        while [ "$gapmegs" -gt "$pemegs" -a "$lastminor" -lt "$maxminor" -a -n "$create" ]; do
          if [ "$gapmegs" -gt "$splitmegs" ]; then
            let newendm="$lastm+$slicemegs"
            newendk="$lastk"
            let gapmegs="$gapmegs-$slicemegs"
          else
            newendm="$startm"
            newendk="$startk"
            gapmegs="0"
          fi
          let newminor="1+$lastminor"
          if [ "$newminor" -eq 1 ]; then
            newtype="primary"
          else
            newtype="logical"
            [ "$newminor" -le 4 ] && newminor=5
            if [ "$extminor" -eq 0 ]; then
              extminor="$freeslot"
              echo "$parted mkpart extended $lastm.$lastk -0"
              echo "$parted set $extminor lba on"
            fi
          fi
          echo "$parted mkpart $newtype ext2 $lastm.$lastk $newendm.$newendk"
          echo "$parted set $newminor lvm on"
          pvpaths="$pvpaths $path$newminor"
          let newpecount="($newendm$newendk-$lastm$lastk)/($pemegs*1000)"
          let pecount="$pecount+$newpecount"
          lastm="$newendm"
          lastk="$newendk"
          lastminor="$newminor"
        done
        lastm="$endm"
        lastk="$endk"
      done < "$tmpfile"
      rm -f "$tmpfile"
    fi
  done

  # create filesystems on the new partitions
  [ -z "$pvpaths" -o "$pecount" -eq 0 ] && error "no room for new partitions"
  let lvextents="$pecount*$lvpercent/100"
  echo "devices"
  for pvpath in $pvpaths; do
    echo "dd if=/dev/zero of=$pvpath bs=512 count=10"
  done
  echo "pvcreate -fy -M2 $pvpaths"
  echo "vgcreate -s $pemegs $vgname $pvpaths"
  echo "lvcreate -L "$bootmegs"m -n boot $vgname" # TODO: restrict to first PV
  echo "lvcreate -l $lvextents -n root $vgname"
  echo "lvcreate -L "$swapmegs"m -n swap $vgname"
  echo "vgchange -ay $vgname"
  for lvname in boot root; do
    lvpath="/dev/$vgname/$lvname"
    echo "parted -s $lvpath -- mklabel loop"
    echo "parted -s $lvpath -- mkpartfs primary ext2 0 -0"
    echo "tune2fs -j $lvpath"
  done
  echo "mount -t ext2 /dev/toast/root /mnt"
  echo "mkdir /mnt/boot"
  echo "mount -t ext2 /dev/toast/boot /mnt/boot"
  echo "mkswap /dev/$vgname/swap"
  echo "swapon /dev/toast/swap"

  # tell lilo where to install its boot sector
  for disk in `cd /sys/block && echo [hs]d[a-z]`; do
    [ -n "$BOOTDEV" ] && break
    [ "`cat /sys/block/$disk/removable 2>/dev/null`" = "0" ] && BOOTDEV="$disk"
  done
  [ -n "$BOOTDEV" ] && echo "ln -s \"$BOOTDEV\" /dev/boot # lilo boot device"
}

prepare()
{
  if [ "TOPDIR" = "." ]; then
    export TOASTINIT_NO_LILO=1
    echo "mkdir mnt mnt/boot mnt/lost+found" > tmp/partition
  else
    echo "0" > /proc/sys/kernel/printk
    echo ""
    echo "Figuring out how to (re)partition your disk(s):"
    partition > tmp/partition || return 1
    grep '^# ' tmp/partition
    echo -e "Press any key to abort.  \33[1;31mThis is your last chance!\33[0m"
    timeout 20 || exit 1
  fi

  echo -n "Preparing to install; please wait..."
  resize
  for i in `seq 1 $statuslines`; do echo; done
  let scroll="$LINES-$statuslines"

  sed 's/\#.*//' << "EOF" | grep . > tmp/tasks
partition 0 0 cn
rootfs 17468 596 cn
perl 9500 10345 c
toast 88 170 c
add 0 553 cn
wget 1312 766 
glibc 47632 152580 c sbin/toast build glibc
binutils 11280 9663 c
gcc 26832 15879 c sbin/toast --confappend="--enable-languages=c" arm gcc
glibc 0 143043 c sbin/toast arm glibc && sbin/toast rebuild glibc
binutils 0 10387 c sbin/toast rebuild binutils
gcc 0 96299 c sbin/toast rebuild gcc
make 920 1106 c
perl 0 12729 c
toast 0 42 c
gawk 1616 1319 c
coreutils 3884 3831 c
flex 664 766 
ncurses 2124 5619 
readline 960 681 
bash 2384 2980 c
sed 772 808 c
grep 568 681 
gzip 236 127 
tar 1076 1277 c
remove 0 425 c sbin/toast remove rootfs
openssl 2992 7237 
wget 0 1021 - sbin/toast rebuild wget
diffutils 784 1106 
bzip2 672 383 
zlib 444 255 
util-linux 1352 1873 
module-init-tools 140 766 
gettext 6428 8855 
procps 292 596 
patch 204 340 
findutils 780 1362 
sysvinit 112 170 
sysklogd 116 127 
linux 33936 21712 
device-mapper 648 340 
LVM2 452 1702 
bin86 168 212 
nasm 556 723 
lilo 436 340 
e2fsprogs 3100 1915 
udev 372 255 
genext2fs 48 85 
toastinit 24 127 
toastlogin 24 0 
iana-etc 180 42 
zsh 2012 3788 
net-tools 220 425 
wireless-tools 128 321
dhcpcd 168 298 
openssh 856 2894 
vim 3216 2639 
inetutils 1040 2043 
less 280 510 
parted 1408 1660 
groff 2380 3065 
man 220 170 
man-pages 1776 255 
texinfo 1868 1404 
cpio 204 212 
hdparm 56 127 
m4 332 255 
bison 816 1192 
autoconf 1228 298 
automake 856 255 
file 428 723 
libtool 2612 1064 
kbd 888 468 
ed 204 255 
pkgconfig 500 1447 
tetex 11504 13793 
Python 7056 6343 
db 5812 6641 - LDFLAGS=-lpthread sbin/toast arm db # for postfix 2.1.5
gdbm 244 681 
bind 4476 4640 
autofs 144 255 
curl 1124 2554 
figlet 192 85 
adns 232 681 
gc 756 1149 
genromfs 40 85 
gmp 1664 5534 
httpd 6788 6811 
libelf 152 766 
ltrace 140 298
strace 432 851 
minicom 616 936 
bc 296 298 
miscfiles 2176 127 
mtools 280 979 
mtr 112 298 
gnupg 2344 2596 
mutt 2572 1788 
nmap 1248 3278 
ntp 2476 2682 
ocaml 2024 5491 
pciutils 128 170 
postfix 1948 1745 
procmail 244 979 
vsftpd 164 212 
rcs 424 766 
samba 14860 12984 
smartmontools 192 0 
valgrind 964
zip 728 255 
unzip 1108 425 
popt 584 766 
pcre 364 638 
subversion 6008 12303 
cdrtools 1624 2809 
libogg 300 553 
libvorbis 1212 1660 
lame 1248 2554 
jpeg 620 766 
libpng 392 979 
libtiff 1068 766 
netpbm 2060 5066 
alsa-lib 576 2426 
alsa-utils 160 553 
#alsa-tools 740 # contains many independent subdirs; toast chokes on it
libmng 520 2256 
eject 68
units 224 170 
espgs 5304 7577 
cvs 2344 2256 
gale 396 2426 - LIBS=-ldl sbin/toast arm gale
ExtUtils-Depends 28 42 
ExtUtils-PkgConfig 24 42 
libxml2 2740 6896 
libxslt 1748 2426 
OpenSP 1412 11452 
openjade 1056 9110 
docbook-xml 104 0 
docbook-xsl 1528 85 
XML-Parser 248 212 
X 53032 78546 
doctools 1400 298 
fvwm 1380 3831 
lua 208 340 
ion 412 1830 
xscreensaver 4288 6598 
xdaliclock 204 298 
freetype 852 1788 
t1lib 1516
xpdf 544 2000 
lesstif 3404 6854 
SDL 2564 5023 
xine-lib 7212
xine-ui 2572
cdparanoia 136
glib 2120 3490 
libIDL 340 1277 
ORBit2 672 4640 
intltool 144 170 
libbonobo 1448 4895 
pango 952 2809 
atk 512 1064 
gtk+ 9408 15496 
mozilla 29072 99151 
GConf 1712 2937 
desktop-file-utils 356 596 
gnome-mime-data 660 425 
gnome-vfs 1840 9280 
audiofile 296 1873 
esound 332 894 
libgnome 1160 1575 
libart_lgpl 280 1192 
libglade 324 936 
libgnomecanvas 588 1745 
libbonoboui 968 5832 
hicolor-icon-theme 48 85 
gnome-icon-theme 2824 1788 
gnome-keyring 360 1021 
libgnomeui 1608 4895 
startup-notification 244 723 
gtk-engines 416 681 
gnome-themes 2680 4001 
scrollkeeper 556 1362 
gnome-desktop 1112 1575 
libwnck 404 1830 
libsoup 416 1660 
evolution-data-server 4924 13325 
gnome-panel 3152 5406 
gnome-session 872 1915 
vte 888
gnome-terminal 2040
libgtop 1032 2894 
gail 560 3703 
libxklavier 312
gnome-applets 6280
metacity 2140 3192 
librsvg 376 2298 
eel 624 3192 
nautilus 5668 9834 
libgtkhtml 440 5491 
yelp 644 1362 
bug-buddy 716 766 
libgnomeprint 756 3490 
libgnomeprintui 588 1915 
gtksourceview 696 1319 
gedit 2444 3874 
eog 808 1404 
ggv 1272 2469 
gconf-editor 516 936 
gnome-utils 1720 1915 
gstreamer 1376 8769 
gst-plugins 1980 15879 
gnome-media 3120 4640 
nautilus-media 432 1830 
gnome-netstatus 504 1021 
gcalctool 908 1192 
gpdf 1044 3788 
gucharmap 1468 1702 
nautilus-cd-burner 524 1277 
zenity 732 596 
at-spi 516 3618 
libgail-gnome 160 808 
gnome-speech 272 851 
gnome-mag 324 1064 
gnopernicus 1788 4342 
gok 1220 3703 
epiphany 3324
gnome-games 5812 6556 
file-roller 1368 2426 
gnome-system-tools 2676 2639 
gnome-nettool 516 1064 
vino 536 1702 
dbus 1240 2724 
libcap 32
hal 1300
gnome-volume-manager 200
gal 1140 8812 
gtkhtml 1308 8514 
evolution 14672
evolution-webcal 156 425 
pwlib 1080
gnomemeeting 2892
libsigc++ 1404 2767 
glibmm 812 3959 
gtkmm 3864 47553 
libgnomemm 260 979 
libgnomecanvasmm 328 4299 
libglademm 508 2086 
gconfmm 276 1617 
gnome-vfsmm 332 3405 
libgnomeuimm 332 7705 
#libgtk-java 460 # needs java
#libgconf-java 76 # needs java
#libglade-java 92 # needs java
#libgnome-java 176 # needs java
Glib 220 510 
Gtk2 560 6002 
Gnome2-Canvas 84 340 
Gnome2-VFS 64 510 
Gnome2-GConf 44 255 
Gnome2 100 2086 
Gtk2-GladeXML 48 127 
pygtk 636 2724 
qt 14124 132145
arts 968 13367 
kdelibs 15296 133677 
kdebase 19568 138445 
kde-i18n 190996 63262 
kdeaccessibility 1236 5747 
kdeadmin 1544 19327 
kdeartwork 17600 14517 
kdebindings 6996 111454 
kdeedu 21600 72671 
kdegames 9152 46574 
kdegraphics 6120 58835 
kdemultimedia 5288 77992 
kdenetwork 6828 78631 
kdepim 9792 147641 
kdesdk 4288
kdetoys 2720 7194 
kdeutils 2180 38868 
kdevelop 7796 114349 
kdewebdev 4716 64284 
kdeaddons 1548 30609 
firefox 31976
xmms 2384
gimp 13520
gkrellm 656 1660 
EOF

  cddir="media/cdrom/toast-linux"
  mkdir -p "$numdir" "$namedir"
  i=0
  line=""
  prev=""
  while read name size time flags icmd; do
    [ "$size" = "0" -a "$time" != "0" -a -d "$cddir" ] && continue
    line="$line $name "
    if echo "$line" | egrep -q "..{$COLUMNS}"; then
      newline=1
      line=" $name "
      echo ""
      let scroll="$scroll-1"
    else
      newline=""
    fi
    echo -n " $name "

    let i="$i+1"
    num="`printf %08d $i`"
    dir="$numdir/$num"
    ddir="$dir/download"
    idir="$dir/install"

    precompiled="$cddir/$name.tar.bz2"
    if [ -r "$precompiled" ]; then
      size="0"
      time="`du $precompiled | cut -f1`"
      icmd="if [ -x mnt/bin/bzip2 ]; then chroot mnt tar xj; else tar xj -C mnt; fi < $precompiled && if [ -h mnt/bin/toast ]; then sbin/toast arm $name; else true; fi"
    else
      precompiled=""
    fi

    mkdir "$dir" "$ddir" "$idir"
    echo "$num" > "$dir/num"
    echo "$name" > "$dir/name"
    [ -n "$size" ] || size=1000 # guess about one megabyte of source
    echo "$size" > "$ddir/estimate"
    [ -n "$time" ] || time=10000 # XXX replace with better estimate
    echo "$time" > "$idir/estimate"
    case "$flags" in *c*) : > "$dir/critical";; esac
    case "$flags" in *n*) : > "$idir/nonrepresentative";; esac
    [ -n "$newline" ] && : > "$dir/newline"

    if [ "$size" = "0" ]; then
      dcmd="echo no download necessary"
      : > "$ddir/precondition"
    else
      dcmd="exec sbin/toast get $name"
      ln -s "../../../name/wget/install/time" "$ddir/precondition"
    fi
    ln -s "../../../../../mnt/toast/pkg/$name" "$ddir/progress"
    echo -e "#!/bin/sh\12$dcmd" > "$ddir/command"
    chmod +x "$ddir/command"

    [ -n "$icmd" ] || icmd="exec sbin/toast arm $name"
    echo -e "#!/bin/sh\12$icmd" > "$idir/command"
    chmod +x "$idir/command"
    ln -s "../download/time" "$idir/precondition"
    ln -s "../download/failed" "$idir/skip"

    if [ ! -d "$namedir/$name" ]; then
      ln -s "../num/$num" "$namedir/$name"
    else
      let suffix=2
      while [ -d "$namedir/$name.$suffix" ]; do let suffix="1+$suffix"; done
      ln -s "../num/$num" "$namedir/$name.$suffix"
    fi

    if [ -n "$prev" ]; then
      ln -s "../$prev" "$dir/prev"
      ln -s "../$num" "$dir/prev/next"
    fi
    prev="$num"
  done < tmp/tasks

  for i in `seq 2 $scroll`; do echo; done
  echo -ne "\33[H\33[${statuslines}B"

  for dir in "$numdir/"*; do
    refresh "$dir" "$color_pending" "$color_pending"
    cat "$dir/display"
  done

  # special commands:

  echo "#!/bin/sh -ex" > "$namedir/partition/install/command"
  cat tmp/partition >> "$namedir/partition/install/command"
  rm tmp/partition

  ln -sf "../../../name/partition/install/time" "$namedir/rootfs/download/precondition"
  cat > "$namedir/rootfs/install/command" << "EOF"
#!/bin/sh -ex

for i in boot dev dev/pts etc/dhcpc etc/xml home media/floppy media/cdrom mnt proc root sys toast tmp usr/bin var/empty var/lock var/run var/log var/spool/mail; do
  mkdir -p "mnt/$i"
done
chmod 1777 "mnt/tmp"

if grep -q '[^b]devfs' /proc/filesystems; then
  mount -t devfs dev mnt/dev
elif [ -d dev ]; then
  tar -c -C / dev | tar -x -C mnt
  chmod go-w mnt/dev
else
  mknod mnt/dev/null c 1 3
  mknod mnt/dev/zero c 1 5
  mknod mnt/dev/random c 1 8
  mknod mnt/dev/urandom c 1 9
  chmod 666 mnt/dev/null
fi

for i in bin lib sbin; do ln -sf "usr/$i" "mnt/$i"; done
cp /etc/resolv.conf mnt/etc/
[ -r /etc/TZ -a -z "$TZ" ] && TZ="`cat /etc/TZ`"
[ -z "$TZ" ] && TZ="PST8PDT"
ln -s "../usr/share/zoneinfo/$TZ" mnt/etc/localtime
ln -s "../../usr/etc/xml/toast-xml-catalog" mnt/etc/xml/catalog
ln -s bash mnt/bin/sh
ln -s gcc mnt/bin/cc
echo "/lib" > mnt/etc/ld.so.conf

cat > mnt/etc/passwd << 'END'
root:x:0:0:root:/root:/bin/zsh
bin:x:1:1:bin:/bin:/bin/false
daemon:x:2:2:daemon:/sbin:/bin/false
adm:x:3:4:adm:/var/adm:/bin/false
lp:x:4:7:lp:/var/spool/lpd:/bin/false
sync:x:5:0:sync:/sbin:/bin/sync
shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
halt:x:7:0:halt:/sbin:/sbin/halt
mail:x:8:12:mail:/var/spool/mail:/bin/false
news:x:9:13:news:/var/spool/news:/bin/false
uucp:x:10:14:uucp:/var/spool/uucp:/bin/false
operator:x:11:0:operator:/root:/bin/false
games:x:12:100:games:/usr/games:/bin/false
ftp:x:14:50:FTP User:/home/ftp:/bin/false
toast:x:42:42:toast:/toast:/bin/zsh
nobody:x:99:99:nobody:/:/bin/false
END

cat > mnt/etc/group << 'END'
root:x:0:root
bin:x:1:bin
daemon:x:2:daemon
sys:x:3:sys
adm:x:4:adm
tty:x:5:
disk:x:6:
lp:x:7:lp
mem:x:8:
kmem:x:9:
wheel:x:10:
mail:x:12:mail
news:x:13:news
uucp:x:14:uucp
man:x:15:
floppy:x:19:
games:x:20:games
slocate:x:21:
utmp:x:22:
squid:x:23:
gopher:x:30:
toast:x:42:toast
ftp:x:50:
nobody:x:99:
users:x:100:
nofiles:x:65533:
END

[ -z "$USERS" ] && USERS=user
USERS="`echo \"$USERS\" | sed -e 's/[^a-z0-9]/ /g; s/^  *//; s/  *$//'`"
uid=500
for i in $USERS; do
  echo "$i:x:$uid:$uid:$i:/home/$i:/bin/zsh" >> mnt/etc/passwd
  echo "$i:x:$uid:" >> mnt/etc/group
  [ -r mnt/etc/user ] || echo $i > mnt/etc/user
  mkdir "mnt/home/$i"
  chown $uid.$uid "mnt/home/$i"
  let uid="1+$uid"
done

mount -t proc proc mnt/proc
mount -t sysfs sys mnt/sys
EOF

  if [ -d "$cddir" ]; then
    cat > "$namedir/rootfs/download/command" << "EOF"
#!/bin/sh
echo "CD install detected; skipping"
EOF
    echo "0" > "$namedir/rootfs/download/estimate"
    cat >> "$namedir/glibc/install/command" << "EOF"
lib="/`cd mnt && echo toast/pkg/glibc/*/*/root/lib`"
perl="/`cd mnt && echo toast/pkg/perl/*/*/root/bin/perl`"
toast="/`cd mnt && echo toast/pkg/toast/*/*/root/bin/toast`"
export LD_LIBRARY_PATH="$lib"
export TOAST_ARMDIR=/usr
exec chroot mnt "$lib/ld-linux.so.2" "$perl" -x "$toast" arm glibc perl wget toast
EOF
    return 0
  fi

  cat >> "$namedir/rootfs/install/command" << "EOF"

bunzip2 mnt/toast/pkg/rootfs/v0/archive/*
mount -t ext2 -o loop mnt/toast/pkg/rootfs/v0/archive/* mnt/mnt
mkdir -p mnt/toast/pkg/rootfs/v0/1/root
tar -c -C mnt/mnt . | tar -x -C mnt/toast/pkg/rootfs/v0/1/root
umount mnt/mnt
rm -fr mnt/toast/pkg/rootfs/v0/archive
chmod -R 755 mnt/toast/pkg/rootfs/v0/1/root
cat > mnt/toast/pkg/rootfs/v0/1/root/usr/include/libintl.h << EOH
/* need this for linux/scripts/kconfig/conf.c for glibc */
#ifndef gettext
#define gettext(x) (x)
#endif
EOH
EOF

  cat > "$namedir/rootfs/download/command" << "EOF"
#!/bin/sh -ex
if [ "`cd mnt; echo *`" != "boot lost+found" ]; then
  echo "unexpected filesystem contents" >&2
  exit 1
fi
mkdir -p mnt/toast/pkg/rootfs/v0/archive
cd mnt/toast/pkg/rootfs/v0/archive
wget http://www.kernel.org/pub/linux/libs/uclibc/root_fs_i386.ext2.bz2
EOF

  cat > "$namedir/perl/download/command" << "EOF"
#!/bin/sh -ex
version=5.8.6
url=http://www.cpan.org/src/5.0/perl-$version.tar.bz2
adir=mnt/toast/pkg/perl/v$version/archive
set -e
mkdir -p "$adir"
cd "$adir"
echo "$url" > ../url
wget "$url"
EOF
  ln -sf . "$namedir/perl/download/precondition"
  cat > "$namedir/perl/install/command" << "EOF"
#!/bin/sh -ex
bdir="mnt/toast/pkg/rootfs/v0/1"
ln mnt/toast/pkg/perl/*/archive/* "$bdir/root/tmp/"
chroot "$bdir/root" sh -ex << "END" | tee "$bdir/build.log"
cd /tmp
tar xjf perl-*.tar.bz2
rm -f perl-*.tar.bz2 /usr/lib/*.so
cd perl-*
sh Configure -des -Dprefix=/usr -Dextensions="Errno File/Glob" -Uusevfork -Uuseperlio -Uusefaststdio -Uusenm -Uusedl -Uuselargefiles -Dldflags=-static
make all install
rm -f /usr/bin/cc
END
EOF

  cat > "$namedir/toast/download/command" << "EOF"
#!/bin/sh -ex
mkdir -p mnt/toast/pkg/toast/vlatest/archive
cd mnt/toast/pkg/toast/vlatest/archive
wget http://toastball.net/toast/toast.tar.gz
EOF
  ln -sf . "$namedir/toast/download/precondition"
  cat > "$namedir/toast/install/command" << "EOF"
#!/bin/sh -ex
export TOAST_ARMDIR=/usr TOAST_PRELOAD=false
rdir="/toast/pkg/rootfs/v0/1/root"
tar xzf mnt/toast/pkg/toast/vlatest/archive/toast.tar.gz -C "mnt$rdir/tmp/"
ln mnt$rdir/tmp/toast-*/toast mnt$rdir/bin/
chroot mnt "$rdir/usr/bin/perl" -x "$rdir/bin/toast" arm rootfs
version="`toast version | cut -c 7-`"
sbin/toast rename toast/latest "toast/$version"
sbin/toast change "http://toastball.net/toast/toast-$version.tar.gz"
EOF

  cat > "$namedir/add/install/command" << "EOF"
#!/bin/sh

# create /root/linux-XXX-config.tar.gz
dir="linux-2.6.14.3"
ver=2.6.14.3
mkdir -p "mnt/tmp/$dir"
on="false"
while read x; do
  case "$x" in "--- FILE"*) on="false";; esac
  $on && echo "$x" >> "mnt/tmp/$dir/.config"
  case "$x" in "--- FILE linux-config-target ---") on="true";; esac
done < configure
if [ ! -s "mnt/tmp/$dir/.config" ]; then
  echo "uh-oh..."
  ls -l mnt/tmp/$dir/.config
  exit 1
fi
chroot mnt tar czf "/root/$dir-config.tar.gz" -C /tmp "$dir" || exit $?
rm -fr "mnt/tmp/$dir"

sed 's/\#.*//' << "END" | grep . | while read x; do sbin/toast add $x; done

# oddball essentials:

# URLs for glibc are in glibc/download/command script

[ http://kernel.org/pub/linux/kernel/v2.6/linux-2.6.14.3.tar.bz2 /root/linux-2.6.14.3-config.tar.gz ]

lilo/22.6.1-devmapper: [ http://home.san.rr.com/johninsd/pub/linux/lilo/obsolete/lilo-22.6.1.src.tar.gz http://www.saout.de/misc/lilo-22.6.1-devmapper.patch ]
# http://home.san.rr.com/johninsd/pub/linux/lilo/

sysklogd/1.4.1: [ http://www.infodrom.org/projects/sysklogd/download/sysklogd-1.4.1.tar.gz http://ep09.pld-linux.org/~mmazur/linux-libc-headers/patches/sysklogd.patch ]
# http://mirrors.angelinacounty.net/pub/lfs/lfs-packages/testing/sysklogd-1.4.1-kernel_headers-1.patch

[ http://www.tazenda.demon.co.uk/phil/net-tools/net-tools-1.60.tar.bz2 http://toastball.net/toast-linux-tmp/net-tools-1.60-toast.patch ]

# other required packages:
http://ftp.gnu.org/gnu/gcc/gcc-4.0.2/gcc-4.0.2.tar.bz2
http://prdownloads.sourceforge.net/e2fsprogs/e2fsprogs-1.38.tar.gz
http://prdownloads.sourceforge.net/nasm/nasm-0.98.39.tar.bz2
http://toastball.net/toast/init/
http://toastball.net/toast/login/

# tricky optional packages:
http://prdownloads.sourceforge.net/lex/flex-2.5.27.tar.bz2 # flex 2.5.31 is broken and can't build XFree86 4.4.0, for instance
[ http://prdownloads.sourceforge.net/openjade/OpenSP-1.5.1.tar.gz http://toastball.net/toast-linux-tmp/OpenSP-1.5.1-gcc34-2.patch ]
adns/1.1: [ ftp://ftp.chiark.greenend.org.uk/users/ian/adns/adns-1.1.tar.gz http://www.bytebot.net/rrjcode/adns-ppc.patch ]

# KDE
http://mirrors.ibiblio.org/pub/mirrors/kde/stable/3.4.3/src/

# GNOME
http://ftp.gnome.org/pub/GNOME/bindings/2.12/2.12.1/sources/c++/
#http://ftp.gnome.org/pub/GNOME/bindings/2.12/2.12.1/sources/java/ # needs java
http://ftp.gnome.org/pub/GNOME/bindings/2.12/2.12.1/sources/perl/
http://ftp.gnome.org/pub/GNOME/bindings/2.12/2.12.1/sources/python/
http://ftp.gnome.org/pub/GNOME/desktop/2.12/2.12.1/sources/
http://ftp.gnome.org/pub/GNOME/platform/2.12/2.12.1/sources/

# additional GNOMEy-looking stuff
http://freedesktop.org/software/desktop-file-utils/releases/
http://freedesktop.org/software/icon-theme/releases/hicolor-icon-theme-0.5.tar.gz
http://freedesktop.org/software/shared-mime-info/shared-mime-info-0.15.tar.gz
http://freedesktop.org/~david/dist/ # hal
http://ftp.gnome.org/pub/GNOME/sources/gal/2.1/gal-2.1.7.tar.bz2
http://ftp.gnome.org/pub/GNOME/sources/libcroco/0.5/libcroco-0.5.0.tar.bz2
http://www.openh323.org/bin/pwlib_1.5.2.tar.gz

# everything else:
ftp://ftp.berlios.de/pub/cdrecord/cdrtools-2.00.3.tar.gz
ftp://ftp.foolabs.com/pub/xpdf/t1lib-5.1.0.tar.gz
ftp://ftp.isc.org/isc/bind9/9.3.1/bind-9.3.1.tar.gz
ftp://ftp.uu.net/graphics/jpeg/jpegsrc.v6b.tar.gz
http://alioth.debian.org/download.php/123/minicom-2.1.tar.gz
http://curl.haxx.se/download/curl-7.15.0.tar.bz2
http://download.ofb.net/gale/gale-0.99fruit.tar.bz2
http://ftp.gnu.org/non-gnu/cvs/
http://ftp.mozilla.org/pub/mozilla.org/mozilla/releases/mozilla1.7.5/source/mozilla-source-1.7.5.tar.bz2
http://kernel.org/pub/linux/libs/security/linux-privs/kernel-2.4/libcap-1.10.tar.bz2
http://prdownloads.sourceforge.net/docbook/docbook-xsl-1.69.1.tar.gz
http://prdownloads.sourceforge.net/espgs/espgs-7.07.1-source.tar.bz2
http://prdownloads.sourceforge.net/xine/xine-lib-1.1.1.tar.gz
http://prdownloads.sourceforge.net/xine/xine-ui-0.99.4.tar.gz
http://tug.ctan.org/tex-archive/systems/unix/teTeX/current/distrib/
http://www.alsa-project.org/alsa/ftp/lib/
http://www.alsa-project.org/alsa/ftp/tools/
http://www.alsa-project.org/alsa/ftp/utils/
http://www.apache.org/dist/httpd/httpd-2.0.55.tar.bz2
http://www.docbook.org/xml/4.3/docbook-xml-4.3.zip
http://www.procmail.org/procmail-3.22.tar.gz
http://www.python.org/ftp/python/2.4.2/Python-2.4.2.tar.bz2
http://www.vorbis.com/files/1.0.1/unix/libogg-1.1.tar.gz
http://www.vorbis.com/files/1.0.1/unix/libvorbis-1.0.1.tar.gz
http://xorg.freedesktop.org/X11R6.8.2/src-single/X11R6.8.2-src.tar.bz2
END
EOF

  cat > "$namedir/wget/download/command" << "EOF"
#!/bin/sh -ex
version="1.9.1"
url="http://ftp.gnu.org/gnu/wget/wget-$version.tar.gz"
dir="mnt/toast/pkg/wget/v$version/archive"
mkdir -p "$dir"
cd "$dir"
echo "$url" > ../url
wget "$url"
EOF
  ln -sf . "$namedir/wget/download/precondition"

  cat > "$namedir/glibc/download/command" << "EOF"
#!/bin/sh -ex
dir="mnt/toast/pkg/glibc/v2.3.6/archive"
mkdir -p "$dir"
cd "$dir"
cat > ../url << 'ENDURL'
http://ftp.gnu.org/gnu/glibc/glibc-2.3.6.tar.bz2
http://ftp.gnu.org/gnu/glibc/glibc-libidn-2.3.6.tar.bz2
http://kernel.org/pub/linux/kernel/v2.6/linux-2.6.14.3.tar.bz2
ENDURL
for url in `cat ../url`; do wget "$url"; done
EOF
}

run()
{
  act="$1"
  color_pre="$2"
  color_skip="$3"
  color_working="$4"
  color_ok="$5"
  color_failed="$6"
  link="$topdir/current-$act"

  let top="1+$statuslines"
  let bottom="$LINES-1"
  [ "TOPDIR" = "." ] || echo -ne "\33[0m\33[$bottom;999H\33[1J\33[$top;${bottom}r\33[$top;1H"

  echo "preparing to $act"

  done_estimated="0"
  done_actual="0"
  remaining_estimated="0"

  for i in `echo $numdir/*/$act/estimate`; do
    let remaining_estimated="$remaining_estimated+`cat $i`"
  done

  for dir in `echo $numdir/*`; do
    adir="$dir/$act"
    name="`cat $dir/name`"
    estimate="`cat $adir/estimate`"
    cmd="$adir/command"
    failed=""

    precond="$adir/precondition"
    if [ ! -r "$precond" ]; then
      echo -n "waiting to $act $name... "
      while [ ! -r "$precond" -a ! -r "$ffile" ]; do sleep 1; done
      echo "done waiting"
      [ -r "$ffile" ] && break
    fi

    if [ -r "$adir/skip" ]; then
      echo "unable to $act $name"
      refresh "$dir" "$color_skip" "$color_ok"
      end="`date +'%s'`"
    else
      start="`date +'%s'`"
      echo "$act $name"
      echo "$start" > "$adir/start"
      if [ "$done_estimated" -gt "0" ]; then
        let aeta="$start+($estimate*$done_actual/$done_estimated)"
        echo "$aeta" > "$adir/eta"
      fi
      ln -s "../../$dir" "$link"
      refresh "$dir" "$color_working" "$color_pre"
      : > "$efile"

      "$cmd" || failed="1"
      end="`date +'%s'`"
      rm -f "$link"
      let elapsed="$end-$start"
      if [ -n "$failed" ]; then
        refresh "$dir" "$color_failed" "$color_ok"
        : > "$adir/failed"
      else
        refresh "$dir" "$color_ok" "$color_ok"
        if [ ! -r "$adir/nonrepresentative" ]; then
          let done_estimated="$done_estimated+$estimate"
          let done_actual="$done_actual+$elapsed"
        fi
      fi
      echo "$elapsed" > "$adir/time"
    fi

    let remaining_estimated="$remaining_estimated-$estimate"
    if [ "$done_estimated" -gt "0" ]; then
      let eta="$end+($remaining_estimated*$done_actual/$done_estimated)"
      echo "$eta" > "$topdir/$act-eta.tmp"
      mv "$topdir/$act-eta.tmp" "$topdir/$act-eta"
    fi
    [ -n "$failed" -a -r "$dir/critical" ] && : > "$ffile"
    : > "$efile"

    [ -r "$ffile" ] && break
  done

  if [ -r "$ffile" ]; then
    echo "$act process aborted"
  else
    date +'%s' > "$topdir/$act-eta.tmp"
    mv "$topdir/$act-eta.tmp" "$topdir/$act-eta"
    echo "$act process completed"
  fi
  : > "$efile"
}

fkeys()
{
  if [ "TOPDIR" = "." ]; then
    [ "$1" = "1" ] && echo -ne "\33[$LINES;1H\33[0;${color_fkey}m See download.log and install.log for details.\33[K\33[0m\33[H"
    return 0
  fi

  echo -ne "\33[$LINES;1H"
  i=1
  for label in overview install download shell; do
    if [ "$i" = "$1" ]; then
      color="$color_fkey_selected"
    else
      color="$color_fkey"
    fi
    echo -ne "\33[0;${color}m Alt-F$i $label "
    let i="$i+1"
  done
  echo -ne "\33[0;${color_fkey_eol}m\33[K\33[0m\33[H"
}

download()
{
  fkeys 3
  run download "$color_pending" "$color_missing" "$color_getting" "$color_stored" "$color_missing"
}

install()
{
  fkeys 2
  run install "$color_stored" "$color_missing" "$color_building" "$color_done" "$color_broken"
}

shell()
{
  save="`stty -g`"
  while true; do
    stty "$save"
    echo -ne '\33c'
    help
    sh --login
  done
}

hms()
{
  eval "n=\"\$$1\""
  if [ -z "$n" ]; then
    hms="?:??:??"
  elif [ "$n" -le "0" ]; then
    hms="0:00:00"
  else
    let h="$n/3600"
    let m="$n/60%60"
    let s="$n%60"
    hms="`printf '%d:%02d:%02d' $h $m $s`"
  fi
  eval "${1}_hms=\"\$hms\""
}

bar()
{
  let c="$3*2"
  if [ -z "$1" -o -z "$2" ] || [ "$2" -le 0 ]; then
    a="0"
    percent="0"
  else
    let percent="$1*100/$2"
    let a="$1*$c/$2"
    [ "$a" -gt "$c" ] && a="$c"
  fi
  eval "bar=\"\$barcache_${a}_$c\""
  if [ -z "$bar" ]; then
    let d="$a/2"
    let e="$d*2"
    if [ "$d" = "$e" ]; then
      let b="$3-$d"
      h=""
    else
      let b="$3-$d-1"
      h=1
    fi
    bar="\33[0;${color_bar}m"
    [ "$d" -gt 0 ] && for i in `seq 1 $d`; do bar="$bar$char_solid_block"; done
    [ -n "$h" ] && bar="$bar$char_half_block"
    [ "$b" -gt 0 ] && for i in `seq 1 $b`; do bar="$bar "; done
    eval "barcache_${a}_$c=\"\$bar\""
  fi
}

status()
{
  save="`stty -g`"
  stty -echo
  echo -ne '\33[?25l' # hide the cursor
  echo -ne '\33[9;0]' # disable screen blanking

  if "$1"; then
    for i in `seq 2 8`; do
      dev="/dev/vcsa$i"
      [ -c "$dev" ] || { let minor=128+$i; mknod "$dev" c 7 "$minor"; }
    done
    let ddcount="$statuslines*$COLUMNS"
  fi

  let total="`ls $numdir | wc -l`"

  fkeys 1
  echo -ne "\33[${statuslines}B"

  overall_start="`date +'%s'`"

  while ! [ -r "$ffile" ]; do
    : > "$ufile"

    getting_num="`cat $topdir/current-download/num 2>/dev/null`"
    building_num="`cat $topdir/current-install/num 2>/dev/null`"
    getting_name="`cat $numdir/$getting_num/name 2>/dev/null`"
    building_name="`cat $numdir/$building_num/name 2>/dev/null`"

    store_eta="`cat $topdir/download-eta 2>/dev/null`"
    build_eta="`cat $topdir/install-eta 2>/dev/null`"
    if [ -z "$store_eta" -o -z "$build_eta" ]; then
      overall_eta=""
    elif [ "$store_eta" -gt "$build_eta" ]; then
      overall_eta="$store_eta"
    else
      overall_eta="$build_eta"
    fi

    let storecount="`ls $numdir/*/download/time 2>/dev/null | wc -l`"
    let buildcount="`ls $numdir/*/install/time 2>/dev/null | wc -l`"
    let missing="`ls $numdir/*/download/failed 2>/dev/null | wc -l`"
    let broken="`ls $numdir/*/install/failed 2>/dev/null | wc -l`"
    if [ -n "$building_name" ]; then building=1; else building=0; fi
    if [ -n "$getting_name" ]; then getting=1; else getting=0; fi
    let pending="$total-$storecount-$getting"
    let done="$buildcount-$broken"
    let stored="$storecount-$buildcount-$building-$missing"

    o="\33[H\33[0;${color_stats}m `printf '%-12s' \"$total tasks:\"`"
    for i in done broken missing stored pending; do
      eval "color=\"\$color_$i\"; n=\"\$$i\""
      [ "$n" = "0" ] || o="$o\33[0;${color}m $n $i "
    done
    o="$o\33[0;${color_stats}m\33[K\12\12\12\12\12\33[0m"

    echo -ne "$o"
    cat $numdir/*/display

    while :; do
      let now="`date +%s`"

      let elapsed="$now-$overall_start"
      if [ -z "$overall_eta" ]; then
        remain=""
        totaltime=""
      else
        let remain="$overall_eta-$now"
        [ "$remain" -lt 1 ] && remain="1"
        let totaltime="$elapsed+$remain"
      fi
      hms elapsed
      hms remain
      hms totaltime

      o="\33[2;1H"

      o="$o\33[0;${color_stats}m"
      if [ -n "$building_num" ]; then
        let start="`cat $numdir/$building_num/install/start`"
        let lcur="$now-$start"
        eta="`cat $numdir/$building_num/install/eta 2>/dev/null`"
        if [ -n "$eta" ]; then
          let lmax="$eta-$start"
        else
          lmax=""
        fi
        hms lcur
        hms lmax
        bar "$lcur" "$lmax" 20
        o="$o\33[0;${color_stats}m installing  \33[0;${color_building}m `printf '%-29.29s%9s%9s%4.4s' $building_name' \33[0;@@m' $lcur_hms $lmax_hms $percent | sed -e s/@@/$color_stats/`% $bar\33[0;${color_stats}m"
      fi
      o="$o\33[K\12"
      if [ -n "$getting_num" ]; then
        current="`du -sL $numdir/$getting_num/download/progress 2>/dev/null | cut -f1`"
        max="`cat $numdir/$getting_num/download/estimate`"
        bar "$current" "$max" 20
        let start="`cat $numdir/$getting_num/download/start`"
        let lcur="$now-$start"
        eta="`cat $numdir/$getting_num/download/eta 2>/dev/null`"
        if [ -n "$eta" ]; then
          let lmax="$eta-$start"
        elif [ -n "$current" -a -n "$max" -a "$current" -gt 0 ]; then
          let lmax="$lcur*$max/$current"
        else
          lmax=""
        fi
        hms lcur
        hms lmax
        o="$o\33[0;${color_stats}m downloading \33[0;${color_getting}m `printf '%-29.29s%9s%9s%4.4s' $getting_name' \33[0;@@m' $lcur_hms $lmax_hms $percent | sed -e s/@@/$color_stats/`% $bar\33[0;${color_stats}m"
      fi
      o="$o\33[K\12"

      bar "$elapsed" "$totaltime" "$COLUMNS"
      o="$o\33[0;${color_stats}m $totaltime_hms estimated total time; $elapsed_hms elapsed; $remain_hms left; $percent% complete\33[K\12$bar\12\33[0m"

      echo -ne "$o"

      if "$1"; then
        for i in 2 3; do
          dd if=/dev/vcsa1 of="/dev/vcsa$i" bs=2 count="$ddcount" skip=2 seek=2 2>/dev/null
        done
      fi

      [ "$ufile" -nt "$efile" ] || break
      sleep 3
      [ "$ufile" -nt "$efile" ] || break

      if [ "$building_name/$getting_name/$pending/$stored" = "//0/0" ]; then
        # done with everything!
        stty "$save"
        echo -ne '\33[?25h\33[0m\33[999;1H\12'
        return 0
      fi
    done
  done

  stty "$save"
  echo -ne '\33[?25h\33[0m\33[999;1H\12'

  if "$1"; then
    for i in 2 3; do
      dd if=/dev/zero of="/dev/vcsa$i" bs=2 count="$ddcount" seek=2 2>/dev/null
    done
  fi
  echo
  echo "Aborting."
  return 1
}

abort()
{
  trap - sigint
  : > "$ffile"
  : > "$efile"
}

start()
{
  cd TOPDIR
  prepare
  trap abort sigint
  if [ "TOPDIR" = "." ]; then
    download > download.log 2>&1 &
    install > install.log 2>&1 &
    status false
  else
    openvt 2 "$0" install
    openvt 3 "$0" download
    openvt 4 "$0" shell
    status true
  fi
}

help()
{
  cat << "EOF"
Hi!

- Press Alt-F1 to switch back to the installer overview display.
- The root directory is a RAM disk; use "chroot /mnt" to switch to the
  toast linux system being installed on the hard disk.  (This will work
  any time after we install a shell on the hard disk, which happens fairly
  early on during the "setup" task.)
- At least until the "toastinit" task finishes, be sure to invoke the
  "toast" command only from the RAM disk, rather than running it directly
  from the hard disk, especially if you want to manually build a package;
  the wrapper script will set some important options and invoke choot
  automatically.
- Good luck!

Type "help" (or "exit") to see this message again.

Thanks!

Jacques

EOF
}

toast()
{
  cd TOPDIR
  if ! [ -r "mnt/etc/toast.conf" ]; then
    [ -z "$TOAST_NICE" ] && export TOAST_NICE="-5"
    [ -z "$TOAST_ARMDIR" ] && export TOAST_ARMDIR="/usr"
    [ -z "$TOAST_POSTARMPROG" -a -h "mnt/bin/postarm" ] && export TOAST_POSTARMPROG="postarm"
    if [ -h "mnt/lib/ld-uClibc.so.0" ]; then
      export TOAST_PRELOAD="false"
      export TOAST_POSTARMPROG="true"
    fi
  fi
  exec chroot mnt /usr/bin/perl -x /bin/toast "$@@"
}

postmortem()
{
  cd TOPDIR

  let total=0
  let count=0
  for idir in tmp/setup/num/*/install; do
    if [ -r "$idir/time" -a ! -r "$idir/failed" ]; then
      let total="$total+`cat $idir/time`"
      let count="$count+1"
    fi
  done

  let i=0
  while read name size time etc; do
    let i="$i+1"
    num="`printf %08d $i`"
    dir="tmp/setup/num/$num"
    [ -r "$dir/download/time" -a ! -r "$dir/download/failed" -a "$size" != 0 -a -d "mnt/toast/pkg/$name" ] && let size="12+`du -s mnt/toast/pkg/$name/*/archive | cut -f1`"
    [ -r "$dir/install/time" -a ! -r "$dir/install/failed" ] && let time="`cat $dir/install/time`*10000*$count/$total"
    echo "$name $size $time $etc"
  done > postmortem.out < tmp/tasks

  for dir in tmp/setup/num/*; do
    if [ -r "$dir/install/time" -a ! -r "$dir/install/failed" ]; then
      name="`cat $dir/name`"
      num="`cat $dir/num`"
      let estimated="`cat $dir/install/estimate`"
      let actual="`cat $dir/install/time`*10000*$count/$total"
      if [ "$estimated" -gt "$actual" ]; then
        let delta="$estimated-$actual"
      else
        let delta="$actual-$estimated"
      fi
      echo "$delta $num $name $actual"
    fi
  done | sort -n | cut -d' ' -f2-
}

case "$0" in
  help|*/help) help;;
  toast|*/toast) toast "$@@";;
  setup|*/setup)
    case "$1" in
      download|install|shell|postmortem) trap abort sigint; "$1";;
      "") start;;
      *) echo "$0: unrecognized argument: $1" >&2;;
    esac
  ;;
  *) echo "$0: unrecognized name" >&2;;
esac
---
exit 0

#!/usr/bin/perl

use 5.006.0;
use warnings;
use strict;
use Fcntl;

my($rcsid) = q$Id: configure,v 1.147 2005/03/05 05:59:18 zaphod Exp zaphod $;
$rcsid =~ /^Id: configure,v (\S+) (\S+ \S+) zaphod Exp (\S+ )?$/ || die;
my($version, $rcsdate) = ($1, $2);
$version .= "+" if $3; # if this version may contain changes not in RCS
my($gendate) = scalar localtime;
my($genby) = "generated by toast linux configure version $version on $gendate";
my($configure) = $0 =~ m!/! ? $0 : "./$0";

my($prefix) = "/usr/local"; # TODO
my($target) = @@ARGV;
if(scalar(@@ARGV) != 1 || $target =~ /^-/)
{
  warn("$0: ignoring command line arguments: @@ARGV\n") if @@ARGV;
  $target = "Makefile";
  print("generating $target\n");
}
die unless defined($target);

my(%text);
my($name);
while(<DATA>)
{
  if(/^--- FILE (\S+) ---$/)
  {
    $name = $1;
  }
  else
  {
    next if !defined($name) && /^$/;
    die unless defined($name);
    $text{$name} .= $_;
  }
}
close(DATA) || die;

for(values(%text))
{
  s/\n\n$/\n/;
  s/!VERSION!/$version/g;
}

for($text{"Makefile"})
{
  s/^  /\t/mg;
  s/!GENBY!/$genby/g;
  s/!CONFIGURE!/$configure/g;
  s/!PREFIX!/$prefix/g;
}

for(qw(floppy/logo floppy/help cd/isolinux/logo cd/isolinux/help))
{
  for($text{$_})
  {
    s/\^([A-Z])/chr(ord($1)-64)/ge;
    s/\%/\xb1/g;
  }
}

my($oldcfg);
for($text{"floppy/syslinux.cfg"})
{
  $_ .= "# pad to fill one 512-byte sector\n" while length($_) < 512;
  s/\n/\r\n/g;
  substr($_, 510) = "\r\n";
  s/\r(\r\n$)/#$1/;
  length($_) == 512 or die;
  $oldcfg = $_;
  $oldcfg =~ s/\r\n/\n/g;
}

for($text{"toast-linux.stub"})
{
  s/^!OLDCFG!\n/$oldcfg/m;
}

my($ok);
for(sort(keys(%text)))
{
  next unless m!^\Q$target\E($|/)!;
  $ok = 1;

  if(m!^([^/].*)/[^/]+$!)
  {
    my($dir) = $1;
    my($path);
    for(split('/', $dir))
    {
      $path = defined($path) ? "$path/$_" : $_;
      -d($path) || mkdir($path) || die("mkdir $path: $!");
    }
  }

  my($text) = $text{$_};

  local(*OUTFILE);
  sysopen(OUTFILE, $_, O_CREAT | O_TRUNC | O_WRONLY, $text =~ m@@^#!/@@ ? 0777 : 0666)
      || die("open $_ for write: $!");
  binmode(OUTFILE);
  print OUTFILE $text or die("write $_: $!");
  close(OUTFILE) || die("close $_ for write: $!");
}

die("don't know how to generate $target") unless $ok;

__DATA__

--- FILE Makefile ---
# !GENBY!
VERSION = !VERSION!

ROOTFS_BLOCKS = 3072
ROOTFS_INODES = 1024
FLOPPY_SIZE = 1440
#FLOPPY_SIZE = 2880
HDA_CYLINDERS = 15500

WGET = wget

FROMCONF = dev toast-linux.stub mkhd floppy.vmx cd.vmx logotoppm
FROMCONF2 = smartcat linux-config-smallk linux-config-largek buildroot-config busybox-config sbin/setup

PKGS = LINUX BUILDROOT BUSYBOX E2FSPROGS NTFSPROGS PARTED DEVMAP LVM2 GENEXT2FS MTOOLS SYSLINUX CDRTOOLS

LINUX_VERSION = 2.6.14.3
BUILDROOT_VERSION = 0.9.27
BUSYBOX_VERSION = 1.01
# not sure how to cross-compile more recent versions:
E2FSPROGS_VERSION = 1.35
NTFSPROGS_VERSION = 1.9.4
PARTED_VERSION = 1.6.25
# device-mapper 1.02.01 has some kind of malloc link problem?
DEVMAP_VERSION = 1.01.05
LVM2_VERSION = 2.01.15
GENEXT2FS_VERSION = 1.3
GENEXT2FS_PATCHLEVEL = 7.1
MTOOLS_VERSION = 3.9.10
SYSLINUX_VERSION = 3.11
CDRTOOLS_VERSION = 2.01

LINUX_DIR = linux-$(LINUX_VERSION)
BUILDROOT_DIR = buildroot
BUSYBOX_DIR = busybox-$(BUSYBOX_VERSION)
E2FSPROGS_DIR = e2fsprogs-$(E2FSPROGS_VERSION)
NTFSPROGS_DIR = ntfsprogs-$(NTFSPROGS_VERSION)
PARTED_DIR = parted-$(PARTED_VERSION)
DEVMAP_DIR = device-mapper.$(DEVMAP_VERSION)
LVM2_DIR = LVM2.$(LVM2_VERSION)
GENEXT2FS_DIR = genext2fs-$(GENEXT2FS_VERSION).orig
MTOOLS_DIR = mtools-$(MTOOLS_VERSION)
SYSLINUX_DIR = syslinux-$(SYSLINUX_VERSION)
CDRTOOLS_DIR = cdrtools-$(CDRTOOLS_VERSION)

LINUX_ARCHIVE = $(LINUX_DIR).tar.bz2
BUILDROOT_ARCHIVE = $(BUILDROOT_DIR)-$(BUILDROOT_VERSION).tar.bz2
BUSYBOX_ARCHIVE = $(BUSYBOX_DIR).tar.bz2
E2FSPROGS_ARCHIVE = $(E2FSPROGS_DIR).tar.gz
NTFSPROGS_ARCHIVE = $(NTFSPROGS_DIR).tar.gz
PARTED_ARCHIVE = $(PARTED_DIR).tar.gz
DEVMAP_ARCHIVE = $(DEVMAP_DIR).tgz
LVM2_ARCHIVE = $(LVM2_DIR).tgz
GENEXT2FS_ARCHIVE = genext2fs_$(GENEXT2FS_VERSION).orig.tar.gz
GENEXT2FS_PATCH = genext2fs_$(GENEXT2FS_VERSION)-$(GENEXT2FS_PATCHLEVEL).diff.gz
MTOOLS_ARCHIVE = $(MTOOLS_DIR).tar.bz2
SYSLINUX_ARCHIVE = $(SYSLINUX_DIR).tar.bz2
CDRTOOLS_ARCHIVE = $(CDRTOOLS_DIR).tar.bz2

LINUX_URL = http://www.kernel.org/pub/linux/kernel/v2.6/$(LINUX_ARCHIVE)
BUILDROOT_URL = http://buildroot.uclibc.org/downloads/$(BUILDROOT_ARCHIVE)
BUSYBOX_URL = http://busybox.net/downloads/$(BUSYBOX_ARCHIVE)
#E2FSPROGS_URL = http://download.sourceforge.net/e2fsprogs/$(E2FSPROGS_ARCHIVE)
#NTFSPROGS_URL = http://download.sourceforge.net/linux-ntfs/$(NTFSPROGS_ARCHIVE)
E2FSPROGS_URL = http://internap.dl.sourceforge.net/sourceforge/e2fsprogs/$(E2FSPROGS_ARCHIVE)
NTFSPROGS_URL = http://internap.dl.sourceforge.net/linux-ntfs/$(NTFSPROGS_ARCHIVE)
PARTED_URL = http://ftp.gnu.org/gnu/parted/$(PARTED_ARCHIVE)
DEVMAP_URL = http://mirrors.kernel.org/sources.redhat.com/dm/$(DEVMAP_ARCHIVE)
LVM2_URL = http://mirrors.kernel.org/sources.redhat.com/lvm2/$(LVM2_ARCHIVE)
GENEXT2FS_URL = http://ftp.debian.org/debian/pool/main/g/genext2fs/$(GENEXT2FS_ARCHIVE)
GENEXT2FS_PATCH_URL = http://ftp.debian.org/debian/pool/main/g/genext2fs/$(GENEXT2FS_PATCH)
# MTOOLS_URL = http://mtools.linux.lu/$(MTOOLS_ARCHIVE)
MTOOLS_URL = http://www.tux.org/pub/knaff/mtools/$(MTOOLS_ARCHIVE)
SYSLINUX_URL = http://kernel.org/pub/linux/utils/boot/syslinux/$(SYSLINUX_ARCHIVE)
CDRTOOLS_URL = ftp://ftp.berlios.de/pub/cdrecord/$(CDRTOOLS_ARCHIVE)
# http://distro.ibiblio.org/pub/linux/distributions/sorcerer/sources/cdrtools/$(CDRTOOLS_VERSION)/$(CDRTOOLS_ARCHIVE)
# http://gd.tuwien.ac.at/utils/schilling/cdrtools/$(CDRTOOLS_ARCHIVE)

CROSS_ROOT_DIR = $(BUILDROOT_DIR)/build_i386/staging_dir/i386-linux-uclibc
CROSS_LIB_DIR = $(CROSS_ROOT_DIR)/lib
CROSS_BIN_DIR = $(CURDIR)/$(CROSS_ROOT_DIR)/bin

PKG_DIRS = $(foreach PKG, $(PKGS), $($(PKG)_DIR))

KPATH = arch/i386/boot/bzImage
SMALLK = smallk/$(KPATH)
LARGEK = largek/$(KPATH)
BUSYBOX = $(BUSYBOX_DIR)/busybox
TUNE2FS = $(E2FSPROGS_DIR)/misc/tune2fs
RESIZE2FS = $(E2FSPROGS_DIR)/resize/resize2fs
E2FSCK = $(E2FSPROGS_DIR)/e2fsck/e2fsck.shared
NTFSRESIZE = $(NTFSPROGS_DIR)/ntfsprogs/ntfsresize
PARTED = $(PARTED_DIR)/parted/parted
DEVMAP = $(DEVMAP_DIR)/lib/ioctl/libdevmapper.a
LVM2 = $(LVM2_DIR)/tools/lvm
GENEXT2FS = $(GENEXT2FS_DIR)/genext2fs
MFORMAT = $(MTOOLS_DIR)/mformat
MCOPY = $(MTOOLS_DIR)/mcopy
MDIR = $(MTOOLS_DIR)/mdir
SYSLINUX = $(SYSLINUX_DIR)/mtools/syslinux
ISOLINUX = $(SYSLINUX_DIR)/isolinux.bin
MKISOFS = $(CDRTOOLS_DIR)/mkisofs/mkisofs

INSTALL_DIR = $(DESTDIR)!PREFIX!
INSTALL_BIN_DIR = $(INSTALL_DIR)/bin
INSTALL_MAN_DIR = $(INSTALL_DIR)/man/man1

PROGRAM = toast-linux
MAN_PAGE = $(PROGRAM).1

all: $(PROGRAM) $(MAN_PAGE)

install: all
  mkdir -p $(INSTALL_BIN_DIR) $(INSTALL_MAN_DIR)
  cp $(PROGRAM) $(INSTALL_BIN_DIR)/$(PROGRAM)
  cp $(MAN_PAGE) $(INSTALL_MAN_DIR)/$(MAN_PAGE)

# surely there must be a way to avoid writing out these rules:
$(LINUX_ARCHIVE): ; $(WGET) $(LINUX_URL)
$(BUILDROOT_ARCHIVE): ; $(WGET) $(BUILDROOT_URL)
$(BUSYBOX_ARCHIVE): ; $(WGET) $(BUSYBOX_URL)
$(E2FSPROGS_ARCHIVE): ; $(WGET) $(E2FSPROGS_URL)
$(NTFSPROGS_ARCHIVE): ; $(WGET) $(NTFSPROGS_URL)
$(PARTED_ARCHIVE): ; $(WGET) $(PARTED_URL)
$(DEVMAP_ARCHIVE): ; $(WGET) $(DEVMAP_URL)
$(LVM2_ARCHIVE): ; $(WGET) $(LVM2_URL)
$(GENEXT2FS_ARCHIVE): ; $(WGET) $(GENEXT2FS_URL)
$(GENEXT2FS_PATCH): ; $(WGET) $(GENEXT2FS_PATCH_URL)
$(MTOOLS_ARCHIVE): ; $(WGET) $(MTOOLS_URL)
$(SYSLINUX_ARCHIVE): ; $(WGET) $(SYSLINUX_URL)
$(CDRTOOLS_ARCHIVE): ; $(WGET) $(CDRTOOLS_URL)

clean:
  [ ! -S mnt/dev/log ] || umount mnt/dev
  [ ! -d mnt/proc/1 ] || umount mnt/proc
  [ ! -d mnt/sys/block ] || umount mnt/sys
  rm -fr $(PKG_DIRS) symbols floppy* cd.* root* toast-linux* $(FROMCONF) $(FROMCONF2) smallk largek sbin tmp mnt chroot *.log palette.ppm moreroot logo.lss

vmclean:
  rm -f *.vm* *.sav nvram* vmware.log

cleaner: clean vmclean
  rm -fr *.tar.gz *.tar.bz2 *.tgz *.diff.gz precompiled

distclean: cleaner
  rm -f Makefile

.DELETE_ON_ERROR:

$(LINUX_DIR)/ok: $(LINUX_ARCHIVE) smartcat
  rm -fr $(LINUX_DIR)
  ./smartcat $< | tar x
  touch $@@

%/.config: $(LINUX_DIR)/ok linux-config-%
  rm -fr $*
  mkdir $*
  cat linux-config-$* > $@@
  yes '' | $(MAKE) -C $(LINUX_DIR) O=$(CURDIR)/$* oldconfig dep
  touch $@@

%/$(KPATH): %/.config
  $(MAKE) -C $(LINUX_DIR) O=$(CURDIR)/$* bzImage

%-modules: %/$(KPATH)
  rm -fr $@@
  $(MAKE) -C $(LINUX_DIR) O=$(CURDIR)/$* modules modules_install INSTALL_MOD_PATH=$(CURDIR)/$@@

%-modsize: %-modules
  cd $*-modules/lib/modules/*/kernel/drivers; ls -lS `find -name '*.ko'`

$(BUILDROOT_DIR)/.config: $(BUILDROOT_ARCHIVE) buildroot-config smartcat
  rm -fr $(BUILDROOT_DIR)
  ./smartcat $< | tar x
  ln -s .. $(BUILDROOT_DIR)/dl
  cp buildroot-config $@@
  yes '' | $(MAKE) -C $(BUILDROOT_DIR) oldconfig
  touch $@@

$(BUILDROOT_DIR)/ok: $(BUILDROOT_DIR)/.config
  yes '' | $(MAKE) -C $(BUILDROOT_DIR) all
  touch $@@

$(BUSYBOX_DIR)/.config: $(BUSYBOX_ARCHIVE) busybox-config $(BUILDROOT_DIR)/ok smartcat
  rm -fr $(BUSYBOX_DIR)
  ./smartcat $< | tar x
  perl -pe 's!^(CROSS_COMPILER_PREFIX=").*(")!$$1$(CROSS_BIN_DIR)/$$2!' busybox-config > $@@
  yes '' | $(MAKE) -C $(BUSYBOX_DIR) oldconfig
  touch $@@

$(BUSYBOX): $(BUSYBOX_DIR)/.config
  $(MAKE) -C $(BUSYBOX_DIR) all

$(TUNE2FS): $(E2FSPROGS_ARCHIVE) $(BUILDROOT_DIR)/ok smartcat
  rm -fr $(E2FSPROGS_DIR)
  ./smartcat $< | tar x
  (cd $(E2FSPROGS_DIR) && ./configure --with-cc=$(CROSS_BIN_DIR)/gcc --with-linker=$(CROSS_BIN_DIR)/ld --with-ccopts=-Os --disable-{nls,evms,swapfs})
  $(MAKE) -C $(E2FSPROGS_DIR)
  strip $@@

$(E2FSCK) $(RESIZE2FS): $(TUNE2FS)
  strip $@@

$(NTFSRESIZE): $(NTFSPROGS_ARCHIVE) $(BUILDROOT_DIR)/ok smartcat
  rm -fr $(NTFSPROGS_DIR)
  ./smartcat $< | tar x
  (cd $(NTFSPROGS_DIR) && CC=$(CROSS_BIN_DIR)/gcc CFLAGS="-static -Os" ./configure --disable-shared && $(MAKE))
  strip $@@

$(PARTED): $(PARTED_ARCHIVE) $(BUILDROOT_DIR)/ok smartcat
  rm -fr $(PARTED_DIR)
  ./smartcat $< | tar x
  perl -p -i -e 's!(\#include <libintl.h>)!/* $1 */!' $(PARTED_DIR)/libparted/filesys.c
  cd $(PARTED_DIR) && CC=$(CROSS_BIN_DIR)/gcc CFLAGS="-static -Os" CPPFLAGS="-I$(CURDIR)/$(E2FSPROGS_DIR)/lib" LDFLAGS="-L$(CURDIR)/$(E2FSPROGS_DIR)/lib" ./configure --without-readline --disable-shared --disable-nls --disable-dynamic-loading --disable-Werror --disable-dependency-tracking
  $(MAKE) -C $(PARTED_DIR)
  strip $@@

$(DEVMAP): $(DEVMAP_ARCHIVE) $(BUILDROOT_DIR)/ok smartcat
  rm -fr $(DEVMAP_DIR)
  mkdir $(DEVMAP_DIR)
  ./smartcat $< | tar x -C $(DEVMAP_DIR)
  mv $(DEVMAP_DIR)/*/* $(DEVMAP_DIR)/
  set -e; cd $(DEVMAP_DIR); ./configure --disable-shared CC="$(CROSS_BIN_DIR)/gcc -static -Os"; $(MAKE) lib

$(LVM2): $(LVM2_ARCHIVE) $(DEVMAP) $(BUILDROOT_DIR)/ok smartcat
  rm -fr $(LVM2_DIR)
  mkdir $(LVM2_DIR)
  ./smartcat $< | tar x -C $(LVM2_DIR)
  mv $(LVM2_DIR)/*/* $(LVM2_DIR)/
  perl -p -i -e 's/-O2/-Os/g' $(LVM2_DIR)/make.tmpl.in
  rm -f $(DEVMAP:.a=.so)
  set -e; cd $(LVM2_DIR); export CPATH="$(CURDIR)/$(DEVMAP_DIR)/include"; ./configure --host=i386-pc-linux-gnu CC="$(CROSS_BIN_DIR)/gcc -Os -L$(CURDIR)/$(dir $(DEVMAP))"; $(MAKE) DESTDIR=dummy
  strip $@@

symbols: $(BUSYBOX) $(E2FSCK) $(TUNE2FS) $(RESIZE2FS) $(NTFSRESIZE) $(PARTED) $(LVM2)
  $(CROSS_BIN_DIR)/nm -Dp $^ | perl -lne '/.{8} [BUV] (.+)/ && print "-u $$1"' | sort -u > $@@ 

Makefile $(FROMCONF): !CONFIGURE!
  !CONFIGURE! $@@

# these depend on configure, but we pretend they don't to speed things up:
$(FROMCONF2):
  !CONFIGURE! $@@

root: symbols !CONFIGURE!
  rm -fr $@@
  !CONFIGURE! $@@
  mkdir -p $@@/{root,proc,sys,tmp,media/floppy,media/cdrom,mnt,var/run}
  ln -s . $@@/usr
  install -D $(CROSS_LIB_DIR)/ld-uClibc.so.0 $@@/lib/ld-uClibc.so.0
  install -D $(CROSS_LIB_DIR)/libdl.so.0 $@@/lib/libdl.so.0
  install -D $(CROSS_LIB_DIR)/libgcc_s.so.1 $@@/lib/libgcc_s.so.1
  gcc -s -nostdlib -Wl,-warn-common -shared -o $@@/lib/libc.so.0 `cat symbols` $(CROSS_LIB_DIR)/libc.a
  $(MAKE) -C $(BUSYBOX_DIR) PREFIX=$(CURDIR)/$@@ install
#  install -D $(E2FSCK) $@@/sbin/e2fsck
  install -D $(TUNE2FS) $@@/sbin/tune2fs
#  install -D $(RESIZE2FS) $@@/sbin/resize2fs
#  install -D $(NTFSRESIZE) $@@/sbin/ntfsresize
  install -D $(PARTED) $@@/sbin/parted
  install -D $(LVM2) $@@/sbin/lvm
  for i in `cat $(LVM2_DIR)/tools/.commands`; do ln -s lvm $@@/sbin/$$i; done

$(GENEXT2FS): $(GENEXT2FS_ARCHIVE) $(GENEXT2FS_PATCH) smartcat
  rm -fr $(GENEXT2FS_DIR)
  ./smartcat $< | tar x
  ./smartcat $(GENEXT2FS_PATCH) | patch -d $(GENEXT2FS_DIR) -p1
  $(MAKE) -C $(GENEXT2FS_DIR)

$(MFORMAT) $(MCOPY) $(MDIR): $(MTOOLS_ARCHIVE) smartcat
  rm -fr $(MTOOLS_DIR)
  ./smartcat $< | tar x
  cd $(MTOOLS_DIR) && ./configure
  $(MAKE) -C $(MTOOLS_DIR)

$(SYSLINUX) $(ISOLINUX): $(SYSLINUX_ARCHIVE) smartcat
  rm -fr $(SYSLINUX_DIR)
  ./smartcat $< | tar x
  touch $(SYSLINUX) $(ISOLINUX)

$(MKISOFS): $(CDRTOOLS_ARCHIVE) smartcat
  rm -fr $(CDRTOOLS_DIR)
  ./smartcat $< | tar x
  $(MAKE) -C $(CDRTOOLS_DIR)/mkisofs
  cp $(CDRTOOLS_DIR)/mkisofs/OBJ/*/mkisofs $@@

rootfs: root dev $(GENEXT2FS)
  rm -f $@@
  $(GENEXT2FS) -d root -f dev -b $(ROOTFS_BLOCKS) -i $(ROOTFS_INODES) $@@

floppy: $(SMALLK) rootfs.gz !CONFIGURE!
  rm -fr $@@
  !CONFIGURE! $@@
  cp $(SMALLK) $@@/linux
  cp rootfs.gz $@@/initrd

moreroot: !CONFIGURE!
  rm -fr $@@
  mkdir $@@
  cp !CONFIGURE! $@@/configure

precompiled: chroot
  rm -fr $@@
  mkdir $@@
  set -e; for i in `cd mnt/toast/pkg && echo *`; do tar cjf $@@/$$i.tar.bz2 --owner=0 --group=0 -C mnt toast/pkg/$$i; (cd $@@; du $$i.tar.bz2); done

cd: $(LARGEK) $(ISOLINUX) rootfs.gz logo.lss moreroot precompiled
  rm -fr $@@
  !CONFIGURE! $@@
  cp logo.lss $@@/isolinux/logo.lss
  cp $(LARGEK) $@@/isolinux/linux
  cp $(ISOLINUX) $@@/isolinux/isolinux.bin
  cp rootfs.gz $@@/isolinux/initrd
  mkdir -p $@@/toast-linux
  tar cjf $@@/toast-linux/ram.tar.bz2 --owner=0 --group=0 -C moreroot .
  ln precompiled/* $@@/toast-linux/

floppy.img: floppy $(MFORMAT) $(SYSLINUX) $(MCOPY) $(MDIR)
  rm -f $@@
  $(MFORMAT) -C -v "toast linux" -f $(FLOPPY_SIZE) -r 1 -i $@@ ::
  $(SYSLINUX) $@@
  $(MCOPY) -i $@@ -s $</* ::
  $(MDIR) -a -i $@@ ::

floppy.iso: floppy.img $(MKISOFS)
  $(MKISOFS) -o $@@ -b $< $<

%.iso: % $(MKISOFS)
  $(MKISOFS) -o $@@ -r -b isolinux/isolinux.bin -c isolinux/boot.cat -no-emul-boot -boot-load-size 4 -boot-info-table $<

palette.ppm: logotoppm
  ./logotoppm --palette > $@@

logo.lss: floppy logotoppm palette.ppm $(SYSLINUX)
  ./logotoppm floppy/logo | pnmcrop | pnmscale 1.25 | pnmrotate 4 | pnmpad -width 640 -height 480 | pnmremap -fs -mapfile=palette.ppm | $(SYSLINUX_DIR)/ppmtolss16 \#000000=0 \#aaaaaa=7 \#ffffff=15 > $@@

toast-linux: toast-linux.stub floppy.iso.gz
  rm -f $@@
  cat $^ > $@@
  chmod +x $@@

toast-linux.1: toast-linux.stub
  pod2man $< > $@@

chroot: sbin/setup
  chroot / true
  [ ! -S mnt/dev/log ] || umount mnt/dev
  [ ! -d mnt/proc/1 ] || umount mnt/proc
  [ ! -d mnt/sys/block ] || umount mnt/sys
  rm -fr tmp mnt
  mkdir tmp
  TOAST_NICE=5 sbin/setup
  touch $@@

vmware: vmware-floppy

vmware-floppy: floppy.img floppy.iso vmclean floppy.vmx
  vmware-vdiskmanager -c -a buslogic -s 16gb -t 1 toast.vmdk
  vmware -x floppy.vmx

vmware-cd: cd.iso vmclean cd.vmx
  vmware-vdiskmanager -c -a buslogic -s 16gb -t 1 toast.vmdk
  vmware -x cd.vmx

config-linux-%: %/.config
  $(MAKE) -C $(LINUX_DIR) O=$(CURDIR)/$* menuconfig
  cp $< linux-config-$*

config-buildroot: $(BUILDROOT_DIR)/.config
  $(MAKE) -C $(BUILDROOT_DIR) menuconfig
  cp $< buildroot-config

config-busybox: $(BUSYBOX_DIR)/.config
  $(MAKE) -C $(BUSYBOX_DIR) menuconfig
  cp $< busybox-config

%.bz2: %
  bzip2 -kf9 $<

%.gz: %
  gzip -9 -c $< > $@@

--- FILE toast-linux.stub ---
#!/usr/bin/perl

=head1 NAME

toast-linux - create toast linux install floppy or CD

=head1 SYNOPSIS

  toast-linux [--floppy|--cd] [--append=CMD] [[--outfile=]FILE]
  toast-linux --help
  toast-linux --man

=head1 DESCRIPTION

TODO: describe toast linux in general, what the installer does, and what
this program does

=head1 AVAILABILITY

TODO: link to source and precompiled versions
TODO: figure out what kind of license I can use for this thing (GPL?)

=head1 BUGS

Known bugs:

  - is not finished
  - does not actually work
  - missing documentation
  - no web page

Wish list:

  - this program should be able to write a floppy or CD in one step
  - this program should be usable under ActiveState Perl (Windows)
  - this program should be able to configure defaults for installer
  - install disk should double as a rescue disk including e2fsck
  - install disk should automatically resize FAT and NTFS partitions

=head1 SEE ALSO

TODO: refer to toast itself, some other distributions like Gentoo
and Debian, some of the constitutent software like BusyBox

=head1 AUTHOR

Jacques Frechet

=cut

use warnings;
use strict;
use Getopt::Long;
use Pod::Usage;

sub usage() { pod2usage(2); die }

my($floppy, $outfile, $append);
{
  my($help, $man, $cd);
  usage unless GetOptions
  (
    "help|?" => \$help,
    "man" => \$man,
    "floppy|fd" => \$floppy,
    "cd|iso" => \$cd,
    "outfile=s" => \$outfile,
    "append=s" => \$append,
  );

  pod2usage(1) if $help;
  pod2usage(-exitstatus => 0, -verbose => 2) if $man;

  usage if $floppy && $cd;
  $outfile = shift unless defined($outfile);
  usage if @@ARGV;
  $outfile = "/dev/fd0" if !defined($outfile) && $floppy;
  $cd = 1 if !defined($floppy) && !defined($cd) && defined($outfile) &&
      $outfile =~ /\.iso$/i;
  $floppy = 1 if !defined($floppy) && !defined($cd);

  usage unless defined($outfile);
  $outfile = undef if $outfile eq "-";
}

open(STDOUT, ">", $outfile) || die("open $outfile: $!") if defined($outfile);

my($oldcfg) = << 'EOF';
!OLDCFG!
EOF
$oldcfg =~ s/\n/\r\n/g;
my($len) = length($oldcfg);
die("len=$len") unless $len == 512;

my($newcfg);
if(defined($append))
{
  $newcfg = $oldcfg;
  $newcfg =~ s/^#[^\r\n]*\r?\n//mg;
  die unless $newcfg =~ s/^(append [^\r\n]+)(\r\n)/$1 $append$2/mi;
  die unless length($newcfg) <= 512;
  $newcfg .= "# pad to fill one 512-byte sector\n" while length($newcfg) < 512;
  substr($newcfg, 510) = "\r\n";
  $newcfg =~s/\r(\r\n$)/#$1/;
  die unless length($newcfg) == 512;
}

if($floppy || defined($newcfg))
{
  my($pid) = open(STDOUT, "|-");
  die("fork: $!") unless defined($pid);
  binmode(STDOUT);
  if(!$pid)
  {
    binmode(STDIN);
    my($on, $i, $rc, $buf) = (!$floppy, 0);
    while($rc = read(STDIN, $buf = "", 512, 0))
    {
      next unless $on ||= $buf =~ /^...SYSLINUX.{32}TOAST LINUXFAT12/;
      $buf = $newcfg if defined($newcfg) && $buf eq $oldcfg;
      print($buf) || die("write: $!");
      $on &&= ++$i < 2880 if $floppy;
    }
    die("read: $!") unless defined($rc);
    die("error: wrote $i sectors") unless $i == 2880 || !$floppy;
    close(STDOUT) || die("close: $!");
    exit(0);
  }
}

open(STDOUT, "| gzip -cd") || die("spawn gzip: $!");
binmode(STDOUT);
binmode(DATA);
my($rc, $buf);
print($buf) || die("write: $!") while $rc = read(DATA, $buf = "", 8192, 0);
close(STDOUT) || die("close: $!");

__DATA__

--- FILE dev ---
drwx                    /dev
crw-    4,      0       /dev/tty0
crw-    4,      1       /dev/tty1
crw-    4,      2       /dev/tty2
crw-    4,      3       /dev/tty3
crw-    4,      4       /dev/tty4
crw-    4,      5       /dev/tty5
crw-    5,      0       /dev/tty
crw-    5,      1       /dev/console

--- FILE smartcat ---
#!/bin/sh
for file; do
  case "$file" in
    *gz) gzip -cd "$file";;
    *.bz2) bzip2 -cd "$file";;
    *) cat "$file";;
  esac
done

--- FILE logotoppm ---
#!/usr/bin/perl

use warnings;
use strict;

my(@@palette) =
(
  "\x00\x00\x00",
  "\x00\x00\xaa",
  "\x00\xaa\x00",
  "\x00\xaa\xaa",
  "\xaa\x00\x00",
  "\xaa\x00\xaa",
  "\xaa\x55\x00",
  "\xaa\xaa\xaa",
  "\x55\x55\x55",
  "\x55\x55\xff",
  "\x55\xff\x55",
  "\x55\xff\xff",
  "\xff\x55\x55",
  "\xff\x55\xff",
  "\xff\xff\x55",
  "\xff\xff\xff",
);

if(@@ARGV && $ARGV[0] eq "--palette")
{
  print("P6\n16 1\n255\n", @@palette);
  exit(0);
}

my($small) = "ailnostux";
my($large) = q(

           XX     XXX                              X
           XX      XX                             XX
                   XX                             XX
 XXXX     XXX      XX   XX XXX   XXXXX   XXXXX  XXXXXX  XX  XX  XX    XX
    XX     XX      XX    XX  XX XX   XX XX   XX   XX    XX  XX   XX  XX
 XXXXX     XX      XX    XX  XX XX   XX  XX       XX    XX  XX    XXXX
XX  XX     XX      XX    XX  XX XX   XX   XXX     XX    XX  XX     XX
XX  XX     XX      XX    XX  XX XX   XX     XX    XX    XX  XX    XXXX
XX  XX     XX      XX    XX  XX XX   XX XX   XX   XX X  XX  XX   XX  XX
 XXX XX   XXXX    XXXX   XX  XX  XXXXX   XXXXX     XX    XXX XX XX    XX

);
my(@@font) = split(/\n/, $large);
push(@@font, "") while scalar(@@font) < 16;
$small .= " ";
for(@@font)
{
  $_ .= " " while length($_) < length($small) * 8;
}
$small .= "\xb1";
my($grid) = "X " x 4;
for(@@font)
{
  $_ .= $grid;
  $grid =~ s/(.)(.)/$2$1/g;
}

my($line) = 0;
$/ = undef;
my($input) = <>;
$input =~ s/.*\x0c//;
$input .= "\n" x 26;

print("P6\n720 400\n255\n");
my(@@obuf) = map("", 1..16);
my($r, $fg, $bg) = (0, 7, 0);
while($input =~ /(\x0f..|.)/sg)
{
  last if $r >= 25;

  my($char) = $1;
  if($char =~ /\x0f(.)(.)/)
  {
    $bg = hex($1);
    $fg = hex($2);
    next;
  }

  my($idx) = index($small, $char);

  if($idx == -1 || length($obuf[0]) == 720*3)
  {
    for(@@obuf)
    {
      $_ .= "\x00" while length($_) < 720*3;
    }
    print(@@obuf);
    @@obuf = map("", 1..16);
    ++$r;
    next if $idx == -1;
  }

  for(0..15)
  {
    my($pixels) = substr($font[$_], 8 * $idx, 8) . " ";
    $pixels =~ s/(.)/$palette[$1 eq " " ? $bg : $fg]/ge;
    $obuf[$_] .= $pixels;
  }
}

--- FILE mkhd ---
#!/usr/bin/perl

use warnings;
use strict;

my($outfile, $cylinders, $heads, $sectors) = @@ARGV;
$cylinders || die("usage: $0 outfile cylinders [heads] [sectors]\n");
$heads ||= 16;
$sectors ||= 63;

my($size) = $cylinders * $heads * $sectors * 512;

local(*HD);
open(HD, ">", $outfile) || die("open $outfile: $!");
truncate(HD, $size) || die("truncate $outfile: $!");
close(HD) || die("close $outfile: $!");

--- FILE floppy.vmx ---
#!/usr/bin/vmware
config.version = "7"
virtualHW.version = "3"
displayName = "toast linux"
guestOS = "other26xlinux"
memsize = "256"
scsi0.present = "TRUE"
scsi0:0.present = "TRUE"
scsi0:0.fileName = "toast.vmdk"
scsi0:0.mode = "undoable"
ide1:0.present = "TRUE"
ide1:0.fileName = "floppy.iso"
ide1:0.deviceType = "cdrom-image"
ide1:0.startConnected = "FALSE"
floppy0.fileName = "floppy.img"
floppy0.fileType = "file"
floppy0.startConnected = "TRUE"
Ethernet0.present = "TRUE"
sound.present = "FALSE"
disable_acceleration = "TRUE"

--- FILE cd.vmx ---
#!/usr/bin/vmware
config.version = "7"
virtualHW.version = "3"
displayName = "toast linux"
guestOS = "other26xlinux"
memsize = "256"
scsi0.present = "TRUE"
scsi0:0.present = "TRUE"
scsi0:0.fileName = "toast.vmdk"
scsi0:0.mode = "undoable"
ide1:0.present = "TRUE"
ide1:0.fileName = "cd.iso"
ide1:0.deviceType = "cdrom-image"
ide1:0.startConnected = "TRUE"
floppy0.fileName = "floppy.img"
floppy0.fileType = "file"
floppy0.startConnected = "FALSE"
Ethernet0.present = "TRUE"
sound.present = "FALSE"
disable_acceleration = "TRUE"

--- FILE floppy/syslinux.cfg ---
display logo
prompt 1
timeout 200
f1 help
append initrd=initrd root=/dev/ram0 rw vga=ext

--- FILE cd/isolinux/isolinux.cfg ---
display logo
prompt 1
timeout 200
f1 help
append initrd=initrd root=/dev/ram0 rw vga=ext

--- FILE floppy/logo ---
^L

                          ^O6e        ^O07            ^O6e        ^O07
                        ^O6e  %%%%%%%%            %%%%%%%%  ^O07
                      ^O6e  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  ^O07
                      ^O6e  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  ^O07
                      ^O6e  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  ^O07
                        ^O6e  %%%%%%%%%%%%%%%%%%%%%%%%%%%%  ^O07
                        ^O6e  %%%%%%%%%%%%%%%%%%%%%%%%%%%%  ^O07
                        ^O6e  %%%%%%%%%%%%%%%%%%%%%%%%%%%%  ^O07
                        ^O6e  %%%%%%%%%%%%%%%%%%%%%%%%%%%%  ^O07
                        ^O6e  %%%%%%%%%%%%%%%%%%%%%%%%%%%%  ^O07
                        ^O6e  %%%%%%%%%%%%%%%%%%%%%%%%%%%%  ^O07
                        ^O6e  %%%%%%%%%%%%%%%%%%%%%%%%%%%%  ^O07
                        ^O6e  %%%%%%%%%%%%%%%%%%%%%%%%%%%%  ^O07
                        ^O6e  %%%%%%%%%%%%%%%%%%%%%%%%%%%%  ^O07
                        ^O6e  %%%%%%%%%%%%%%%%%%%%%%%%%%%%  ^O07
                          ^O6e                            ^O07


                                  toast linux


Press ^O0fF1^O07 within 20 seconds, or risk losing the contents of all hard disks!

--- FILE cd/isolinux/logo ---
^Xlogo.lss
Press ^O0fF1^O07 within 20 seconds, or risk losing the contents of all hard disks!

--- FILE floppy/help ---
^LBy default, the network will be configured automatically using DHCP.
All available network interfaces will be tried sequentially, starting
with eth0; the first one that responds to DHCP will be used.  You can
override this behavior with the IF parameter:

  linux IF=eth1,eth0,eth3        [try only those interfaces in order given]

You can specify a static IP configuration as follows:

  linux IP=192.168.0.100 GW=192.168.0.1

Replace "192.168.0.100" with the IP address you want to use, and
"192.168.0.1" with your gateway or router's IP address.  The IF parameter
given above still applies; the first interface that can successfully
ping the given gateway will be used.  Other possible options include:

  NM=255.255.255.0      netmask (default: compute from IP by class)
  DNS=205.217.153.34    DNS server list (default: ofb.net)

These parameters control disk partitioning:

  DISKS=hda,hdb,sda     install on specified disks only
  DESTROY=yes           overwrite existing disk contents

--- FILE cd/isolinux/help ---
Help for CD version will go here, maybe.

--- FILE root/etc/hosts ---
127.0.0.1 localhost

--- FILE root/etc/resolv.conf ---
nameserver 205.217.153.34

--- FILE root/etc/TZ ---
PST8PDT

--- FILE root/etc/lvm/lvm.conf ---
devices { sysfs_scan=0 }

--- FILE root/etc/fstab ---
/dev/ram0 / ext2 rw 0 0
proc /proc proc rw 0 0
sys /sys sysfs rw 0 0
tmp /tmp tmpfs rw 0 0
/dev/fd0 /media/floppy vfat rw,noauto,sync 0 0

--- FILE root/etc/mtab ---
/dev/ram0 / ext2 rw 0 0

--- FILE root/etc/profile ---
PS1='\h:\w\$ '

--- FILE root/etc/inittab ---
::sysinit:/etc/init.d/rc.start
::respawn:/etc/init.d/rc.main
::shutdown:/etc/init.d/rc.stop
::ctrlaltdel:/sbin/reboot

--- FILE root/etc/init.d/rc.start ---
#!/bin/sh -e
devices
mount -a
ifconfig lo 127.0.0.1
hostname localhost
if cdrom; then
  tar xjf /media/cdrom/toast-linux/ram.tar.bz2
  network || true
else
  network
  wget http://toastball.net/toast-linux-tmp/configure
fi
sh ./configure !VERSION!

--- FILE root/etc/init.d/rc.stop ---
#!/bin/sh
swapoff -a
umount -a -r

--- FILE root/etc/init.d/rc.main ---
#!/bin/sh
[ -x /sbin/setup ] && setup
sh --login

--- FILE root/sbin/network ---
#!/bin/sh

echo "Configuring network."

IF="`echo \"$IF\" | sed -e 's/[^a-z0-9]/ /g; s/^  *//; s/  *$//'`"
IP="`echo \"$IP\" | sed -e 's/[^0-9\.]/ /g; s/^  *//; s/  *$//'`"
NM="`echo \"$NM\" | sed -e 's/[^0-9\.]/ /g; s/^  *//; s/  *$//'`"
GW="`echo \"$GW\" | sed -e 's/[^0-9\.]/ /g; s/^  *//; s/  *$//'`"
DNS="`echo \"$DNS\" | sed -e 's/[^0-9\.]/ /g; s/^  *//; s/  *$//'`"

if [ -z "$IF" ]; then
  IF=`cd /sys/class/net && echo eth*`
  if [ "$IF" = "eth*" ]; then
    echo "No supported network devices found."
    exit 1
  fi
fi

if [ -n "$IP" ]; then
  if [ -z "$NM" ]; then
    NETMASK=""
    eval `ipcalc -sm "$IP"`
    NM="$NETMASK"
  fi
  if [ -z "$GW" ]; then
    NETWORK=""
    BROADCAST=""
    eval `ipcalc -sn "$IP" $NM`
    eval `ipcalc -sb "$IP" $NM`
    # TODO: guess gateway from NETWORK and/or BROADCAST
  fi
fi

[ -n "$NM" ] && mask="netmask $NM"

if [ -n "$DNS" ]; then
  : > /etc/resolv.tmp
  for i in $DNS; do
    echo "nameserver $i" >> /etc/resolv.tmp
  done
  mv /etc/resolv.tmp /etc/resolv.conf
fi

for if in $IF; do
  if [ -z "$IP" ]; then
    udhcpc -n -i "$if" && exit 0
  elif ifconfig "$if" "$IP" $mask; then
    [ -z "$GW" ] && exit 0
    for gw in $GW; do
      if ping -c 3 "$gw"; then
        for j in $GW; do
          route add default gw "$j" dev "$if"
        done
        HOSTNAME="`hostname`"
        eval `ipcalc -sh "$IP"`
        [ -n "$HOSTNAME" ] && hostname "$HOSTNAME"
        exit 0
      fi
    done
    ifconfig "$if" down
  fi
done

echo "Unable to configure network."
exit 1

--- FILE root/sbin/cdrom ---
#!/bin/sh
umount /media/cdrom 2>/dev/null
cd /sys/block
for i in *; do
  case "$i" in
    dm*|fd*|loop*|ram*|md*) ;;
    *)
      mount -r -t iso9660 "/dev/$i" /media/cdrom 2>/dev/null
      if [ -d /media/cdrom/toast-linux ]; then
        echo "Found cdrom: $i"
        ln -s "$i" /dev/cdrom
        exit 0
      fi
      umount /media/cdrom 2>/dev/null
      ;;
  esac
done
echo "No cdrom detected."
exit 1

--- FILE root/share/udhcpc/default.script ---
#!/bin/sh

case "$1" in
  deconfig)
    ifconfig "$interface" 0.0.0.0
    ;;
  nak|leasefail)
    ifconfig "$interface" down
    ;;
  bound|renew)
    mask=""
    [ -n "$NM" ] && mask="netmask $NM"
    [ -n "$subnet" ] && mask="netmask $subnet"
    ifconfig "$interface" "$ip" $mask || exit $?
    while route del default gw 0.0.0.0 dev "$interface"; do :; done 2>/dev/null
    if [ -n "$router" ]; then
      for r in $router; do route add default gw "$r" dev "$interface"; done
    fi
    if [ -n "$dns" ]; then
      : > /etc/resolv.tmp
      for n in $dns; do echo "nameserver $n" >> /etc/resolv.tmp; done
    else
      cp /etc/resolv.conf /etc/resolv.tmp
    fi
    [ -n "$domain" ] && echo "domain $domain" >> /etc/resolv.tmp
    mv /etc/resolv.tmp /etc/resolv.conf
    if [ -n "$hostname" ]; then
      hostname "$hostname"
    else
      HOSTNAME=`hostname`
      eval `ipcalc -sh "$ip"`
      [ -n "$HOSTNAME" ] && hostname "$HOSTNAME"
    fi
    ;;
  *)
    echo "unexpected arguments: $*" >&2
    exit 1
    ;;
esac

exit 0

--- FILE root/sbin/devices ---
#!/bin/sh

process()
{
  if [ -r "$1" ]; then
    IFS=: read major minor < "$1"
    name="`dirname $1`"; name="/dev/`basename $name`"
    [ -b "$name" -o -c "$name" ] || mknod "$name" "$type" "$major" "$minor"
  fi
}

mkdir -p /sys /dev
[ ! -d /sys/block ] && mount -t sysfs sys /sys

type=b
for i in /sys/block/*/dev; do process "$i"; done
for i in /sys/block/*/*/dev; do process "$i"; done
type=c
for i in /sys/class/*/*/dev; do process "$i"; done

if [ -c /dev/device-mapper -a ! -d /dev/mapper ]; then
  mkdir -p /dev/mapper
  ln -sf ../device-mapper /dev/mapper/control
fi

[ -p /dev/initctl ] || mknod /dev/initctl p

chmod 666 /dev/null

--- FILE linux-config-smallk ---
#
# Automatically generated make config: don't edit
# Linux kernel version: 2.6.14.3
# Sun Nov 27 19:33:51 2005
#
CONFIG_X86=y
CONFIG_SEMAPHORE_SLEEPERS=y
CONFIG_MMU=y
CONFIG_UID16=y
CONFIG_GENERIC_ISA_DMA=y
CONFIG_GENERIC_IOMAP=y
CONFIG_ARCH_MAY_HAVE_PC_FDC=y

#
# Code maturity level options
#
CONFIG_EXPERIMENTAL=y
CONFIG_CLEAN_COMPILE=y
CONFIG_BROKEN_ON_SMP=y
CONFIG_INIT_ENV_ARG_LIMIT=32

#
# General setup
#
CONFIG_LOCALVERSION=""
CONFIG_LOCALVERSION_AUTO=y
CONFIG_SWAP=y
# CONFIG_SYSVIPC is not set
# CONFIG_POSIX_MQUEUE is not set
# CONFIG_BSD_PROCESS_ACCT is not set
CONFIG_SYSCTL=y
# CONFIG_AUDIT is not set
CONFIG_HOTPLUG=y
# CONFIG_KOBJECT_UEVENT is not set
# CONFIG_IKCONFIG is not set
CONFIG_INITRAMFS_SOURCE=""
CONFIG_EMBEDDED=y
# CONFIG_KALLSYMS is not set
CONFIG_PRINTK=y
CONFIG_BUG=y
CONFIG_BASE_FULL=y
CONFIG_FUTEX=y
# CONFIG_EPOLL is not set
CONFIG_CC_OPTIMIZE_FOR_SIZE=y
CONFIG_SHMEM=y
CONFIG_CC_ALIGN_FUNCTIONS=0
CONFIG_CC_ALIGN_LABELS=0
CONFIG_CC_ALIGN_LOOPS=0
CONFIG_CC_ALIGN_JUMPS=0
# CONFIG_TINY_SHMEM is not set
CONFIG_BASE_SMALL=0

#
# Loadable module support
#
# CONFIG_MODULES is not set

#
# Processor type and features
#
CONFIG_X86_PC=y
# CONFIG_X86_ELAN is not set
# CONFIG_X86_VOYAGER is not set
# CONFIG_X86_NUMAQ is not set
# CONFIG_X86_SUMMIT is not set
# CONFIG_X86_BIGSMP is not set
# CONFIG_X86_VISWS is not set
# CONFIG_X86_GENERICARCH is not set
# CONFIG_X86_ES7000 is not set
CONFIG_M386=y
# CONFIG_M486 is not set
# CONFIG_M586 is not set
# CONFIG_M586TSC is not set
# CONFIG_M586MMX is not set
# CONFIG_M686 is not set
# CONFIG_MPENTIUMII is not set
# CONFIG_MPENTIUMIII is not set
# CONFIG_MPENTIUMM is not set
# CONFIG_MPENTIUM4 is not set
# CONFIG_MK6 is not set
# CONFIG_MK7 is not set
# CONFIG_MK8 is not set
# CONFIG_MCRUSOE is not set
# CONFIG_MEFFICEON is not set
# CONFIG_MWINCHIPC6 is not set
# CONFIG_MWINCHIP2 is not set
# CONFIG_MWINCHIP3D is not set
# CONFIG_MGEODEGX1 is not set
# CONFIG_MCYRIXIII is not set
# CONFIG_MVIAC3_2 is not set
# CONFIG_X86_GENERIC is not set
CONFIG_X86_L1_CACHE_SHIFT=4
CONFIG_RWSEM_GENERIC_SPINLOCK=y
CONFIG_GENERIC_CALIBRATE_DELAY=y
CONFIG_X86_PPRO_FENCE=y
CONFIG_X86_F00F_BUG=y
# CONFIG_HPET_TIMER is not set
# CONFIG_SMP is not set
CONFIG_PREEMPT_NONE=y
# CONFIG_PREEMPT_VOLUNTARY is not set
# CONFIG_PREEMPT is not set
# CONFIG_X86_UP_APIC is not set
# CONFIG_X86_MCE is not set
# CONFIG_TOSHIBA is not set
# CONFIG_I8K is not set
# CONFIG_X86_REBOOTFIXUPS is not set
# CONFIG_MICROCODE is not set
# CONFIG_X86_MSR is not set
# CONFIG_X86_CPUID is not set

#
# Firmware Drivers
#
# CONFIG_EDD is not set
# CONFIG_DELL_RBU is not set
CONFIG_DCDBAS=y
CONFIG_NOHIGHMEM=y
# CONFIG_HIGHMEM4G is not set
# CONFIG_HIGHMEM64G is not set
CONFIG_SELECT_MEMORY_MODEL=y
CONFIG_FLATMEM_MANUAL=y
# CONFIG_DISCONTIGMEM_MANUAL is not set
# CONFIG_SPARSEMEM_MANUAL is not set
CONFIG_FLATMEM=y
CONFIG_FLAT_NODE_MEM_MAP=y
# CONFIG_SPARSEMEM_STATIC is not set
# CONFIG_MATH_EMULATION is not set
# CONFIG_MTRR is not set
# CONFIG_REGPARM is not set
# CONFIG_SECCOMP is not set
# CONFIG_HZ_100 is not set
CONFIG_HZ_250=y
# CONFIG_HZ_1000 is not set
CONFIG_HZ=250
CONFIG_PHYSICAL_START=0x100000
# CONFIG_KEXEC is not set

#
# Power management options (ACPI, APM)
#
# CONFIG_PM is not set

#
# ACPI (Advanced Configuration and Power Interface) Support
#
# CONFIG_ACPI is not set

#
# CPU Frequency scaling
#
# CONFIG_CPU_FREQ is not set

#
# Bus options (PCI, PCMCIA, EISA, MCA, ISA)
#
CONFIG_PCI=y
# CONFIG_PCI_GOBIOS is not set
# CONFIG_PCI_GOMMCONFIG is not set
# CONFIG_PCI_GODIRECT is not set
CONFIG_PCI_GOANY=y
CONFIG_PCI_BIOS=y
CONFIG_PCI_DIRECT=y
# CONFIG_PCIEPORTBUS is not set
# CONFIG_PCI_LEGACY_PROC is not set
CONFIG_ISA_DMA_API=y
# CONFIG_ISA is not set
# CONFIG_MCA is not set
# CONFIG_SCx200 is not set

#
# PCCARD (PCMCIA/CardBus) support
#
# CONFIG_PCCARD is not set

#
# PCI Hotplug Support
#
# CONFIG_HOTPLUG_PCI is not set

#
# Executable file formats
#
CONFIG_BINFMT_ELF=y
# CONFIG_BINFMT_AOUT is not set
# CONFIG_BINFMT_MISC is not set

#
# Networking
#
CONFIG_NET=y

#
# Networking options
#
CONFIG_PACKET=y
# CONFIG_PACKET_MMAP is not set
CONFIG_UNIX=y
# CONFIG_NET_KEY is not set
CONFIG_INET=y
# CONFIG_IP_MULTICAST is not set
# CONFIG_IP_ADVANCED_ROUTER is not set
CONFIG_IP_FIB_HASH=y
# CONFIG_IP_PNP is not set
# CONFIG_NET_IPIP is not set
# CONFIG_NET_IPGRE is not set
# CONFIG_ARPD is not set
# CONFIG_SYN_COOKIES is not set
# CONFIG_INET_AH is not set
# CONFIG_INET_ESP is not set
# CONFIG_INET_IPCOMP is not set
# CONFIG_INET_TUNNEL is not set
# CONFIG_INET_DIAG is not set
# CONFIG_TCP_CONG_ADVANCED is not set
CONFIG_TCP_CONG_BIC=y
# CONFIG_IPV6 is not set
# CONFIG_NETFILTER is not set

#
# DCCP Configuration (EXPERIMENTAL)
#
# CONFIG_IP_DCCP is not set

#
# SCTP Configuration (EXPERIMENTAL)
#
# CONFIG_IP_SCTP is not set
# CONFIG_ATM is not set
# CONFIG_BRIDGE is not set
# CONFIG_VLAN_8021Q is not set
# CONFIG_DECNET is not set
# CONFIG_LLC2 is not set
# CONFIG_IPX is not set
# CONFIG_ATALK is not set
# CONFIG_X25 is not set
# CONFIG_LAPB is not set
# CONFIG_NET_DIVERT is not set
# CONFIG_ECONET is not set
# CONFIG_WAN_ROUTER is not set
# CONFIG_NET_SCHED is not set
# CONFIG_NET_CLS_ROUTE is not set

#
# Network testing
#
# CONFIG_NET_PKTGEN is not set
# CONFIG_HAMRADIO is not set
# CONFIG_IRDA is not set
# CONFIG_BT is not set
# CONFIG_IEEE80211 is not set

#
# Device Drivers
#

#
# Generic Driver Options
#
CONFIG_STANDALONE=y
CONFIG_PREVENT_FIRMWARE_BUILD=y
# CONFIG_FW_LOADER is not set

#
# Connector - unified userspace <-> kernelspace linker
#
# CONFIG_CONNECTOR is not set

#
# Memory Technology Devices (MTD)
#
# CONFIG_MTD is not set

#
# Parallel port support
#
# CONFIG_PARPORT is not set

#
# Plug and Play support
#

#
# Block devices
#
CONFIG_BLK_DEV_FD=y
# CONFIG_BLK_CPQ_DA is not set
# CONFIG_BLK_CPQ_CISS_DA is not set
# CONFIG_BLK_DEV_DAC960 is not set
# CONFIG_BLK_DEV_UMEM is not set
# CONFIG_BLK_DEV_COW_COMMON is not set
CONFIG_BLK_DEV_LOOP=y
# CONFIG_BLK_DEV_CRYPTOLOOP is not set
# CONFIG_BLK_DEV_NBD is not set
# CONFIG_BLK_DEV_SX8 is not set
CONFIG_BLK_DEV_RAM=y
CONFIG_BLK_DEV_RAM_COUNT=16
CONFIG_BLK_DEV_RAM_SIZE=4096
CONFIG_BLK_DEV_INITRD=y
# CONFIG_LBD is not set
# CONFIG_CDROM_PKTCDVD is not set

#
# IO Schedulers
#
CONFIG_IOSCHED_NOOP=y
# CONFIG_IOSCHED_AS is not set
CONFIG_IOSCHED_DEADLINE=y
# CONFIG_IOSCHED_CFQ is not set
# CONFIG_ATA_OVER_ETH is not set

#
# ATA/ATAPI/MFM/RLL support
#
CONFIG_IDE=y
CONFIG_BLK_DEV_IDE=y

#
# Please see Documentation/ide.txt for help/info on IDE drives
#
# CONFIG_BLK_DEV_IDE_SATA is not set
# CONFIG_BLK_DEV_HD_IDE is not set
CONFIG_BLK_DEV_IDEDISK=y
# CONFIG_IDEDISK_MULTI_MODE is not set
# CONFIG_BLK_DEV_IDECD is not set
# CONFIG_BLK_DEV_IDETAPE is not set
# CONFIG_BLK_DEV_IDEFLOPPY is not set
# CONFIG_IDE_TASK_IOCTL is not set

#
# IDE chipset support/bugfixes
#
CONFIG_IDE_GENERIC=y
# CONFIG_BLK_DEV_CMD640 is not set
CONFIG_BLK_DEV_IDEPCI=y
CONFIG_IDEPCI_SHARE_IRQ=y
# CONFIG_BLK_DEV_OFFBOARD is not set
CONFIG_BLK_DEV_GENERIC=y
# CONFIG_BLK_DEV_OPTI621 is not set
CONFIG_BLK_DEV_RZ1000=y
CONFIG_BLK_DEV_IDEDMA_PCI=y
# CONFIG_BLK_DEV_IDEDMA_FORCED is not set
CONFIG_IDEDMA_PCI_AUTO=y
# CONFIG_IDEDMA_ONLYDISK is not set
# CONFIG_BLK_DEV_AEC62XX is not set
# CONFIG_BLK_DEV_ALI15X3 is not set
# CONFIG_BLK_DEV_AMD74XX is not set
# CONFIG_BLK_DEV_ATIIXP is not set
# CONFIG_BLK_DEV_CMD64X is not set
# CONFIG_BLK_DEV_TRIFLEX is not set
# CONFIG_BLK_DEV_CY82C693 is not set
# CONFIG_BLK_DEV_CS5520 is not set
# CONFIG_BLK_DEV_CS5530 is not set
# CONFIG_BLK_DEV_HPT34X is not set
# CONFIG_BLK_DEV_HPT366 is not set
# CONFIG_BLK_DEV_SC1200 is not set
# CONFIG_BLK_DEV_PIIX is not set
# CONFIG_BLK_DEV_IT821X is not set
# CONFIG_BLK_DEV_NS87415 is not set
# CONFIG_BLK_DEV_PDC202XX_OLD is not set
# CONFIG_BLK_DEV_PDC202XX_NEW is not set
# CONFIG_BLK_DEV_SVWKS is not set
# CONFIG_BLK_DEV_SIIMAGE is not set
# CONFIG_BLK_DEV_SIS5513 is not set
# CONFIG_BLK_DEV_SLC90E66 is not set
# CONFIG_BLK_DEV_TRM290 is not set
# CONFIG_BLK_DEV_VIA82CXXX is not set
# CONFIG_IDE_ARM is not set
CONFIG_BLK_DEV_IDEDMA=y
# CONFIG_IDEDMA_IVB is not set
CONFIG_IDEDMA_AUTO=y
# CONFIG_BLK_DEV_HD is not set

#
# SCSI device support
#
# CONFIG_RAID_ATTRS is not set
# CONFIG_SCSI is not set

#
# Multi-device support (RAID and LVM)
#
CONFIG_MD=y
# CONFIG_BLK_DEV_MD is not set
CONFIG_BLK_DEV_DM=y
# CONFIG_DM_CRYPT is not set
# CONFIG_DM_SNAPSHOT is not set
# CONFIG_DM_MIRROR is not set
# CONFIG_DM_ZERO is not set
# CONFIG_DM_MULTIPATH is not set

#
# Fusion MPT device support
#
# CONFIG_FUSION is not set

#
# IEEE 1394 (FireWire) support
#
# CONFIG_IEEE1394 is not set

#
# I2O device support
#
# CONFIG_I2O is not set

#
# Network device support
#
CONFIG_NETDEVICES=y
# CONFIG_DUMMY is not set
# CONFIG_BONDING is not set
# CONFIG_EQUALIZER is not set
# CONFIG_TUN is not set

#
# ARCnet devices
#
# CONFIG_ARCNET is not set

#
# PHY device support
#
# CONFIG_PHYLIB is not set

#
# Ethernet (10 or 100Mbit)
#
CONFIG_NET_ETHERNET=y
CONFIG_MII=y
# CONFIG_HAPPYMEAL is not set
# CONFIG_SUNGEM is not set
# CONFIG_CASSINI is not set
CONFIG_NET_VENDOR_3COM=y
CONFIG_VORTEX=y
# CONFIG_TYPHOON is not set

#
# Tulip family network device support
#
CONFIG_NET_TULIP=y
CONFIG_DE2104X=y
CONFIG_TULIP=y
# CONFIG_TULIP_MWI is not set
# CONFIG_TULIP_MMIO is not set
# CONFIG_TULIP_NAPI is not set
CONFIG_DE4X5=y
CONFIG_WINBOND_840=y
CONFIG_DM9102=y
# CONFIG_ULI526X is not set
CONFIG_HP100=y
CONFIG_NET_PCI=y
CONFIG_PCNET32=y
CONFIG_AMD8111_ETH=y
# CONFIG_AMD8111E_NAPI is not set
CONFIG_ADAPTEC_STARFIRE=y
# CONFIG_ADAPTEC_STARFIRE_NAPI is not set
CONFIG_B44=y
CONFIG_FORCEDETH=y
# CONFIG_DGRS is not set
CONFIG_EEPRO100=y
# CONFIG_E100 is not set
CONFIG_FEALNX=y
CONFIG_NATSEMI=y
CONFIG_NE2K_PCI=y
CONFIG_8139CP=y
CONFIG_8139TOO=y
# CONFIG_8139TOO_PIO is not set
# CONFIG_8139TOO_TUNE_TWISTER is not set
# CONFIG_8139TOO_8129 is not set
# CONFIG_8139_OLD_RX_RESET is not set
CONFIG_SIS900=y
CONFIG_EPIC100=y
CONFIG_SUNDANCE=y
# CONFIG_SUNDANCE_MMIO is not set
CONFIG_TLAN=y
CONFIG_VIA_RHINE=y
# CONFIG_VIA_RHINE_MMIO is not set

#
# Ethernet (1000 Mbit)
#
# CONFIG_ACENIC is not set
# CONFIG_DL2K is not set
# CONFIG_E1000 is not set
# CONFIG_NS83820 is not set
# CONFIG_HAMACHI is not set
# CONFIG_YELLOWFIN is not set
# CONFIG_R8169 is not set
# CONFIG_SIS190 is not set
# CONFIG_SKGE is not set
# CONFIG_SK98LIN is not set
# CONFIG_VIA_VELOCITY is not set
# CONFIG_TIGON3 is not set
# CONFIG_BNX2 is not set

#
# Ethernet (10000 Mbit)
#
# CONFIG_CHELSIO_T1 is not set
# CONFIG_IXGB is not set
# CONFIG_S2IO is not set

#
# Token Ring devices
#
# CONFIG_TR is not set

#
# Wireless LAN (non-hamradio)
#
# CONFIG_NET_RADIO is not set

#
# Wan interfaces
#
# CONFIG_WAN is not set
# CONFIG_FDDI is not set
# CONFIG_HIPPI is not set
# CONFIG_PPP is not set
# CONFIG_SLIP is not set
# CONFIG_SHAPER is not set
# CONFIG_NETCONSOLE is not set
# CONFIG_NETPOLL is not set
# CONFIG_NET_POLL_CONTROLLER is not set

#
# ISDN subsystem
#
# CONFIG_ISDN is not set

#
# Telephony Support
#
# CONFIG_PHONE is not set

#
# Input device support
#
CONFIG_INPUT=y

#
# Userland interfaces
#
# CONFIG_INPUT_MOUSEDEV is not set
# CONFIG_INPUT_JOYDEV is not set
# CONFIG_INPUT_TSDEV is not set
# CONFIG_INPUT_EVDEV is not set
# CONFIG_INPUT_EVBUG is not set

#
# Input Device Drivers
#
CONFIG_INPUT_KEYBOARD=y
CONFIG_KEYBOARD_ATKBD=y
# CONFIG_KEYBOARD_SUNKBD is not set
# CONFIG_KEYBOARD_LKKBD is not set
# CONFIG_KEYBOARD_XTKBD is not set
# CONFIG_KEYBOARD_NEWTON is not set
# CONFIG_INPUT_MOUSE is not set
# CONFIG_INPUT_JOYSTICK is not set
# CONFIG_INPUT_TOUCHSCREEN is not set
# CONFIG_INPUT_MISC is not set

#
# Hardware I/O ports
#
CONFIG_SERIO=y
CONFIG_SERIO_I8042=y
# CONFIG_SERIO_SERPORT is not set
# CONFIG_SERIO_CT82C710 is not set
# CONFIG_SERIO_PCIPS2 is not set
CONFIG_SERIO_LIBPS2=y
# CONFIG_SERIO_RAW is not set
# CONFIG_GAMEPORT is not set

#
# Character devices
#
CONFIG_VT=y
CONFIG_VT_CONSOLE=y
CONFIG_HW_CONSOLE=y
# CONFIG_SERIAL_NONSTANDARD is not set

#
# Serial drivers
#
# CONFIG_SERIAL_8250 is not set

#
# Non-8250 serial port support
#
# CONFIG_SERIAL_JSM is not set
# CONFIG_UNIX98_PTYS is not set
# CONFIG_LEGACY_PTYS is not set

#
# IPMI
#
# CONFIG_IPMI_HANDLER is not set

#
# Watchdog Cards
#
# CONFIG_WATCHDOG is not set
# CONFIG_HW_RANDOM is not set
# CONFIG_NVRAM is not set
# CONFIG_RTC is not set
# CONFIG_GEN_RTC is not set
# CONFIG_DTLK is not set
# CONFIG_R3964 is not set
# CONFIG_APPLICOM is not set
# CONFIG_SONYPI is not set

#
# Ftape, the floppy tape device driver
#
# CONFIG_FTAPE is not set
# CONFIG_AGP is not set
# CONFIG_DRM is not set
# CONFIG_MWAVE is not set
# CONFIG_RAW_DRIVER is not set
# CONFIG_HANGCHECK_TIMER is not set

#
# TPM devices
#
# CONFIG_TCG_TPM is not set

#
# I2C support
#
# CONFIG_I2C is not set

#
# Dallas's 1-wire bus
#
# CONFIG_W1 is not set

#
# Hardware Monitoring support
#
# CONFIG_HWMON is not set
# CONFIG_HWMON_VID is not set

#
# Misc devices
#
# CONFIG_IBM_ASM is not set

#
# Multimedia Capabilities Port drivers
#

#
# Multimedia devices
#
# CONFIG_VIDEO_DEV is not set

#
# Digital Video Broadcasting Devices
#
# CONFIG_DVB is not set

#
# Graphics support
#
# CONFIG_FB is not set
CONFIG_VIDEO_SELECT=y

#
# Console display driver support
#
CONFIG_VGA_CONSOLE=y
CONFIG_DUMMY_CONSOLE=y

#
# Sound
#
# CONFIG_SOUND is not set

#
# USB support
#
CONFIG_USB_ARCH_HAS_HCD=y
CONFIG_USB_ARCH_HAS_OHCI=y
# CONFIG_USB is not set

#
# USB Gadget Support
#
# CONFIG_USB_GADGET is not set

#
# MMC/SD Card support
#
# CONFIG_MMC is not set

#
# InfiniBand support
#
# CONFIG_INFINIBAND is not set

#
# SN Devices
#

#
# File systems
#
CONFIG_EXT2_FS=y
# CONFIG_EXT2_FS_XATTR is not set
# CONFIG_EXT2_FS_XIP is not set
# CONFIG_EXT3_FS is not set
# CONFIG_JBD is not set
# CONFIG_REISERFS_FS is not set
# CONFIG_JFS_FS is not set
# CONFIG_FS_POSIX_ACL is not set
# CONFIG_XFS_FS is not set
# CONFIG_MINIX_FS is not set
# CONFIG_ROMFS_FS is not set
# CONFIG_INOTIFY is not set
# CONFIG_QUOTA is not set
# CONFIG_DNOTIFY is not set
# CONFIG_AUTOFS_FS is not set
# CONFIG_AUTOFS4_FS is not set
# CONFIG_FUSE_FS is not set

#
# CD-ROM/DVD Filesystems
#
# CONFIG_ISO9660_FS is not set
# CONFIG_UDF_FS is not set

#
# DOS/FAT/NT Filesystems
#
CONFIG_FAT_FS=y
# CONFIG_MSDOS_FS is not set
CONFIG_VFAT_FS=y
CONFIG_FAT_DEFAULT_CODEPAGE=437
CONFIG_FAT_DEFAULT_IOCHARSET="iso8859-1"
# CONFIG_NTFS_FS is not set

#
# Pseudo filesystems
#
CONFIG_PROC_FS=y
CONFIG_PROC_KCORE=y
CONFIG_SYSFS=y
CONFIG_TMPFS=y
# CONFIG_HUGETLBFS is not set
# CONFIG_HUGETLB_PAGE is not set
CONFIG_RAMFS=y
# CONFIG_RELAYFS_FS is not set

#
# Miscellaneous filesystems
#
# CONFIG_ADFS_FS is not set
# CONFIG_AFFS_FS is not set
# CONFIG_HFS_FS is not set
# CONFIG_HFSPLUS_FS is not set
# CONFIG_BEFS_FS is not set
# CONFIG_BFS_FS is not set
# CONFIG_EFS_FS is not set
# CONFIG_CRAMFS is not set
# CONFIG_VXFS_FS is not set
# CONFIG_HPFS_FS is not set
# CONFIG_QNX4FS_FS is not set
# CONFIG_SYSV_FS is not set
# CONFIG_UFS_FS is not set

#
# Network File Systems
#
# CONFIG_NFS_FS is not set
# CONFIG_NFSD is not set
# CONFIG_SMB_FS is not set
# CONFIG_CIFS is not set
# CONFIG_NCP_FS is not set
# CONFIG_CODA_FS is not set
# CONFIG_AFS_FS is not set
# CONFIG_9P_FS is not set

#
# Partition Types
#
# CONFIG_PARTITION_ADVANCED is not set
CONFIG_MSDOS_PARTITION=y

#
# Native Language Support
#
CONFIG_NLS=y
CONFIG_NLS_DEFAULT="iso8859-1"
# CONFIG_NLS_CODEPAGE_437 is not set
# CONFIG_NLS_CODEPAGE_737 is not set
# CONFIG_NLS_CODEPAGE_775 is not set
# CONFIG_NLS_CODEPAGE_850 is not set
# CONFIG_NLS_CODEPAGE_852 is not set
# CONFIG_NLS_CODEPAGE_855 is not set
# CONFIG_NLS_CODEPAGE_857 is not set
# CONFIG_NLS_CODEPAGE_860 is not set
# CONFIG_NLS_CODEPAGE_861 is not set
# CONFIG_NLS_CODEPAGE_862 is not set
# CONFIG_NLS_CODEPAGE_863 is not set
# CONFIG_NLS_CODEPAGE_864 is not set
# CONFIG_NLS_CODEPAGE_865 is not set
# CONFIG_NLS_CODEPAGE_866 is not set
# CONFIG_NLS_CODEPAGE_869 is not set
# CONFIG_NLS_CODEPAGE_936 is not set
# CONFIG_NLS_CODEPAGE_950 is not set
# CONFIG_NLS_CODEPAGE_932 is not set
# CONFIG_NLS_CODEPAGE_949 is not set
# CONFIG_NLS_CODEPAGE_874 is not set
# CONFIG_NLS_ISO8859_8 is not set
# CONFIG_NLS_CODEPAGE_1250 is not set
# CONFIG_NLS_CODEPAGE_1251 is not set
# CONFIG_NLS_ASCII is not set
# CONFIG_NLS_ISO8859_1 is not set
# CONFIG_NLS_ISO8859_2 is not set
# CONFIG_NLS_ISO8859_3 is not set
# CONFIG_NLS_ISO8859_4 is not set
# CONFIG_NLS_ISO8859_5 is not set
# CONFIG_NLS_ISO8859_6 is not set
# CONFIG_NLS_ISO8859_7 is not set
# CONFIG_NLS_ISO8859_9 is not set
# CONFIG_NLS_ISO8859_13 is not set
# CONFIG_NLS_ISO8859_14 is not set
# CONFIG_NLS_ISO8859_15 is not set
# CONFIG_NLS_KOI8_R is not set
# CONFIG_NLS_KOI8_U is not set
# CONFIG_NLS_UTF8 is not set

#
# Profiling support
#
# CONFIG_PROFILING is not set

#
# Kernel hacking
#
# CONFIG_PRINTK_TIME is not set
# CONFIG_DEBUG_KERNEL is not set
CONFIG_LOG_BUF_SHIFT=14
# CONFIG_DEBUG_BUGVERBOSE is not set
CONFIG_EARLY_PRINTK=y

#
# Security options
#
# CONFIG_KEYS is not set
# CONFIG_SECURITY is not set

#
# Cryptographic options
#
# CONFIG_CRYPTO is not set

#
# Hardware crypto devices
#

#
# Library routines
#
# CONFIG_CRC_CCITT is not set
# CONFIG_CRC16 is not set
CONFIG_CRC32=y
# CONFIG_LIBCRC32C is not set
CONFIG_GENERIC_HARDIRQS=y
CONFIG_GENERIC_IRQ_PROBE=y
CONFIG_X86_BIOS_REBOOT=y

--- FILE linux-config-largek ---
#
# Automatically generated make config: don't edit
# Linux kernel version: 2.6.10
# Mon Feb 21 12:03:33 2005
#
CONFIG_X86=y
CONFIG_MMU=y
CONFIG_UID16=y
CONFIG_GENERIC_ISA_DMA=y
CONFIG_GENERIC_IOMAP=y

#
# Code maturity level options
#
CONFIG_EXPERIMENTAL=y
CONFIG_CLEAN_COMPILE=y
CONFIG_LOCK_KERNEL=y

#
# General setup
#
CONFIG_LOCALVERSION=""
CONFIG_SWAP=y
CONFIG_SYSVIPC=y
CONFIG_POSIX_MQUEUE=y
# CONFIG_BSD_PROCESS_ACCT is not set
CONFIG_SYSCTL=y
CONFIG_AUDIT=y
CONFIG_AUDITSYSCALL=y
CONFIG_LOG_BUF_SHIFT=15
CONFIG_HOTPLUG=y
CONFIG_KOBJECT_UEVENT=y
# CONFIG_IKCONFIG is not set
# CONFIG_EMBEDDED is not set
CONFIG_KALLSYMS=y
# CONFIG_KALLSYMS_ALL is not set
# CONFIG_KALLSYMS_EXTRA_PASS is not set
CONFIG_FUTEX=y
CONFIG_EPOLL=y
# CONFIG_CC_OPTIMIZE_FOR_SIZE is not set
CONFIG_SHMEM=y
CONFIG_CC_ALIGN_FUNCTIONS=0
CONFIG_CC_ALIGN_LABELS=0
CONFIG_CC_ALIGN_LOOPS=0
CONFIG_CC_ALIGN_JUMPS=0
# CONFIG_TINY_SHMEM is not set

#
# Loadable module support
#
CONFIG_MODULES=y
# CONFIG_MODULE_UNLOAD is not set
CONFIG_OBSOLETE_MODPARM=y
# CONFIG_MODVERSIONS is not set
# CONFIG_MODULE_SRCVERSION_ALL is not set
CONFIG_KMOD=y

#
# Processor type and features
#
CONFIG_X86_PC=y
# CONFIG_X86_ELAN is not set
# CONFIG_X86_VOYAGER is not set
# CONFIG_X86_NUMAQ is not set
# CONFIG_X86_SUMMIT is not set
# CONFIG_X86_BIGSMP is not set
# CONFIG_X86_VISWS is not set
# CONFIG_X86_GENERICARCH is not set
# CONFIG_X86_ES7000 is not set
CONFIG_M386=y
# CONFIG_M486 is not set
# CONFIG_M586 is not set
# CONFIG_M586TSC is not set
# CONFIG_M586MMX is not set
# CONFIG_M686 is not set
# CONFIG_MPENTIUMII is not set
# CONFIG_MPENTIUMIII is not set
# CONFIG_MPENTIUMM is not set
# CONFIG_MPENTIUM4 is not set
# CONFIG_MK6 is not set
# CONFIG_MK7 is not set
# CONFIG_MK8 is not set
# CONFIG_MCRUSOE is not set
# CONFIG_MEFFICEON is not set
# CONFIG_MWINCHIPC6 is not set
# CONFIG_MWINCHIP2 is not set
# CONFIG_MWINCHIP3D is not set
# CONFIG_MCYRIXIII is not set
# CONFIG_MVIAC3_2 is not set
CONFIG_X86_GENERIC=y
CONFIG_X86_L1_CACHE_SHIFT=7
CONFIG_RWSEM_GENERIC_SPINLOCK=y
CONFIG_X86_PPRO_FENCE=y
CONFIG_X86_F00F_BUG=y
CONFIG_X86_INTEL_USERCOPY=y
CONFIG_HPET_TIMER=y
# CONFIG_HPET_EMULATE_RTC is not set
CONFIG_SMP=y
CONFIG_NR_CPUS=8
CONFIG_SCHED_SMT=y
CONFIG_PREEMPT=y
CONFIG_X86_LOCAL_APIC=y
CONFIG_X86_IO_APIC=y
CONFIG_X86_MCE=y
CONFIG_X86_MCE_NONFATAL=y
CONFIG_X86_MCE_P4THERMAL=y
# CONFIG_TOSHIBA is not set
# CONFIG_I8K is not set
# CONFIG_MICROCODE is not set
# CONFIG_X86_MSR is not set
# CONFIG_X86_CPUID is not set

#
# Firmware Drivers
#
# CONFIG_EDD is not set
# CONFIG_NOHIGHMEM is not set
CONFIG_HIGHMEM4G=y
# CONFIG_HIGHMEM64G is not set
CONFIG_HIGHMEM=y
# CONFIG_HIGHPTE is not set
CONFIG_MATH_EMULATION=y
CONFIG_MTRR=y
# CONFIG_EFI is not set
CONFIG_IRQBALANCE=y
# CONFIG_REGPARM is not set

#
# Power management options (ACPI, APM)
#
CONFIG_PM=y
# CONFIG_PM_DEBUG is not set
CONFIG_SOFTWARE_SUSPEND=y
CONFIG_PM_STD_PARTITION=""

#
# ACPI (Advanced Configuration and Power Interface) Support
#
CONFIG_ACPI=y
CONFIG_ACPI_BOOT=y
CONFIG_ACPI_INTERPRETER=y
CONFIG_ACPI_SLEEP=y
CONFIG_ACPI_SLEEP_PROC_FS=y
CONFIG_ACPI_AC=y
CONFIG_ACPI_BATTERY=y
CONFIG_ACPI_BUTTON=y
CONFIG_ACPI_VIDEO=m
CONFIG_ACPI_FAN=y
CONFIG_ACPI_PROCESSOR=y
CONFIG_ACPI_THERMAL=y
# CONFIG_ACPI_ASUS is not set
CONFIG_ACPI_IBM=m
# CONFIG_ACPI_TOSHIBA is not set
CONFIG_ACPI_BLACKLIST_YEAR=0
# CONFIG_ACPI_DEBUG is not set
CONFIG_ACPI_BUS=y
CONFIG_ACPI_EC=y
CONFIG_ACPI_POWER=y
CONFIG_ACPI_PCI=y
CONFIG_ACPI_SYSTEM=y
CONFIG_X86_PM_TIMER=y

#
# APM (Advanced Power Management) BIOS Support
#
# CONFIG_APM is not set

#
# CPU Frequency scaling
#
# CONFIG_CPU_FREQ is not set

#
# Bus options (PCI, PCMCIA, EISA, MCA, ISA)
#
CONFIG_PCI=y
# CONFIG_PCI_GOBIOS is not set
# CONFIG_PCI_GOMMCONFIG is not set
# CONFIG_PCI_GODIRECT is not set
CONFIG_PCI_GOANY=y
CONFIG_PCI_BIOS=y
CONFIG_PCI_DIRECT=y
CONFIG_PCI_MMCONFIG=y
# CONFIG_PCI_MSI is not set
CONFIG_PCI_LEGACY_PROC=y
CONFIG_PCI_NAMES=y
CONFIG_ISA=y
# CONFIG_EISA is not set
# CONFIG_MCA is not set
# CONFIG_SCx200 is not set

#
# PCCARD (PCMCIA/CardBus) support
#
CONFIG_PCCARD=y
# CONFIG_PCMCIA_DEBUG is not set
# CONFIG_PCMCIA_OBSOLETE is not set
CONFIG_PCMCIA=y
CONFIG_CARDBUS=y

#
# PC-card bridges
#
CONFIG_YENTA=y
CONFIG_PD6729=y
CONFIG_I82092=y
CONFIG_I82365=y
CONFIG_TCIC=y
CONFIG_PCMCIA_PROBE=y

#
# PCI Hotplug Support
#
# CONFIG_HOTPLUG_PCI is not set

#
# Executable file formats
#
CONFIG_BINFMT_ELF=y
CONFIG_BINFMT_AOUT=y
CONFIG_BINFMT_MISC=y

#
# Device Drivers
#

#
# Generic Driver Options
#
CONFIG_STANDALONE=y
CONFIG_PREVENT_FIRMWARE_BUILD=y
CONFIG_FW_LOADER=y
# CONFIG_DEBUG_DRIVER is not set

#
# Memory Technology Devices (MTD)
#
# CONFIG_MTD is not set

#
# Parallel port support
#
CONFIG_PARPORT=y
CONFIG_PARPORT_PC=y
CONFIG_PARPORT_PC_CML1=y
# CONFIG_PARPORT_SERIAL is not set
# CONFIG_PARPORT_PC_FIFO is not set
# CONFIG_PARPORT_PC_SUPERIO is not set
# CONFIG_PARPORT_PC_PCMCIA is not set
# CONFIG_PARPORT_OTHER is not set
# CONFIG_PARPORT_1284 is not set

#
# Plug and Play support
#
CONFIG_PNP=y
# CONFIG_PNP_DEBUG is not set

#
# Protocols
#
# CONFIG_ISAPNP is not set
# CONFIG_PNPBIOS is not set
CONFIG_PNPACPI=y

#
# Block devices
#
CONFIG_BLK_DEV_FD=y
# CONFIG_BLK_DEV_XD is not set
# CONFIG_PARIDE is not set
# CONFIG_BLK_CPQ_DA is not set
# CONFIG_BLK_CPQ_CISS_DA is not set
# CONFIG_BLK_DEV_DAC960 is not set
# CONFIG_BLK_DEV_UMEM is not set
CONFIG_BLK_DEV_LOOP=y
CONFIG_BLK_DEV_CRYPTOLOOP=y
# CONFIG_BLK_DEV_NBD is not set
# CONFIG_BLK_DEV_SX8 is not set
# CONFIG_BLK_DEV_UB is not set
CONFIG_BLK_DEV_RAM=y
CONFIG_BLK_DEV_RAM_COUNT=16
CONFIG_BLK_DEV_RAM_SIZE=4096
CONFIG_BLK_DEV_INITRD=y
CONFIG_INITRAMFS_SOURCE=""
CONFIG_LBD=y
# CONFIG_CDROM_PKTCDVD is not set

#
# IO Schedulers
#
CONFIG_IOSCHED_NOOP=y
CONFIG_IOSCHED_AS=y
CONFIG_IOSCHED_DEADLINE=y
CONFIG_IOSCHED_CFQ=y

#
# ATA/ATAPI/MFM/RLL support
#
CONFIG_IDE=y
CONFIG_BLK_DEV_IDE=y

#
# Please see Documentation/ide.txt for help/info on IDE drives
#
# CONFIG_BLK_DEV_IDE_SATA is not set
# CONFIG_BLK_DEV_HD_IDE is not set
CONFIG_BLK_DEV_IDEDISK=y
CONFIG_IDEDISK_MULTI_MODE=y
# CONFIG_BLK_DEV_IDECS is not set
CONFIG_BLK_DEV_IDECD=y
# CONFIG_BLK_DEV_IDETAPE is not set
# CONFIG_BLK_DEV_IDEFLOPPY is not set
# CONFIG_BLK_DEV_IDESCSI is not set
# CONFIG_IDE_TASK_IOCTL is not set

#
# IDE chipset support/bugfixes
#
CONFIG_IDE_GENERIC=y
CONFIG_BLK_DEV_CMD640=y
# CONFIG_BLK_DEV_CMD640_ENHANCED is not set
# CONFIG_BLK_DEV_IDEPNP is not set
CONFIG_BLK_DEV_IDEPCI=y
CONFIG_IDEPCI_SHARE_IRQ=y
# CONFIG_BLK_DEV_OFFBOARD is not set
CONFIG_BLK_DEV_GENERIC=y
# CONFIG_BLK_DEV_OPTI621 is not set
CONFIG_BLK_DEV_RZ1000=y
CONFIG_BLK_DEV_IDEDMA_PCI=y
# CONFIG_BLK_DEV_IDEDMA_FORCED is not set
CONFIG_IDEDMA_PCI_AUTO=y
# CONFIG_IDEDMA_ONLYDISK is not set
# CONFIG_BLK_DEV_AEC62XX is not set
# CONFIG_BLK_DEV_ALI15X3 is not set
# CONFIG_BLK_DEV_AMD74XX is not set
# CONFIG_BLK_DEV_ATIIXP is not set
# CONFIG_BLK_DEV_CMD64X is not set
# CONFIG_BLK_DEV_TRIFLEX is not set
# CONFIG_BLK_DEV_CY82C693 is not set
# CONFIG_BLK_DEV_CS5520 is not set
# CONFIG_BLK_DEV_CS5530 is not set
# CONFIG_BLK_DEV_HPT34X is not set
# CONFIG_BLK_DEV_HPT366 is not set
# CONFIG_BLK_DEV_SC1200 is not set
CONFIG_BLK_DEV_PIIX=y
# CONFIG_BLK_DEV_NS87415 is not set
# CONFIG_BLK_DEV_PDC202XX_OLD is not set
# CONFIG_BLK_DEV_PDC202XX_NEW is not set
# CONFIG_BLK_DEV_SVWKS is not set
# CONFIG_BLK_DEV_SIIMAGE is not set
# CONFIG_BLK_DEV_SIS5513 is not set
# CONFIG_BLK_DEV_SLC90E66 is not set
# CONFIG_BLK_DEV_TRM290 is not set
# CONFIG_BLK_DEV_VIA82CXXX is not set
# CONFIG_IDE_ARM is not set
# CONFIG_IDE_CHIPSETS is not set
CONFIG_BLK_DEV_IDEDMA=y
# CONFIG_IDEDMA_IVB is not set
CONFIG_IDEDMA_AUTO=y
# CONFIG_BLK_DEV_HD is not set

#
# SCSI device support
#
CONFIG_SCSI=y
CONFIG_SCSI_PROC_FS=y

#
# SCSI support type (disk, tape, CD-ROM)
#
CONFIG_BLK_DEV_SD=y
# CONFIG_CHR_DEV_ST is not set
# CONFIG_CHR_DEV_OSST is not set
CONFIG_BLK_DEV_SR=y
# CONFIG_BLK_DEV_SR_VENDOR is not set
CONFIG_CHR_DEV_SG=y

#
# Some SCSI devices (e.g. CD jukebox) support multiple LUNs
#
# CONFIG_SCSI_MULTI_LUN is not set
# CONFIG_SCSI_CONSTANTS is not set
# CONFIG_SCSI_LOGGING is not set

#
# SCSI Transport Attributes
#
# CONFIG_SCSI_SPI_ATTRS is not set
# CONFIG_SCSI_FC_ATTRS is not set

#
# SCSI low-level drivers
#
# CONFIG_BLK_DEV_3W_XXXX_RAID is not set
# CONFIG_SCSI_3W_9XXX is not set
# CONFIG_SCSI_7000FASST is not set
# CONFIG_SCSI_ACARD is not set
# CONFIG_SCSI_AHA152X is not set
# CONFIG_SCSI_AHA1542 is not set
# CONFIG_SCSI_AACRAID is not set
# CONFIG_SCSI_AIC7XXX is not set
# CONFIG_SCSI_AIC7XXX_OLD is not set
# CONFIG_SCSI_AIC79XX is not set
CONFIG_SCSI_DPT_I2O=m
# CONFIG_SCSI_IN2000 is not set
# CONFIG_MEGARAID_NEWGEN is not set
# CONFIG_MEGARAID_LEGACY is not set
CONFIG_SCSI_SATA=y
CONFIG_SCSI_SATA_AHCI=y
CONFIG_SCSI_SATA_SVW=y
CONFIG_SCSI_ATA_PIIX=y
CONFIG_SCSI_SATA_NV=y
CONFIG_SCSI_SATA_PROMISE=y
CONFIG_SCSI_SATA_SX4=y
CONFIG_SCSI_SATA_SIL=y
CONFIG_SCSI_SATA_SIS=y
CONFIG_SCSI_SATA_ULI=y
CONFIG_SCSI_SATA_VIA=y
CONFIG_SCSI_SATA_VITESSE=y
CONFIG_SCSI_BUSLOGIC=y
# CONFIG_SCSI_OMIT_FLASHPOINT is not set
# CONFIG_SCSI_DMX3191D is not set
# CONFIG_SCSI_DTC3280 is not set
# CONFIG_SCSI_EATA is not set
# CONFIG_SCSI_EATA_PIO is not set
# CONFIG_SCSI_FUTURE_DOMAIN is not set
# CONFIG_SCSI_GDTH is not set
# CONFIG_SCSI_GENERIC_NCR5380 is not set
# CONFIG_SCSI_GENERIC_NCR5380_MMIO is not set
# CONFIG_SCSI_IPS is not set
# CONFIG_SCSI_INITIO is not set
# CONFIG_SCSI_INIA100 is not set
# CONFIG_SCSI_PPA is not set
# CONFIG_SCSI_IMM is not set
# CONFIG_SCSI_NCR53C406A is not set
# CONFIG_SCSI_SYM53C8XX_2 is not set
CONFIG_SCSI_IPR=y
# CONFIG_SCSI_IPR_TRACE is not set
# CONFIG_SCSI_IPR_DUMP is not set
# CONFIG_SCSI_PAS16 is not set
# CONFIG_SCSI_PSI240I is not set
# CONFIG_SCSI_QLOGIC_FAS is not set
# CONFIG_SCSI_QLOGIC_ISP is not set
# CONFIG_SCSI_QLOGIC_FC is not set
# CONFIG_SCSI_QLOGIC_1280 is not set
CONFIG_SCSI_QLA2XXX=y
# CONFIG_SCSI_QLA21XX is not set
# CONFIG_SCSI_QLA22XX is not set
# CONFIG_SCSI_QLA2300 is not set
# CONFIG_SCSI_QLA2322 is not set
# CONFIG_SCSI_QLA6312 is not set
# CONFIG_SCSI_QLA6322 is not set
# CONFIG_SCSI_SYM53C416 is not set
# CONFIG_SCSI_DC395x is not set
# CONFIG_SCSI_DC390T is not set
# CONFIG_SCSI_T128 is not set
# CONFIG_SCSI_U14_34F is not set
# CONFIG_SCSI_ULTRASTOR is not set
# CONFIG_SCSI_NSP32 is not set
# CONFIG_SCSI_DEBUG is not set

#
# PCMCIA SCSI adapter support
#
# CONFIG_PCMCIA_AHA152X is not set
# CONFIG_PCMCIA_FDOMAIN is not set
# CONFIG_PCMCIA_NINJA_SCSI is not set
# CONFIG_PCMCIA_QLOGIC is not set
# CONFIG_PCMCIA_SYM53C500 is not set

#
# Old CD-ROM drivers (not SCSI, not IDE)
#
# CONFIG_CD_NO_IDESCSI is not set

#
# Multi-device support (RAID and LVM)
#
CONFIG_MD=y
CONFIG_BLK_DEV_MD=y
CONFIG_MD_LINEAR=y
CONFIG_MD_RAID0=y
CONFIG_MD_RAID1=y
CONFIG_MD_RAID10=y
CONFIG_MD_RAID5=y
CONFIG_MD_RAID6=y
CONFIG_MD_MULTIPATH=y
# CONFIG_MD_FAULTY is not set
CONFIG_BLK_DEV_DM=y
CONFIG_DM_CRYPT=y
CONFIG_DM_SNAPSHOT=y
CONFIG_DM_MIRROR=y
CONFIG_DM_ZERO=y

#
# Fusion MPT device support
#
# CONFIG_FUSION is not set

#
# IEEE 1394 (FireWire) support
#
CONFIG_IEEE1394=y

#
# Subsystem Options
#
# CONFIG_IEEE1394_VERBOSEDEBUG is not set
# CONFIG_IEEE1394_OUI_DB is not set
CONFIG_IEEE1394_EXTRA_CONFIG_ROMS=y
CONFIG_IEEE1394_CONFIG_ROM_IP1394=y

#
# Device Drivers
#

#
# Texas Instruments PCILynx requires I2C
#
CONFIG_IEEE1394_OHCI1394=y

#
# Protocol Drivers
#
# CONFIG_IEEE1394_VIDEO1394 is not set
CONFIG_IEEE1394_SBP2=y
# CONFIG_IEEE1394_SBP2_PHYS_DMA is not set
CONFIG_IEEE1394_ETH1394=y
# CONFIG_IEEE1394_DV1394 is not set
CONFIG_IEEE1394_RAWIO=y
# CONFIG_IEEE1394_CMP is not set

#
# I2O device support
#
# CONFIG_I2O is not set

#
# Networking support
#
CONFIG_NET=y

#
# Networking options
#
CONFIG_PACKET=y
# CONFIG_PACKET_MMAP is not set
# CONFIG_NETLINK_DEV is not set
CONFIG_UNIX=y
# CONFIG_NET_KEY is not set
CONFIG_INET=y
CONFIG_IP_MULTICAST=y
# CONFIG_IP_ADVANCED_ROUTER is not set
# CONFIG_IP_PNP is not set
# CONFIG_NET_IPIP is not set
# CONFIG_NET_IPGRE is not set
# CONFIG_IP_MROUTE is not set
# CONFIG_ARPD is not set
# CONFIG_SYN_COOKIES is not set
# CONFIG_INET_AH is not set
# CONFIG_INET_ESP is not set
# CONFIG_INET_IPCOMP is not set
# CONFIG_INET_TUNNEL is not set
CONFIG_IP_TCPDIAG=y
# CONFIG_IP_TCPDIAG_IPV6 is not set

#
# IP: Virtual Server Configuration
#
# CONFIG_IP_VS is not set
# CONFIG_IPV6 is not set
CONFIG_NETFILTER=y
# CONFIG_NETFILTER_DEBUG is not set

#
# IP: Netfilter Configuration
#
CONFIG_IP_NF_CONNTRACK=y
# CONFIG_IP_NF_CT_ACCT is not set
# CONFIG_IP_NF_CONNTRACK_MARK is not set
# CONFIG_IP_NF_CT_PROTO_SCTP is not set
# CONFIG_IP_NF_FTP is not set
# CONFIG_IP_NF_IRC is not set
# CONFIG_IP_NF_TFTP is not set
# CONFIG_IP_NF_AMANDA is not set
CONFIG_IP_NF_QUEUE=y
CONFIG_IP_NF_IPTABLES=y
CONFIG_IP_NF_MATCH_LIMIT=y
CONFIG_IP_NF_MATCH_IPRANGE=y
CONFIG_IP_NF_MATCH_MAC=y
CONFIG_IP_NF_MATCH_PKTTYPE=y
CONFIG_IP_NF_MATCH_MARK=y
CONFIG_IP_NF_MATCH_MULTIPORT=y
CONFIG_IP_NF_MATCH_TOS=y
CONFIG_IP_NF_MATCH_RECENT=y
CONFIG_IP_NF_MATCH_ECN=y
CONFIG_IP_NF_MATCH_DSCP=y
CONFIG_IP_NF_MATCH_AH_ESP=y
CONFIG_IP_NF_MATCH_LENGTH=y
CONFIG_IP_NF_MATCH_TTL=y
CONFIG_IP_NF_MATCH_TCPMSS=y
CONFIG_IP_NF_MATCH_HELPER=y
CONFIG_IP_NF_MATCH_STATE=y
CONFIG_IP_NF_MATCH_CONNTRACK=y
CONFIG_IP_NF_MATCH_OWNER=y
# CONFIG_IP_NF_MATCH_ADDRTYPE is not set
# CONFIG_IP_NF_MATCH_REALM is not set
# CONFIG_IP_NF_MATCH_SCTP is not set
# CONFIG_IP_NF_MATCH_COMMENT is not set
# CONFIG_IP_NF_MATCH_HASHLIMIT is not set
CONFIG_IP_NF_FILTER=y
CONFIG_IP_NF_TARGET_REJECT=y
CONFIG_IP_NF_TARGET_LOG=y
CONFIG_IP_NF_TARGET_ULOG=y
CONFIG_IP_NF_TARGET_TCPMSS=y
CONFIG_IP_NF_NAT=y
CONFIG_IP_NF_NAT_NEEDED=y
CONFIG_IP_NF_TARGET_MASQUERADE=y
CONFIG_IP_NF_TARGET_REDIRECT=y
CONFIG_IP_NF_TARGET_NETMAP=y
CONFIG_IP_NF_TARGET_SAME=y
# CONFIG_IP_NF_NAT_LOCAL is not set
# CONFIG_IP_NF_NAT_SNMP_BASIC is not set
CONFIG_IP_NF_MANGLE=y
CONFIG_IP_NF_TARGET_TOS=y
CONFIG_IP_NF_TARGET_ECN=y
CONFIG_IP_NF_TARGET_DSCP=y
CONFIG_IP_NF_TARGET_MARK=y
CONFIG_IP_NF_TARGET_CLASSIFY=y
CONFIG_IP_NF_RAW=m
CONFIG_IP_NF_TARGET_NOTRACK=m
CONFIG_IP_NF_ARPTABLES=y
CONFIG_IP_NF_ARPFILTER=y
CONFIG_IP_NF_ARP_MANGLE=y

#
# SCTP Configuration (EXPERIMENTAL)
#
# CONFIG_IP_SCTP is not set
# CONFIG_ATM is not set
# CONFIG_BRIDGE is not set
# CONFIG_VLAN_8021Q is not set
# CONFIG_DECNET is not set
# CONFIG_LLC2 is not set
# CONFIG_IPX is not set
# CONFIG_ATALK is not set
# CONFIG_X25 is not set
# CONFIG_LAPB is not set
# CONFIG_NET_DIVERT is not set
# CONFIG_ECONET is not set
# CONFIG_WAN_ROUTER is not set

#
# QoS and/or fair queueing
#
# CONFIG_NET_SCHED is not set
# CONFIG_NET_CLS_ROUTE is not set

#
# Network testing
#
# CONFIG_NET_PKTGEN is not set
# CONFIG_NETPOLL is not set
# CONFIG_NET_POLL_CONTROLLER is not set
# CONFIG_HAMRADIO is not set
# CONFIG_IRDA is not set
CONFIG_BT=y
CONFIG_BT_L2CAP=y
CONFIG_BT_SCO=y
CONFIG_BT_RFCOMM=y
CONFIG_BT_RFCOMM_TTY=y
CONFIG_BT_BNEP=y
CONFIG_BT_BNEP_MC_FILTER=y
CONFIG_BT_BNEP_PROTO_FILTER=y
CONFIG_BT_HIDP=y

#
# Bluetooth device drivers
#
CONFIG_BT_HCIUSB=y
CONFIG_BT_HCIUSB_SCO=y
CONFIG_BT_HCIUART=y
CONFIG_BT_HCIUART_H4=y
CONFIG_BT_HCIUART_BCSP=y
CONFIG_BT_HCIUART_BCSP_TXCRC=y
CONFIG_BT_HCIBCM203X=y
CONFIG_BT_HCIBFUSB=y
CONFIG_BT_HCIDTL1=y
CONFIG_BT_HCIBT3C=y
CONFIG_BT_HCIBLUECARD=y
CONFIG_BT_HCIBTUART=y
CONFIG_BT_HCIVHCI=y
CONFIG_NETDEVICES=y
CONFIG_DUMMY=m
# CONFIG_BONDING is not set
# CONFIG_EQUALIZER is not set
CONFIG_TUN=y
# CONFIG_NET_SB1000 is not set

#
# ARCnet devices
#
# CONFIG_ARCNET is not set

#
# Ethernet (10 or 100Mbit)
#
CONFIG_NET_ETHERNET=y
CONFIG_MII=y
# CONFIG_HAPPYMEAL is not set
# CONFIG_SUNGEM is not set
CONFIG_NET_VENDOR_3COM=y
CONFIG_EL1=y
CONFIG_EL2=y
CONFIG_ELPLUS=y
CONFIG_EL16=y
CONFIG_EL3=y
CONFIG_3C515=y
CONFIG_VORTEX=y
CONFIG_TYPHOON=y
CONFIG_LANCE=y
CONFIG_NET_VENDOR_SMC=y
CONFIG_WD80x3=y
CONFIG_ULTRA=y
CONFIG_SMC9194=y
CONFIG_NET_VENDOR_RACAL=y
CONFIG_NI52=y
CONFIG_NI65=y

#
# Tulip family network device support
#
CONFIG_NET_TULIP=y
CONFIG_DE2104X=y
CONFIG_TULIP=y
# CONFIG_TULIP_MWI is not set
# CONFIG_TULIP_MMIO is not set
# CONFIG_TULIP_NAPI is not set
CONFIG_DE4X5=y
CONFIG_WINBOND_840=y
CONFIG_DM9102=y
CONFIG_PCMCIA_XIRCOM=y
CONFIG_AT1700=y
CONFIG_DEPCA=y
CONFIG_HP100=y
CONFIG_NET_ISA=y
# CONFIG_E2100 is not set
# CONFIG_EWRK3 is not set
# CONFIG_EEXPRESS is not set
# CONFIG_EEXPRESS_PRO is not set
# CONFIG_HPLAN_PLUS is not set
# CONFIG_HPLAN is not set
# CONFIG_LP486E is not set
# CONFIG_ETH16I is not set
CONFIG_NE2000=y
# CONFIG_ZNET is not set
# CONFIG_SEEQ8005 is not set
CONFIG_NET_PCI=y
CONFIG_PCNET32=y
CONFIG_AMD8111_ETH=y
# CONFIG_AMD8111E_NAPI is not set
CONFIG_ADAPTEC_STARFIRE=y
# CONFIG_ADAPTEC_STARFIRE_NAPI is not set
CONFIG_AC3200=y
CONFIG_APRICOT=y
CONFIG_B44=y
CONFIG_FORCEDETH=y
CONFIG_CS89x0=y
CONFIG_DGRS=y
CONFIG_EEPRO100=y
# CONFIG_EEPRO100_PIO is not set
CONFIG_E100=y
# CONFIG_E100_NAPI is not set
CONFIG_FEALNX=y
CONFIG_NATSEMI=y
CONFIG_NE2K_PCI=y
CONFIG_8139CP=y
CONFIG_8139TOO=y
CONFIG_8139TOO_PIO=y
# CONFIG_8139TOO_TUNE_TWISTER is not set
# CONFIG_8139TOO_8129 is not set
# CONFIG_8139_OLD_RX_RESET is not set
CONFIG_SIS900=y
CONFIG_EPIC100=y
CONFIG_SUNDANCE=y
# CONFIG_SUNDANCE_MMIO is not set
CONFIG_TLAN=y
CONFIG_VIA_RHINE=y
# CONFIG_VIA_RHINE_MMIO is not set
# CONFIG_NET_POCKET is not set

#
# Ethernet (1000 Mbit)
#
CONFIG_ACENIC=y
# CONFIG_ACENIC_OMIT_TIGON_I is not set
CONFIG_DL2K=y
CONFIG_E1000=y
# CONFIG_E1000_NAPI is not set
CONFIG_NS83820=y
CONFIG_HAMACHI=y
CONFIG_YELLOWFIN=y
CONFIG_R8169=y
# CONFIG_R8169_NAPI is not set
CONFIG_SK98LIN=y
CONFIG_VIA_VELOCITY=y
CONFIG_TIGON3=y

#
# Ethernet (10000 Mbit)
#
# CONFIG_IXGB is not set
CONFIG_S2IO=m
# CONFIG_S2IO_NAPI is not set

#
# Token Ring devices
#
# CONFIG_TR is not set

#
# Wireless LAN (non-hamradio)
#
CONFIG_NET_RADIO=y

#
# Obsolete Wireless cards support (pre-802.11)
#
# CONFIG_STRIP is not set
# CONFIG_ARLAN is not set
# CONFIG_WAVELAN is not set
# CONFIG_PCMCIA_WAVELAN is not set
# CONFIG_PCMCIA_NETWAVE is not set

#
# Wireless 802.11 Frequency Hopping cards support
#
CONFIG_PCMCIA_RAYCS=y

#
# Wireless 802.11b ISA/PCI cards support
#
CONFIG_AIRO=y
CONFIG_HERMES=y
CONFIG_PLX_HERMES=y
CONFIG_TMD_HERMES=y
CONFIG_PCI_HERMES=y
CONFIG_ATMEL=y
CONFIG_PCI_ATMEL=y

#
# Wireless 802.11b Pcmcia/Cardbus cards support
#
CONFIG_PCMCIA_HERMES=y
CONFIG_AIRO_CS=y
CONFIG_PCMCIA_ATMEL=y
CONFIG_PCMCIA_WL3501=y

#
# Prism GT/Duette 802.11(a/b/g) PCI/Cardbus support
#
CONFIG_PRISM54=y
CONFIG_NET_WIRELESS=y

#
# PCMCIA network device support
#
CONFIG_NET_PCMCIA=y
CONFIG_PCMCIA_3C589=y
CONFIG_PCMCIA_3C574=y
CONFIG_PCMCIA_FMVJ18X=y
CONFIG_PCMCIA_PCNET=y
CONFIG_PCMCIA_NMCLAN=y
CONFIG_PCMCIA_SMC91C92=y
CONFIG_PCMCIA_XIRC2PS=y
CONFIG_PCMCIA_AXNET=y

#
# Wan interfaces
#
# CONFIG_WAN is not set
# CONFIG_FDDI is not set
# CONFIG_HIPPI is not set
# CONFIG_PLIP is not set
CONFIG_PPP=y
# CONFIG_PPP_MULTILINK is not set
# CONFIG_PPP_FILTER is not set
CONFIG_PPP_ASYNC=y
# CONFIG_PPP_SYNC_TTY is not set
CONFIG_PPP_DEFLATE=y
# CONFIG_PPP_BSDCOMP is not set
CONFIG_PPPOE=y
# CONFIG_SLIP is not set
# CONFIG_NET_FC is not set
# CONFIG_SHAPER is not set
# CONFIG_NETCONSOLE is not set

#
# ISDN subsystem
#
# CONFIG_ISDN is not set

#
# Telephony Support
#
# CONFIG_PHONE is not set

#
# Input device support
#
CONFIG_INPUT=y

#
# Userland interfaces
#
CONFIG_INPUT_MOUSEDEV=y
CONFIG_INPUT_MOUSEDEV_PSAUX=y
CONFIG_INPUT_MOUSEDEV_SCREEN_X=1024
CONFIG_INPUT_MOUSEDEV_SCREEN_Y=768
# CONFIG_INPUT_JOYDEV is not set
# CONFIG_INPUT_TSDEV is not set
CONFIG_INPUT_EVDEV=y
# CONFIG_INPUT_EVBUG is not set

#
# Input I/O drivers
#
# CONFIG_GAMEPORT is not set
CONFIG_SOUND_GAMEPORT=y
CONFIG_SERIO=y
CONFIG_SERIO_I8042=y
# CONFIG_SERIO_SERPORT is not set
# CONFIG_SERIO_CT82C710 is not set
# CONFIG_SERIO_PARKBD is not set
CONFIG_SERIO_PCIPS2=y
# CONFIG_SERIO_RAW is not set

#
# Input Device Drivers
#
CONFIG_INPUT_KEYBOARD=y
CONFIG_KEYBOARD_ATKBD=y
# CONFIG_KEYBOARD_SUNKBD is not set
# CONFIG_KEYBOARD_LKKBD is not set
# CONFIG_KEYBOARD_XTKBD is not set
# CONFIG_KEYBOARD_NEWTON is not set
CONFIG_INPUT_MOUSE=y
CONFIG_MOUSE_PS2=y
# CONFIG_MOUSE_SERIAL is not set
# CONFIG_MOUSE_INPORT is not set
# CONFIG_MOUSE_LOGIBM is not set
# CONFIG_MOUSE_PC110PAD is not set
# CONFIG_MOUSE_VSXXXAA is not set
# CONFIG_INPUT_JOYSTICK is not set
# CONFIG_INPUT_TOUCHSCREEN is not set
CONFIG_INPUT_MISC=y
CONFIG_INPUT_PCSPKR=y
CONFIG_INPUT_UINPUT=y

#
# Character devices
#
CONFIG_VT=y
CONFIG_VT_CONSOLE=y
CONFIG_HW_CONSOLE=y
# CONFIG_SERIAL_NONSTANDARD is not set

#
# Serial drivers
#
CONFIG_SERIAL_8250=y
# CONFIG_SERIAL_8250_CONSOLE is not set
# CONFIG_SERIAL_8250_CS is not set
# CONFIG_SERIAL_8250_ACPI is not set
CONFIG_SERIAL_8250_NR_UARTS=4
# CONFIG_SERIAL_8250_EXTENDED is not set

#
# Non-8250 serial port support
#
CONFIG_SERIAL_CORE=y
CONFIG_UNIX98_PTYS=y
CONFIG_LEGACY_PTYS=y
CONFIG_LEGACY_PTY_COUNT=256
CONFIG_PRINTER=y
# CONFIG_LP_CONSOLE is not set
# CONFIG_PPDEV is not set
# CONFIG_TIPAR is not set

#
# IPMI
#
# CONFIG_IPMI_HANDLER is not set

#
# Watchdog Cards
#
# CONFIG_WATCHDOG is not set
# CONFIG_HW_RANDOM is not set
# CONFIG_NVRAM is not set
CONFIG_RTC=y
# CONFIG_DTLK is not set
# CONFIG_R3964 is not set
# CONFIG_APPLICOM is not set
# CONFIG_SONYPI is not set

#
# Ftape, the floppy tape device driver
#
CONFIG_AGP=y
CONFIG_AGP_ALI=m
CONFIG_AGP_ATI=m
CONFIG_AGP_AMD=m
CONFIG_AGP_AMD64=m
CONFIG_AGP_INTEL=y
CONFIG_AGP_INTEL_MCH=m
CONFIG_AGP_NVIDIA=m
CONFIG_AGP_SIS=m
CONFIG_AGP_SWORKS=m
CONFIG_AGP_VIA=m
CONFIG_AGP_EFFICEON=m
CONFIG_DRM=y
CONFIG_DRM_TDFX=m
CONFIG_DRM_R128=m
CONFIG_DRM_RADEON=m
CONFIG_DRM_I810=m
CONFIG_DRM_I830=m
CONFIG_DRM_I915=m
CONFIG_DRM_MGA=m
CONFIG_DRM_SIS=m

#
# PCMCIA character devices
#
# CONFIG_SYNCLINK_CS is not set
# CONFIG_MWAVE is not set
# CONFIG_RAW_DRIVER is not set
# CONFIG_HPET is not set
# CONFIG_HANGCHECK_TIMER is not set

#
# I2C support
#
# CONFIG_I2C is not set

#
# Dallas's 1-wire bus
#
# CONFIG_W1 is not set

#
# Misc devices
#
# CONFIG_IBM_ASM is not set

#
# Multimedia devices
#
CONFIG_VIDEO_DEV=m

#
# Video For Linux
#

#
# Video Adapters
#
# CONFIG_VIDEO_PMS is not set
# CONFIG_VIDEO_BWQCAM is not set
# CONFIG_VIDEO_CQCAM is not set
# CONFIG_VIDEO_CPIA is not set
# CONFIG_VIDEO_STRADIS is not set
# CONFIG_VIDEO_MXB is not set
# CONFIG_VIDEO_DPC is not set
# CONFIG_VIDEO_HEXIUM_ORION is not set
# CONFIG_VIDEO_HEXIUM_GEMINI is not set
# CONFIG_VIDEO_CX88 is not set

#
# Radio Adapters
#
# CONFIG_RADIO_CADET is not set
# CONFIG_RADIO_RTRACK is not set
# CONFIG_RADIO_RTRACK2 is not set
# CONFIG_RADIO_AZTECH is not set
# CONFIG_RADIO_GEMTEK is not set
# CONFIG_RADIO_GEMTEK_PCI is not set
# CONFIG_RADIO_MAXIRADIO is not set
# CONFIG_RADIO_MAESTRO is not set
# CONFIG_RADIO_SF16FMI is not set
# CONFIG_RADIO_SF16FMR2 is not set
# CONFIG_RADIO_TERRATEC is not set
# CONFIG_RADIO_TRUST is not set
# CONFIG_RADIO_TYPHOON is not set
# CONFIG_RADIO_ZOLTRIX is not set

#
# Digital Video Broadcasting Devices
#
# CONFIG_DVB is not set

#
# Graphics support
#
CONFIG_FB=y
# CONFIG_FB_MODE_HELPERS is not set
# CONFIG_FB_TILEBLITTING is not set
# CONFIG_FB_CIRRUS is not set
# CONFIG_FB_PM2 is not set
# CONFIG_FB_CYBER2000 is not set
# CONFIG_FB_ASILIANT is not set
# CONFIG_FB_IMSTT is not set
CONFIG_FB_VGA16=y
CONFIG_FB_VESA=y
CONFIG_VIDEO_SELECT=y
# CONFIG_FB_HGA is not set
# CONFIG_FB_RIVA is not set
# CONFIG_FB_I810 is not set
# CONFIG_FB_INTEL is not set
# CONFIG_FB_MATROX is not set
# CONFIG_FB_RADEON_OLD is not set
# CONFIG_FB_RADEON is not set
# CONFIG_FB_ATY128 is not set
# CONFIG_FB_ATY is not set
# CONFIG_FB_SAVAGE is not set
# CONFIG_FB_SIS is not set
# CONFIG_FB_NEOMAGIC is not set
# CONFIG_FB_KYRO is not set
# CONFIG_FB_3DFX is not set
# CONFIG_FB_VOODOO1 is not set
# CONFIG_FB_TRIDENT is not set
# CONFIG_FB_VIRTUAL is not set

#
# Console display driver support
#
CONFIG_VGA_CONSOLE=y
# CONFIG_MDA_CONSOLE is not set
CONFIG_DUMMY_CONSOLE=y
# CONFIG_FRAMEBUFFER_CONSOLE is not set

#
# Logo configuration
#
# CONFIG_LOGO is not set

#
# Sound
#
CONFIG_SOUND=y

#
# Advanced Linux Sound Architecture
#
CONFIG_SND=y
CONFIG_SND_TIMER=y
CONFIG_SND_PCM=y
CONFIG_SND_HWDEP=m
CONFIG_SND_RAWMIDI=m
CONFIG_SND_SEQUENCER=y
# CONFIG_SND_SEQ_DUMMY is not set
CONFIG_SND_OSSEMUL=y
CONFIG_SND_MIXER_OSS=y
CONFIG_SND_PCM_OSS=y
CONFIG_SND_SEQUENCER_OSS=y
# CONFIG_SND_RTCTIMER is not set
# CONFIG_SND_VERBOSE_PRINTK is not set
# CONFIG_SND_DEBUG is not set

#
# Generic devices
#
CONFIG_SND_MPU401_UART=m
CONFIG_SND_OPL3_LIB=m
CONFIG_SND_VX_LIB=m
# CONFIG_SND_DUMMY is not set
# CONFIG_SND_VIRMIDI is not set
# CONFIG_SND_MTPAV is not set
# CONFIG_SND_SERIAL_U16550 is not set
# CONFIG_SND_MPU401 is not set

#
# ISA devices
#
# CONFIG_SND_AD1848 is not set
# CONFIG_SND_CS4231 is not set
# CONFIG_SND_CS4232 is not set
# CONFIG_SND_CS4236 is not set
# CONFIG_SND_ES1688 is not set
# CONFIG_SND_ES18XX is not set
# CONFIG_SND_GUSCLASSIC is not set
# CONFIG_SND_GUSEXTREME is not set
# CONFIG_SND_GUSMAX is not set
# CONFIG_SND_INTERWAVE is not set
# CONFIG_SND_INTERWAVE_STB is not set
# CONFIG_SND_OPTI92X_AD1848 is not set
# CONFIG_SND_OPTI92X_CS4231 is not set
# CONFIG_SND_OPTI93X is not set
# CONFIG_SND_SB8 is not set
# CONFIG_SND_SB16 is not set
# CONFIG_SND_SBAWE is not set
# CONFIG_SND_WAVEFRONT is not set
# CONFIG_SND_CMI8330 is not set
# CONFIG_SND_OPL3SA2 is not set
# CONFIG_SND_SGALAXY is not set
# CONFIG_SND_SSCAPE is not set

#
# PCI devices
#
CONFIG_SND_AC97_CODEC=m
CONFIG_SND_ALI5451=m
CONFIG_SND_ATIIXP=m
CONFIG_SND_ATIIXP_MODEM=m
CONFIG_SND_AU8810=m
CONFIG_SND_AU8820=m
CONFIG_SND_AU8830=m
CONFIG_SND_AZT3328=m
CONFIG_SND_BT87X=m
# CONFIG_SND_BT87X_OVERCLOCK is not set
CONFIG_SND_CS46XX=m
# CONFIG_SND_CS46XX_NEW_DSP is not set
CONFIG_SND_CS4281=m
CONFIG_SND_EMU10K1=m
CONFIG_SND_KORG1212=m
CONFIG_SND_MIXART=m
CONFIG_SND_NM256=m
CONFIG_SND_RME32=m
CONFIG_SND_RME96=m
CONFIG_SND_RME9652=m
CONFIG_SND_HDSP=m
CONFIG_SND_TRIDENT=m
CONFIG_SND_YMFPCI=m
CONFIG_SND_ALS4000=m
CONFIG_SND_CMIPCI=m
CONFIG_SND_ENS1370=m
CONFIG_SND_ENS1371=m
CONFIG_SND_ES1938=m
CONFIG_SND_ES1968=m
CONFIG_SND_MAESTRO3=m
CONFIG_SND_FM801=m
CONFIG_SND_FM801_TEA575X=m
CONFIG_SND_ICE1712=m
CONFIG_SND_ICE1724=m
CONFIG_SND_INTEL8X0=m
CONFIG_SND_INTEL8X0M=m
CONFIG_SND_SONICVIBES=m
CONFIG_SND_VIA82XX=m
CONFIG_SND_VX222=m

#
# USB devices
#
CONFIG_SND_USB_AUDIO=m
CONFIG_SND_USB_USX2Y=m

#
# PCMCIA devices
#
# CONFIG_SND_VXPOCKET is not set
# CONFIG_SND_VXP440 is not set
# CONFIG_SND_PDAUDIOCF is not set

#
# Open Sound System
#
# CONFIG_SOUND_PRIME is not set

#
# USB support
#
CONFIG_USB=y
# CONFIG_USB_DEBUG is not set

#
# Miscellaneous USB options
#
CONFIG_USB_DEVICEFS=y
# CONFIG_USB_BANDWIDTH is not set
# CONFIG_USB_DYNAMIC_MINORS is not set
# CONFIG_USB_SUSPEND is not set
# CONFIG_USB_OTG is not set
CONFIG_USB_ARCH_HAS_HCD=y
CONFIG_USB_ARCH_HAS_OHCI=y

#
# USB Host Controller Drivers
#
CONFIG_USB_EHCI_HCD=y
# CONFIG_USB_EHCI_SPLIT_ISO is not set
# CONFIG_USB_EHCI_ROOT_HUB_TT is not set
# CONFIG_USB_OHCI_HCD is not set
CONFIG_USB_UHCI_HCD=y
# CONFIG_USB_SL811_HCD is not set

#
# USB Device Class drivers
#
# CONFIG_USB_AUDIO is not set

#
# USB Bluetooth TTY can only be used with disabled Bluetooth subsystem
#
CONFIG_USB_MIDI=m
# CONFIG_USB_ACM is not set
CONFIG_USB_PRINTER=y

#
# NOTE: USB_STORAGE enables SCSI, and 'SCSI disk support' may also be needed; see USB_STORAGE Help for more information
#
CONFIG_USB_STORAGE=y
# CONFIG_USB_STORAGE_DEBUG is not set
# CONFIG_USB_STORAGE_RW_DETECT is not set
# CONFIG_USB_STORAGE_DATAFAB is not set
# CONFIG_USB_STORAGE_FREECOM is not set
# CONFIG_USB_STORAGE_ISD200 is not set
# CONFIG_USB_STORAGE_DPCM is not set
# CONFIG_USB_STORAGE_HP8200e is not set
# CONFIG_USB_STORAGE_SDDR09 is not set
# CONFIG_USB_STORAGE_SDDR55 is not set
# CONFIG_USB_STORAGE_JUMPSHOT is not set

#
# USB Input Devices
#
CONFIG_USB_HID=y
CONFIG_USB_HIDINPUT=y
# CONFIG_HID_FF is not set
# CONFIG_USB_HIDDEV is not set
# CONFIG_USB_AIPTEK is not set
# CONFIG_USB_WACOM is not set
# CONFIG_USB_KBTAB is not set
# CONFIG_USB_POWERMATE is not set
# CONFIG_USB_MTOUCH is not set
CONFIG_USB_EGALAX=m
# CONFIG_USB_XPAD is not set
# CONFIG_USB_ATI_REMOTE is not set

#
# USB Imaging devices
#
# CONFIG_USB_MDC800 is not set
# CONFIG_USB_MICROTEK is not set
# CONFIG_USB_HPUSBSCSI is not set

#
# USB Multimedia devices
#
# CONFIG_USB_DABUSB is not set
# CONFIG_USB_VICAM is not set
# CONFIG_USB_DSBR is not set
# CONFIG_USB_IBMCAM is not set
# CONFIG_USB_KONICAWC is not set
# CONFIG_USB_OV511 is not set
# CONFIG_USB_SE401 is not set
# CONFIG_USB_SN9C102 is not set
# CONFIG_USB_STV680 is not set

#
# USB Network Adapters
#
CONFIG_USB_CATC=y
CONFIG_USB_KAWETH=y
CONFIG_USB_PEGASUS=y
CONFIG_USB_RTL8150=y
CONFIG_USB_USBNET=y

#
# USB Host-to-Host Cables
#
CONFIG_USB_ALI_M5632=y
CONFIG_USB_AN2720=y
CONFIG_USB_BELKIN=y
CONFIG_USB_GENESYS=y
CONFIG_USB_NET1080=y
CONFIG_USB_PL2301=y
CONFIG_USB_KC2190=y

#
# Intelligent USB Devices/Gadgets
#
CONFIG_USB_ARMLINUX=y
CONFIG_USB_EPSON2888=y
CONFIG_USB_ZAURUS=y
CONFIG_USB_CDCETHER=y

#
# USB Network Adapters
#
CONFIG_USB_AX8817X=y

#
# USB port drivers
#
# CONFIG_USB_USS720 is not set

#
# USB Serial Converter support
#
# CONFIG_USB_SERIAL is not set

#
# USB Miscellaneous drivers
#
# CONFIG_USB_EMI62 is not set
# CONFIG_USB_EMI26 is not set
# CONFIG_USB_TIGL is not set
# CONFIG_USB_AUERSWALD is not set
# CONFIG_USB_RIO500 is not set
# CONFIG_USB_LEGOTOWER is not set
# CONFIG_USB_LCD is not set
# CONFIG_USB_LED is not set
CONFIG_USB_CYTHERM=m
# CONFIG_USB_PHIDGETKIT is not set
CONFIG_USB_PHIDGETSERVO=m
# CONFIG_USB_TEST is not set

#
# USB ATM/DSL drivers
#

#
# USB Gadget Support
#
# CONFIG_USB_GADGET is not set

#
# MMC/SD Card support
#
# CONFIG_MMC is not set

#
# File systems
#
CONFIG_EXT2_FS=y
# CONFIG_EXT2_FS_XATTR is not set
CONFIG_EXT3_FS=y
# CONFIG_EXT3_FS_XATTR is not set
CONFIG_JBD=y
# CONFIG_JBD_DEBUG is not set
CONFIG_REISERFS_FS=y
# CONFIG_REISERFS_CHECK is not set
# CONFIG_REISERFS_PROC_INFO is not set
# CONFIG_REISERFS_FS_XATTR is not set
# CONFIG_JFS_FS is not set
# CONFIG_XFS_FS is not set
CONFIG_MINIX_FS=y
CONFIG_ROMFS_FS=y
# CONFIG_QUOTA is not set
CONFIG_DNOTIFY=y
# CONFIG_AUTOFS_FS is not set
CONFIG_AUTOFS4_FS=y

#
# CD-ROM/DVD Filesystems
#
CONFIG_ISO9660_FS=y
CONFIG_JOLIET=y
CONFIG_ZISOFS=y
CONFIG_ZISOFS_FS=y
CONFIG_UDF_FS=y
CONFIG_UDF_NLS=y

#
# DOS/FAT/NT Filesystems
#
CONFIG_FAT_FS=y
CONFIG_MSDOS_FS=y
CONFIG_VFAT_FS=y
CONFIG_FAT_DEFAULT_CODEPAGE=437
CONFIG_FAT_DEFAULT_IOCHARSET="iso8859-1"
CONFIG_NTFS_FS=y
# CONFIG_NTFS_DEBUG is not set
CONFIG_NTFS_RW=y

#
# Pseudo filesystems
#
CONFIG_PROC_FS=y
CONFIG_PROC_KCORE=y
CONFIG_SYSFS=y
# CONFIG_DEVFS_FS is not set
# CONFIG_DEVPTS_FS_XATTR is not set
CONFIG_TMPFS=y
# CONFIG_TMPFS_XATTR is not set
# CONFIG_HUGETLBFS is not set
# CONFIG_HUGETLB_PAGE is not set
CONFIG_RAMFS=y

#
# Miscellaneous filesystems
#
# CONFIG_ADFS_FS is not set
# CONFIG_AFFS_FS is not set
# CONFIG_HFS_FS is not set
# CONFIG_HFSPLUS_FS is not set
# CONFIG_BEFS_FS is not set
# CONFIG_BFS_FS is not set
# CONFIG_EFS_FS is not set
# CONFIG_CRAMFS is not set
# CONFIG_VXFS_FS is not set
# CONFIG_HPFS_FS is not set
# CONFIG_QNX4FS_FS is not set
# CONFIG_SYSV_FS is not set
# CONFIG_UFS_FS is not set

#
# Network File Systems
#
CONFIG_NFS_FS=m
CONFIG_NFS_V3=y
# CONFIG_NFS_V4 is not set
# CONFIG_NFS_DIRECTIO is not set
# CONFIG_NFSD is not set
CONFIG_LOCKD=m
CONFIG_LOCKD_V4=y
# CONFIG_EXPORTFS is not set
CONFIG_SUNRPC=m
# CONFIG_RPCSEC_GSS_KRB5 is not set
# CONFIG_RPCSEC_GSS_SPKM3 is not set
CONFIG_SMB_FS=m
# CONFIG_SMB_NLS_DEFAULT is not set
CONFIG_CIFS=m
# CONFIG_CIFS_STATS is not set
# CONFIG_CIFS_XATTR is not set
# CONFIG_CIFS_EXPERIMENTAL is not set
# CONFIG_NCP_FS is not set
# CONFIG_CODA_FS is not set
# CONFIG_AFS_FS is not set

#
# Partition Types
#
# CONFIG_PARTITION_ADVANCED is not set
CONFIG_MSDOS_PARTITION=y

#
# Native Language Support
#
CONFIG_NLS=y
CONFIG_NLS_DEFAULT="iso8859-1"
CONFIG_NLS_CODEPAGE_437=y
# CONFIG_NLS_CODEPAGE_737 is not set
# CONFIG_NLS_CODEPAGE_775 is not set
# CONFIG_NLS_CODEPAGE_850 is not set
# CONFIG_NLS_CODEPAGE_852 is not set
# CONFIG_NLS_CODEPAGE_855 is not set
# CONFIG_NLS_CODEPAGE_857 is not set
# CONFIG_NLS_CODEPAGE_860 is not set
# CONFIG_NLS_CODEPAGE_861 is not set
# CONFIG_NLS_CODEPAGE_862 is not set
# CONFIG_NLS_CODEPAGE_863 is not set
# CONFIG_NLS_CODEPAGE_864 is not set
# CONFIG_NLS_CODEPAGE_865 is not set
# CONFIG_NLS_CODEPAGE_866 is not set
# CONFIG_NLS_CODEPAGE_869 is not set
# CONFIG_NLS_CODEPAGE_936 is not set
# CONFIG_NLS_CODEPAGE_950 is not set
# CONFIG_NLS_CODEPAGE_932 is not set
# CONFIG_NLS_CODEPAGE_949 is not set
# CONFIG_NLS_CODEPAGE_874 is not set
# CONFIG_NLS_ISO8859_8 is not set
# CONFIG_NLS_CODEPAGE_1250 is not set
# CONFIG_NLS_CODEPAGE_1251 is not set
# CONFIG_NLS_ASCII is not set
CONFIG_NLS_ISO8859_1=y
# CONFIG_NLS_ISO8859_2 is not set
# CONFIG_NLS_ISO8859_3 is not set
# CONFIG_NLS_ISO8859_4 is not set
# CONFIG_NLS_ISO8859_5 is not set
# CONFIG_NLS_ISO8859_6 is not set
# CONFIG_NLS_ISO8859_7 is not set
# CONFIG_NLS_ISO8859_9 is not set
# CONFIG_NLS_ISO8859_13 is not set
# CONFIG_NLS_ISO8859_14 is not set
# CONFIG_NLS_ISO8859_15 is not set
# CONFIG_NLS_KOI8_R is not set
# CONFIG_NLS_KOI8_U is not set
CONFIG_NLS_UTF8=m

#
# Profiling support
#
CONFIG_PROFILING=y
CONFIG_OPROFILE=y

#
# Kernel hacking
#
CONFIG_DEBUG_KERNEL=y
CONFIG_MAGIC_SYSRQ=y
# CONFIG_SCHEDSTATS is not set
# CONFIG_DEBUG_SLAB is not set
# CONFIG_DEBUG_SPINLOCK is not set
# CONFIG_DEBUG_SPINLOCK_SLEEP is not set
# CONFIG_DEBUG_KOBJECT is not set
# CONFIG_DEBUG_HIGHMEM is not set
# CONFIG_DEBUG_INFO is not set
# CONFIG_FRAME_POINTER is not set
CONFIG_EARLY_PRINTK=y
# CONFIG_DEBUG_STACKOVERFLOW is not set
# CONFIG_KPROBES is not set
# CONFIG_DEBUG_STACK_USAGE is not set
# CONFIG_DEBUG_PAGEALLOC is not set
CONFIG_4KSTACKS=y
CONFIG_X86_FIND_SMP_CONFIG=y
CONFIG_X86_MPPARSE=y

#
# Security options
#
# CONFIG_KEYS is not set
# CONFIG_SECURITY is not set

#
# Cryptographic options
#
CONFIG_CRYPTO=y
# CONFIG_CRYPTO_HMAC is not set
# CONFIG_CRYPTO_NULL is not set
# CONFIG_CRYPTO_MD4 is not set
CONFIG_CRYPTO_MD5=m
CONFIG_CRYPTO_SHA1=m
CONFIG_CRYPTO_SHA256=m
CONFIG_CRYPTO_SHA512=m
# CONFIG_CRYPTO_WP512 is not set
CONFIG_CRYPTO_DES=m
CONFIG_CRYPTO_BLOWFISH=m
CONFIG_CRYPTO_TWOFISH=m
CONFIG_CRYPTO_SERPENT=m
CONFIG_CRYPTO_AES_586=m
# CONFIG_CRYPTO_CAST5 is not set
# CONFIG_CRYPTO_CAST6 is not set
# CONFIG_CRYPTO_TEA is not set
# CONFIG_CRYPTO_ARC4 is not set
# CONFIG_CRYPTO_KHAZAD is not set
# CONFIG_CRYPTO_ANUBIS is not set
CONFIG_CRYPTO_DEFLATE=m
# CONFIG_CRYPTO_MICHAEL_MIC is not set
CONFIG_CRYPTO_CRC32C=m
# CONFIG_CRYPTO_TEST is not set

#
# Library routines
#
CONFIG_CRC_CCITT=y
CONFIG_CRC32=y
CONFIG_LIBCRC32C=m
CONFIG_ZLIB_INFLATE=y
CONFIG_ZLIB_DEFLATE=y
CONFIG_GENERIC_HARDIRQS=y
CONFIG_GENERIC_IRQ_PROBE=y
CONFIG_X86_SMP=y
CONFIG_X86_HT=y
CONFIG_X86_BIOS_REBOOT=y
CONFIG_X86_TRAMPOLINE=y
CONFIG_PC=y

--- FILE linux-config-target ---
#
# Automatically generated make config: don't edit
# Linux kernel version: 2.6.10
# Sat Feb 26 17:01:29 2005
#
CONFIG_X86=y
CONFIG_MMU=y
CONFIG_UID16=y
CONFIG_GENERIC_ISA_DMA=y
CONFIG_GENERIC_IOMAP=y

#
# Code maturity level options
#
CONFIG_EXPERIMENTAL=y
CONFIG_CLEAN_COMPILE=y
CONFIG_LOCK_KERNEL=y

#
# General setup
#
CONFIG_LOCALVERSION=""
CONFIG_SWAP=y
CONFIG_SYSVIPC=y
CONFIG_POSIX_MQUEUE=y
# CONFIG_BSD_PROCESS_ACCT is not set
CONFIG_SYSCTL=y
CONFIG_AUDIT=y
CONFIG_AUDITSYSCALL=y
CONFIG_LOG_BUF_SHIFT=15
CONFIG_HOTPLUG=y
CONFIG_KOBJECT_UEVENT=y
# CONFIG_IKCONFIG is not set
# CONFIG_EMBEDDED is not set
CONFIG_KALLSYMS=y
# CONFIG_KALLSYMS_ALL is not set
# CONFIG_KALLSYMS_EXTRA_PASS is not set
CONFIG_FUTEX=y
CONFIG_EPOLL=y
# CONFIG_CC_OPTIMIZE_FOR_SIZE is not set
CONFIG_SHMEM=y
CONFIG_CC_ALIGN_FUNCTIONS=0
CONFIG_CC_ALIGN_LABELS=0
CONFIG_CC_ALIGN_LOOPS=0
CONFIG_CC_ALIGN_JUMPS=0
# CONFIG_TINY_SHMEM is not set

#
# Loadable module support
#
CONFIG_MODULES=y
# CONFIG_MODULE_UNLOAD is not set
CONFIG_OBSOLETE_MODPARM=y
# CONFIG_MODVERSIONS is not set
# CONFIG_MODULE_SRCVERSION_ALL is not set
CONFIG_KMOD=y

#
# Processor type and features
#
CONFIG_X86_PC=y
# CONFIG_X86_ELAN is not set
# CONFIG_X86_VOYAGER is not set
# CONFIG_X86_NUMAQ is not set
# CONFIG_X86_SUMMIT is not set
# CONFIG_X86_BIGSMP is not set
# CONFIG_X86_VISWS is not set
# CONFIG_X86_GENERICARCH is not set
# CONFIG_X86_ES7000 is not set
CONFIG_M386=y
# CONFIG_M486 is not set
# CONFIG_M586 is not set
# CONFIG_M586TSC is not set
# CONFIG_M586MMX is not set
# CONFIG_M686 is not set
# CONFIG_MPENTIUMII is not set
# CONFIG_MPENTIUMIII is not set
# CONFIG_MPENTIUMM is not set
# CONFIG_MPENTIUM4 is not set
# CONFIG_MK6 is not set
# CONFIG_MK7 is not set
# CONFIG_MK8 is not set
# CONFIG_MCRUSOE is not set
# CONFIG_MEFFICEON is not set
# CONFIG_MWINCHIPC6 is not set
# CONFIG_MWINCHIP2 is not set
# CONFIG_MWINCHIP3D is not set
# CONFIG_MCYRIXIII is not set
# CONFIG_MVIAC3_2 is not set
CONFIG_X86_GENERIC=y
CONFIG_X86_L1_CACHE_SHIFT=7
CONFIG_RWSEM_GENERIC_SPINLOCK=y
CONFIG_X86_PPRO_FENCE=y
CONFIG_X86_F00F_BUG=y
CONFIG_X86_INTEL_USERCOPY=y
CONFIG_HPET_TIMER=y
# CONFIG_HPET_EMULATE_RTC is not set
CONFIG_SMP=y
CONFIG_NR_CPUS=8
CONFIG_SCHED_SMT=y
CONFIG_PREEMPT=y
CONFIG_X86_LOCAL_APIC=y
CONFIG_X86_IO_APIC=y
CONFIG_X86_MCE=y
CONFIG_X86_MCE_NONFATAL=y
CONFIG_X86_MCE_P4THERMAL=y
# CONFIG_TOSHIBA is not set
# CONFIG_I8K is not set
# CONFIG_MICROCODE is not set
# CONFIG_X86_MSR is not set
# CONFIG_X86_CPUID is not set

#
# Firmware Drivers
#
# CONFIG_EDD is not set
# CONFIG_NOHIGHMEM is not set
CONFIG_HIGHMEM4G=y
# CONFIG_HIGHMEM64G is not set
CONFIG_HIGHMEM=y
# CONFIG_HIGHPTE is not set
CONFIG_MATH_EMULATION=y
CONFIG_MTRR=y
# CONFIG_EFI is not set
CONFIG_IRQBALANCE=y
# CONFIG_REGPARM is not set

#
# Power management options (ACPI, APM)
#
CONFIG_PM=y
# CONFIG_PM_DEBUG is not set
CONFIG_SOFTWARE_SUSPEND=y
CONFIG_PM_STD_PARTITION=""

#
# ACPI (Advanced Configuration and Power Interface) Support
#
CONFIG_ACPI=y
CONFIG_ACPI_BOOT=y
CONFIG_ACPI_INTERPRETER=y
CONFIG_ACPI_SLEEP=y
CONFIG_ACPI_SLEEP_PROC_FS=y
CONFIG_ACPI_AC=y
CONFIG_ACPI_BATTERY=y
CONFIG_ACPI_BUTTON=y
CONFIG_ACPI_VIDEO=m
CONFIG_ACPI_FAN=y
CONFIG_ACPI_PROCESSOR=y
CONFIG_ACPI_THERMAL=y
# CONFIG_ACPI_ASUS is not set
CONFIG_ACPI_IBM=m
# CONFIG_ACPI_TOSHIBA is not set
CONFIG_ACPI_BLACKLIST_YEAR=0
# CONFIG_ACPI_DEBUG is not set
CONFIG_ACPI_BUS=y
CONFIG_ACPI_EC=y
CONFIG_ACPI_POWER=y
CONFIG_ACPI_PCI=y
CONFIG_ACPI_SYSTEM=y
CONFIG_X86_PM_TIMER=y

#
# APM (Advanced Power Management) BIOS Support
#
# CONFIG_APM is not set

#
# CPU Frequency scaling
#
# CONFIG_CPU_FREQ is not set

#
# Bus options (PCI, PCMCIA, EISA, MCA, ISA)
#
CONFIG_PCI=y
# CONFIG_PCI_GOBIOS is not set
# CONFIG_PCI_GOMMCONFIG is not set
# CONFIG_PCI_GODIRECT is not set
CONFIG_PCI_GOANY=y
CONFIG_PCI_BIOS=y
CONFIG_PCI_DIRECT=y
CONFIG_PCI_MMCONFIG=y
# CONFIG_PCI_MSI is not set
CONFIG_PCI_LEGACY_PROC=y
CONFIG_PCI_NAMES=y
CONFIG_ISA=y
# CONFIG_EISA is not set
# CONFIG_MCA is not set
# CONFIG_SCx200 is not set

#
# PCCARD (PCMCIA/CardBus) support
#
CONFIG_PCCARD=y
# CONFIG_PCMCIA_DEBUG is not set
# CONFIG_PCMCIA_OBSOLETE is not set
CONFIG_PCMCIA=y
CONFIG_CARDBUS=y

#
# PC-card bridges
#
CONFIG_YENTA=y
CONFIG_PD6729=y
CONFIG_I82092=y
CONFIG_I82365=y
CONFIG_TCIC=y
CONFIG_PCMCIA_PROBE=y

#
# PCI Hotplug Support
#
# CONFIG_HOTPLUG_PCI is not set

#
# Executable file formats
#
CONFIG_BINFMT_ELF=y
CONFIG_BINFMT_AOUT=y
CONFIG_BINFMT_MISC=y

#
# Device Drivers
#

#
# Generic Driver Options
#
CONFIG_STANDALONE=y
CONFIG_PREVENT_FIRMWARE_BUILD=y
CONFIG_FW_LOADER=y
# CONFIG_DEBUG_DRIVER is not set

#
# Memory Technology Devices (MTD)
#
# CONFIG_MTD is not set

#
# Parallel port support
#
CONFIG_PARPORT=y
CONFIG_PARPORT_PC=y
CONFIG_PARPORT_PC_CML1=y
# CONFIG_PARPORT_SERIAL is not set
# CONFIG_PARPORT_PC_FIFO is not set
# CONFIG_PARPORT_PC_SUPERIO is not set
# CONFIG_PARPORT_PC_PCMCIA is not set
# CONFIG_PARPORT_OTHER is not set
# CONFIG_PARPORT_1284 is not set

#
# Plug and Play support
#
CONFIG_PNP=y
# CONFIG_PNP_DEBUG is not set

#
# Protocols
#
# CONFIG_ISAPNP is not set
# CONFIG_PNPBIOS is not set
CONFIG_PNPACPI=y

#
# Block devices
#
CONFIG_BLK_DEV_FD=y
# CONFIG_BLK_DEV_XD is not set
# CONFIG_PARIDE is not set
# CONFIG_BLK_CPQ_DA is not set
# CONFIG_BLK_CPQ_CISS_DA is not set
# CONFIG_BLK_DEV_DAC960 is not set
# CONFIG_BLK_DEV_UMEM is not set
CONFIG_BLK_DEV_LOOP=y
CONFIG_BLK_DEV_CRYPTOLOOP=y
# CONFIG_BLK_DEV_NBD is not set
# CONFIG_BLK_DEV_SX8 is not set
# CONFIG_BLK_DEV_UB is not set
CONFIG_BLK_DEV_RAM=y
CONFIG_BLK_DEV_RAM_COUNT=16
CONFIG_BLK_DEV_RAM_SIZE=4096
CONFIG_BLK_DEV_INITRD=y
CONFIG_INITRAMFS_SOURCE=""
CONFIG_LBD=y
# CONFIG_CDROM_PKTCDVD is not set

#
# IO Schedulers
#
CONFIG_IOSCHED_NOOP=y
CONFIG_IOSCHED_AS=y
CONFIG_IOSCHED_DEADLINE=y
CONFIG_IOSCHED_CFQ=y

#
# ATA/ATAPI/MFM/RLL support
#
CONFIG_IDE=y
CONFIG_BLK_DEV_IDE=y

#
# Please see Documentation/ide.txt for help/info on IDE drives
#
# CONFIG_BLK_DEV_IDE_SATA is not set
# CONFIG_BLK_DEV_HD_IDE is not set
CONFIG_BLK_DEV_IDEDISK=y
CONFIG_IDEDISK_MULTI_MODE=y
# CONFIG_BLK_DEV_IDECS is not set
CONFIG_BLK_DEV_IDECD=y
# CONFIG_BLK_DEV_IDETAPE is not set
# CONFIG_BLK_DEV_IDEFLOPPY is not set
# CONFIG_BLK_DEV_IDESCSI is not set
# CONFIG_IDE_TASK_IOCTL is not set

#
# IDE chipset support/bugfixes
#
CONFIG_IDE_GENERIC=y
CONFIG_BLK_DEV_CMD640=y
# CONFIG_BLK_DEV_CMD640_ENHANCED is not set
# CONFIG_BLK_DEV_IDEPNP is not set
CONFIG_BLK_DEV_IDEPCI=y
CONFIG_IDEPCI_SHARE_IRQ=y
# CONFIG_BLK_DEV_OFFBOARD is not set
CONFIG_BLK_DEV_GENERIC=y
# CONFIG_BLK_DEV_OPTI621 is not set
CONFIG_BLK_DEV_RZ1000=y
CONFIG_BLK_DEV_IDEDMA_PCI=y
# CONFIG_BLK_DEV_IDEDMA_FORCED is not set
CONFIG_IDEDMA_PCI_AUTO=y
# CONFIG_IDEDMA_ONLYDISK is not set
# CONFIG_BLK_DEV_AEC62XX is not set
# CONFIG_BLK_DEV_ALI15X3 is not set
# CONFIG_BLK_DEV_AMD74XX is not set
# CONFIG_BLK_DEV_ATIIXP is not set
# CONFIG_BLK_DEV_CMD64X is not set
# CONFIG_BLK_DEV_TRIFLEX is not set
# CONFIG_BLK_DEV_CY82C693 is not set
# CONFIG_BLK_DEV_CS5520 is not set
# CONFIG_BLK_DEV_CS5530 is not set
# CONFIG_BLK_DEV_HPT34X is not set
# CONFIG_BLK_DEV_HPT366 is not set
# CONFIG_BLK_DEV_SC1200 is not set
CONFIG_BLK_DEV_PIIX=y
# CONFIG_BLK_DEV_NS87415 is not set
# CONFIG_BLK_DEV_PDC202XX_OLD is not set
# CONFIG_BLK_DEV_PDC202XX_NEW is not set
# CONFIG_BLK_DEV_SVWKS is not set
# CONFIG_BLK_DEV_SIIMAGE is not set
# CONFIG_BLK_DEV_SIS5513 is not set
# CONFIG_BLK_DEV_SLC90E66 is not set
# CONFIG_BLK_DEV_TRM290 is not set
# CONFIG_BLK_DEV_VIA82CXXX is not set
# CONFIG_IDE_ARM is not set
# CONFIG_IDE_CHIPSETS is not set
CONFIG_BLK_DEV_IDEDMA=y
# CONFIG_IDEDMA_IVB is not set
CONFIG_IDEDMA_AUTO=y
# CONFIG_BLK_DEV_HD is not set

#
# SCSI device support
#
CONFIG_SCSI=y
CONFIG_SCSI_PROC_FS=y

#
# SCSI support type (disk, tape, CD-ROM)
#
CONFIG_BLK_DEV_SD=y
# CONFIG_CHR_DEV_ST is not set
# CONFIG_CHR_DEV_OSST is not set
CONFIG_BLK_DEV_SR=y
# CONFIG_BLK_DEV_SR_VENDOR is not set
CONFIG_CHR_DEV_SG=y

#
# Some SCSI devices (e.g. CD jukebox) support multiple LUNs
#
# CONFIG_SCSI_MULTI_LUN is not set
# CONFIG_SCSI_CONSTANTS is not set
# CONFIG_SCSI_LOGGING is not set

#
# SCSI Transport Attributes
#
# CONFIG_SCSI_SPI_ATTRS is not set
# CONFIG_SCSI_FC_ATTRS is not set

#
# SCSI low-level drivers
#
# CONFIG_BLK_DEV_3W_XXXX_RAID is not set
# CONFIG_SCSI_3W_9XXX is not set
# CONFIG_SCSI_7000FASST is not set
# CONFIG_SCSI_ACARD is not set
# CONFIG_SCSI_AHA152X is not set
# CONFIG_SCSI_AHA1542 is not set
# CONFIG_SCSI_AACRAID is not set
# CONFIG_SCSI_AIC7XXX is not set
# CONFIG_SCSI_AIC7XXX_OLD is not set
# CONFIG_SCSI_AIC79XX is not set
CONFIG_SCSI_DPT_I2O=m
# CONFIG_SCSI_IN2000 is not set
# CONFIG_MEGARAID_NEWGEN is not set
# CONFIG_MEGARAID_LEGACY is not set
CONFIG_SCSI_SATA=y
CONFIG_SCSI_SATA_AHCI=y
CONFIG_SCSI_SATA_SVW=y
CONFIG_SCSI_ATA_PIIX=y
CONFIG_SCSI_SATA_NV=y
CONFIG_SCSI_SATA_PROMISE=y
CONFIG_SCSI_SATA_SX4=y
CONFIG_SCSI_SATA_SIL=y
CONFIG_SCSI_SATA_SIS=y
CONFIG_SCSI_SATA_ULI=y
CONFIG_SCSI_SATA_VIA=y
CONFIG_SCSI_SATA_VITESSE=y
CONFIG_SCSI_BUSLOGIC=y
# CONFIG_SCSI_OMIT_FLASHPOINT is not set
# CONFIG_SCSI_DMX3191D is not set
# CONFIG_SCSI_DTC3280 is not set
# CONFIG_SCSI_EATA is not set
# CONFIG_SCSI_EATA_PIO is not set
# CONFIG_SCSI_FUTURE_DOMAIN is not set
# CONFIG_SCSI_GDTH is not set
# CONFIG_SCSI_GENERIC_NCR5380 is not set
# CONFIG_SCSI_GENERIC_NCR5380_MMIO is not set
# CONFIG_SCSI_IPS is not set
# CONFIG_SCSI_INITIO is not set
# CONFIG_SCSI_INIA100 is not set
# CONFIG_SCSI_PPA is not set
# CONFIG_SCSI_IMM is not set
# CONFIG_SCSI_NCR53C406A is not set
# CONFIG_SCSI_SYM53C8XX_2 is not set
CONFIG_SCSI_IPR=y
# CONFIG_SCSI_IPR_TRACE is not set
# CONFIG_SCSI_IPR_DUMP is not set
# CONFIG_SCSI_PAS16 is not set
# CONFIG_SCSI_PSI240I is not set
# CONFIG_SCSI_QLOGIC_FAS is not set
# CONFIG_SCSI_QLOGIC_ISP is not set
# CONFIG_SCSI_QLOGIC_FC is not set
# CONFIG_SCSI_QLOGIC_1280 is not set
CONFIG_SCSI_QLA2XXX=y
# CONFIG_SCSI_QLA21XX is not set
# CONFIG_SCSI_QLA22XX is not set
# CONFIG_SCSI_QLA2300 is not set
# CONFIG_SCSI_QLA2322 is not set
# CONFIG_SCSI_QLA6312 is not set
# CONFIG_SCSI_QLA6322 is not set
# CONFIG_SCSI_SYM53C416 is not set
# CONFIG_SCSI_DC395x is not set
# CONFIG_SCSI_DC390T is not set
# CONFIG_SCSI_T128 is not set
# CONFIG_SCSI_U14_34F is not set
# CONFIG_SCSI_ULTRASTOR is not set
# CONFIG_SCSI_NSP32 is not set
# CONFIG_SCSI_DEBUG is not set

#
# PCMCIA SCSI adapter support
#
# CONFIG_PCMCIA_AHA152X is not set
# CONFIG_PCMCIA_FDOMAIN is not set
# CONFIG_PCMCIA_NINJA_SCSI is not set
# CONFIG_PCMCIA_QLOGIC is not set
# CONFIG_PCMCIA_SYM53C500 is not set

#
# Old CD-ROM drivers (not SCSI, not IDE)
#
# CONFIG_CD_NO_IDESCSI is not set

#
# Multi-device support (RAID and LVM)
#
CONFIG_MD=y
CONFIG_BLK_DEV_MD=y
CONFIG_MD_LINEAR=y
CONFIG_MD_RAID0=y
CONFIG_MD_RAID1=y
CONFIG_MD_RAID10=y
CONFIG_MD_RAID5=y
CONFIG_MD_RAID6=y
CONFIG_MD_MULTIPATH=y
# CONFIG_MD_FAULTY is not set
CONFIG_BLK_DEV_DM=y
CONFIG_DM_CRYPT=y
CONFIG_DM_SNAPSHOT=y
CONFIG_DM_MIRROR=y
CONFIG_DM_ZERO=y

#
# Fusion MPT device support
#
# CONFIG_FUSION is not set

#
# IEEE 1394 (FireWire) support
#
CONFIG_IEEE1394=y

#
# Subsystem Options
#
# CONFIG_IEEE1394_VERBOSEDEBUG is not set
# CONFIG_IEEE1394_OUI_DB is not set
CONFIG_IEEE1394_EXTRA_CONFIG_ROMS=y
CONFIG_IEEE1394_CONFIG_ROM_IP1394=y

#
# Device Drivers
#

#
# Texas Instruments PCILynx requires I2C
#
CONFIG_IEEE1394_OHCI1394=y

#
# Protocol Drivers
#
# CONFIG_IEEE1394_VIDEO1394 is not set
CONFIG_IEEE1394_SBP2=y
# CONFIG_IEEE1394_SBP2_PHYS_DMA is not set
CONFIG_IEEE1394_ETH1394=y
# CONFIG_IEEE1394_DV1394 is not set
CONFIG_IEEE1394_RAWIO=y
# CONFIG_IEEE1394_CMP is not set

#
# I2O device support
#
# CONFIG_I2O is not set

#
# Networking support
#
CONFIG_NET=y

#
# Networking options
#
CONFIG_PACKET=y
# CONFIG_PACKET_MMAP is not set
# CONFIG_NETLINK_DEV is not set
CONFIG_UNIX=y
# CONFIG_NET_KEY is not set
CONFIG_INET=y
CONFIG_IP_MULTICAST=y
# CONFIG_IP_ADVANCED_ROUTER is not set
# CONFIG_IP_PNP is not set
# CONFIG_NET_IPIP is not set
# CONFIG_NET_IPGRE is not set
# CONFIG_IP_MROUTE is not set
# CONFIG_ARPD is not set
# CONFIG_SYN_COOKIES is not set
# CONFIG_INET_AH is not set
# CONFIG_INET_ESP is not set
# CONFIG_INET_IPCOMP is not set
# CONFIG_INET_TUNNEL is not set
CONFIG_IP_TCPDIAG=y
# CONFIG_IP_TCPDIAG_IPV6 is not set

#
# IP: Virtual Server Configuration
#
# CONFIG_IP_VS is not set
# CONFIG_IPV6 is not set
CONFIG_NETFILTER=y
# CONFIG_NETFILTER_DEBUG is not set

#
# IP: Netfilter Configuration
#
CONFIG_IP_NF_CONNTRACK=y
# CONFIG_IP_NF_CT_ACCT is not set
# CONFIG_IP_NF_CONNTRACK_MARK is not set
# CONFIG_IP_NF_CT_PROTO_SCTP is not set
# CONFIG_IP_NF_FTP is not set
# CONFIG_IP_NF_IRC is not set
# CONFIG_IP_NF_TFTP is not set
# CONFIG_IP_NF_AMANDA is not set
CONFIG_IP_NF_QUEUE=y
CONFIG_IP_NF_IPTABLES=y
CONFIG_IP_NF_MATCH_LIMIT=y
CONFIG_IP_NF_MATCH_IPRANGE=y
CONFIG_IP_NF_MATCH_MAC=y
CONFIG_IP_NF_MATCH_PKTTYPE=y
CONFIG_IP_NF_MATCH_MARK=y
CONFIG_IP_NF_MATCH_MULTIPORT=y
CONFIG_IP_NF_MATCH_TOS=y
CONFIG_IP_NF_MATCH_RECENT=y
CONFIG_IP_NF_MATCH_ECN=y
CONFIG_IP_NF_MATCH_DSCP=y
CONFIG_IP_NF_MATCH_AH_ESP=y
CONFIG_IP_NF_MATCH_LENGTH=y
CONFIG_IP_NF_MATCH_TTL=y
CONFIG_IP_NF_MATCH_TCPMSS=y
CONFIG_IP_NF_MATCH_HELPER=y
CONFIG_IP_NF_MATCH_STATE=y
CONFIG_IP_NF_MATCH_CONNTRACK=y
CONFIG_IP_NF_MATCH_OWNER=y
# CONFIG_IP_NF_MATCH_ADDRTYPE is not set
# CONFIG_IP_NF_MATCH_REALM is not set
# CONFIG_IP_NF_MATCH_SCTP is not set
# CONFIG_IP_NF_MATCH_COMMENT is not set
# CONFIG_IP_NF_MATCH_HASHLIMIT is not set
CONFIG_IP_NF_FILTER=y
CONFIG_IP_NF_TARGET_REJECT=y
CONFIG_IP_NF_TARGET_LOG=y
CONFIG_IP_NF_TARGET_ULOG=y
CONFIG_IP_NF_TARGET_TCPMSS=y
CONFIG_IP_NF_NAT=y
CONFIG_IP_NF_NAT_NEEDED=y
CONFIG_IP_NF_TARGET_MASQUERADE=y
CONFIG_IP_NF_TARGET_REDIRECT=y
CONFIG_IP_NF_TARGET_NETMAP=y
CONFIG_IP_NF_TARGET_SAME=y
# CONFIG_IP_NF_NAT_LOCAL is not set
# CONFIG_IP_NF_NAT_SNMP_BASIC is not set
CONFIG_IP_NF_MANGLE=y
CONFIG_IP_NF_TARGET_TOS=y
CONFIG_IP_NF_TARGET_ECN=y
CONFIG_IP_NF_TARGET_DSCP=y
CONFIG_IP_NF_TARGET_MARK=y
CONFIG_IP_NF_TARGET_CLASSIFY=y
CONFIG_IP_NF_RAW=m
CONFIG_IP_NF_TARGET_NOTRACK=m
CONFIG_IP_NF_ARPTABLES=y
CONFIG_IP_NF_ARPFILTER=y
CONFIG_IP_NF_ARP_MANGLE=y

#
# SCTP Configuration (EXPERIMENTAL)
#
# CONFIG_IP_SCTP is not set
# CONFIG_ATM is not set
# CONFIG_BRIDGE is not set
# CONFIG_VLAN_8021Q is not set
# CONFIG_DECNET is not set
# CONFIG_LLC2 is not set
# CONFIG_IPX is not set
# CONFIG_ATALK is not set
# CONFIG_X25 is not set
# CONFIG_LAPB is not set
# CONFIG_NET_DIVERT is not set
# CONFIG_ECONET is not set
# CONFIG_WAN_ROUTER is not set

#
# QoS and/or fair queueing
#
# CONFIG_NET_SCHED is not set
# CONFIG_NET_CLS_ROUTE is not set

#
# Network testing
#
# CONFIG_NET_PKTGEN is not set
# CONFIG_NETPOLL is not set
# CONFIG_NET_POLL_CONTROLLER is not set
# CONFIG_HAMRADIO is not set
# CONFIG_IRDA is not set
CONFIG_BT=y
CONFIG_BT_L2CAP=y
CONFIG_BT_SCO=y
CONFIG_BT_RFCOMM=y
CONFIG_BT_RFCOMM_TTY=y
CONFIG_BT_BNEP=y
CONFIG_BT_BNEP_MC_FILTER=y
CONFIG_BT_BNEP_PROTO_FILTER=y
CONFIG_BT_HIDP=y

#
# Bluetooth device drivers
#
CONFIG_BT_HCIUSB=y
CONFIG_BT_HCIUSB_SCO=y
CONFIG_BT_HCIUART=y
CONFIG_BT_HCIUART_H4=y
CONFIG_BT_HCIUART_BCSP=y
CONFIG_BT_HCIUART_BCSP_TXCRC=y
CONFIG_BT_HCIBCM203X=y
CONFIG_BT_HCIBFUSB=y
CONFIG_BT_HCIDTL1=y
CONFIG_BT_HCIBT3C=y
CONFIG_BT_HCIBLUECARD=y
CONFIG_BT_HCIBTUART=y
CONFIG_BT_HCIVHCI=y
CONFIG_NETDEVICES=y
CONFIG_DUMMY=m
# CONFIG_BONDING is not set
# CONFIG_EQUALIZER is not set
CONFIG_TUN=y
# CONFIG_NET_SB1000 is not set

#
# ARCnet devices
#
# CONFIG_ARCNET is not set

#
# Ethernet (10 or 100Mbit)
#
CONFIG_NET_ETHERNET=y
CONFIG_MII=y
# CONFIG_HAPPYMEAL is not set
# CONFIG_SUNGEM is not set
CONFIG_NET_VENDOR_3COM=y
CONFIG_EL1=y
CONFIG_EL2=y
CONFIG_ELPLUS=y
CONFIG_EL16=y
CONFIG_EL3=y
CONFIG_3C515=y
CONFIG_VORTEX=y
CONFIG_TYPHOON=y
CONFIG_LANCE=y
CONFIG_NET_VENDOR_SMC=y
CONFIG_WD80x3=y
CONFIG_ULTRA=y
CONFIG_SMC9194=y
CONFIG_NET_VENDOR_RACAL=y
CONFIG_NI52=y
CONFIG_NI65=y

#
# Tulip family network device support
#
CONFIG_NET_TULIP=y
CONFIG_DE2104X=y
CONFIG_TULIP=y
# CONFIG_TULIP_MWI is not set
# CONFIG_TULIP_MMIO is not set
# CONFIG_TULIP_NAPI is not set
CONFIG_DE4X5=y
CONFIG_WINBOND_840=y
CONFIG_DM9102=y
CONFIG_PCMCIA_XIRCOM=y
CONFIG_AT1700=y
CONFIG_DEPCA=y
CONFIG_HP100=y
CONFIG_NET_ISA=y
# CONFIG_E2100 is not set
# CONFIG_EWRK3 is not set
# CONFIG_EEXPRESS is not set
# CONFIG_EEXPRESS_PRO is not set
# CONFIG_HPLAN_PLUS is not set
# CONFIG_HPLAN is not set
# CONFIG_LP486E is not set
# CONFIG_ETH16I is not set
CONFIG_NE2000=y
# CONFIG_ZNET is not set
# CONFIG_SEEQ8005 is not set
CONFIG_NET_PCI=y
CONFIG_PCNET32=y
CONFIG_AMD8111_ETH=y
# CONFIG_AMD8111E_NAPI is not set
CONFIG_ADAPTEC_STARFIRE=y
# CONFIG_ADAPTEC_STARFIRE_NAPI is not set
CONFIG_AC3200=y
CONFIG_APRICOT=y
CONFIG_B44=y
CONFIG_FORCEDETH=y
CONFIG_CS89x0=y
CONFIG_DGRS=y
CONFIG_EEPRO100=y
# CONFIG_EEPRO100_PIO is not set
CONFIG_E100=y
# CONFIG_E100_NAPI is not set
CONFIG_FEALNX=y
CONFIG_NATSEMI=y
CONFIG_NE2K_PCI=y
CONFIG_8139CP=y
CONFIG_8139TOO=y
CONFIG_8139TOO_PIO=y
# CONFIG_8139TOO_TUNE_TWISTER is not set
# CONFIG_8139TOO_8129 is not set
# CONFIG_8139_OLD_RX_RESET is not set
CONFIG_SIS900=y
CONFIG_EPIC100=y
CONFIG_SUNDANCE=y
# CONFIG_SUNDANCE_MMIO is not set
CONFIG_TLAN=y
CONFIG_VIA_RHINE=y
# CONFIG_VIA_RHINE_MMIO is not set
# CONFIG_NET_POCKET is not set

#
# Ethernet (1000 Mbit)
#
CONFIG_ACENIC=y
# CONFIG_ACENIC_OMIT_TIGON_I is not set
CONFIG_DL2K=y
CONFIG_E1000=y
# CONFIG_E1000_NAPI is not set
CONFIG_NS83820=y
CONFIG_HAMACHI=y
CONFIG_YELLOWFIN=y
CONFIG_R8169=y
# CONFIG_R8169_NAPI is not set
CONFIG_SK98LIN=y
CONFIG_VIA_VELOCITY=y
CONFIG_TIGON3=y

#
# Ethernet (10000 Mbit)
#
# CONFIG_IXGB is not set
CONFIG_S2IO=m
# CONFIG_S2IO_NAPI is not set

#
# Token Ring devices
#
# CONFIG_TR is not set

#
# Wireless LAN (non-hamradio)
#
CONFIG_NET_RADIO=y

#
# Obsolete Wireless cards support (pre-802.11)
#
# CONFIG_STRIP is not set
# CONFIG_ARLAN is not set
# CONFIG_WAVELAN is not set
# CONFIG_PCMCIA_WAVELAN is not set
# CONFIG_PCMCIA_NETWAVE is not set

#
# Wireless 802.11 Frequency Hopping cards support
#
CONFIG_PCMCIA_RAYCS=y

#
# Wireless 802.11b ISA/PCI cards support
#
CONFIG_AIRO=y
CONFIG_HERMES=y
CONFIG_PLX_HERMES=y
CONFIG_TMD_HERMES=y
CONFIG_PCI_HERMES=y
CONFIG_ATMEL=y
CONFIG_PCI_ATMEL=y

#
# Wireless 802.11b Pcmcia/Cardbus cards support
#
CONFIG_PCMCIA_HERMES=y
CONFIG_AIRO_CS=y
CONFIG_PCMCIA_ATMEL=y
CONFIG_PCMCIA_WL3501=y

#
# Prism GT/Duette 802.11(a/b/g) PCI/Cardbus support
#
CONFIG_PRISM54=y
CONFIG_NET_WIRELESS=y

#
# PCMCIA network device support
#
CONFIG_NET_PCMCIA=y
CONFIG_PCMCIA_3C589=y
CONFIG_PCMCIA_3C574=y
CONFIG_PCMCIA_FMVJ18X=y
CONFIG_PCMCIA_PCNET=y
CONFIG_PCMCIA_NMCLAN=y
CONFIG_PCMCIA_SMC91C92=y
CONFIG_PCMCIA_XIRC2PS=y
CONFIG_PCMCIA_AXNET=y

#
# Wan interfaces
#
# CONFIG_WAN is not set
# CONFIG_FDDI is not set
# CONFIG_HIPPI is not set
# CONFIG_PLIP is not set
CONFIG_PPP=y
# CONFIG_PPP_MULTILINK is not set
# CONFIG_PPP_FILTER is not set
CONFIG_PPP_ASYNC=y
# CONFIG_PPP_SYNC_TTY is not set
CONFIG_PPP_DEFLATE=y
# CONFIG_PPP_BSDCOMP is not set
CONFIG_PPPOE=y
# CONFIG_SLIP is not set
# CONFIG_NET_FC is not set
# CONFIG_SHAPER is not set
# CONFIG_NETCONSOLE is not set

#
# ISDN subsystem
#
# CONFIG_ISDN is not set

#
# Telephony Support
#
# CONFIG_PHONE is not set

#
# Input device support
#
CONFIG_INPUT=y

#
# Userland interfaces
#
CONFIG_INPUT_MOUSEDEV=y
CONFIG_INPUT_MOUSEDEV_PSAUX=y
CONFIG_INPUT_MOUSEDEV_SCREEN_X=1024
CONFIG_INPUT_MOUSEDEV_SCREEN_Y=768
# CONFIG_INPUT_JOYDEV is not set
# CONFIG_INPUT_TSDEV is not set
CONFIG_INPUT_EVDEV=y
# CONFIG_INPUT_EVBUG is not set

#
# Input I/O drivers
#
# CONFIG_GAMEPORT is not set
CONFIG_SOUND_GAMEPORT=y
CONFIG_SERIO=y
CONFIG_SERIO_I8042=y
# CONFIG_SERIO_SERPORT is not set
# CONFIG_SERIO_CT82C710 is not set
# CONFIG_SERIO_PARKBD is not set
CONFIG_SERIO_PCIPS2=y
# CONFIG_SERIO_RAW is not set

#
# Input Device Drivers
#
CONFIG_INPUT_KEYBOARD=y
CONFIG_KEYBOARD_ATKBD=y
# CONFIG_KEYBOARD_SUNKBD is not set
# CONFIG_KEYBOARD_LKKBD is not set
# CONFIG_KEYBOARD_XTKBD is not set
# CONFIG_KEYBOARD_NEWTON is not set
CONFIG_INPUT_MOUSE=y
CONFIG_MOUSE_PS2=y
# CONFIG_MOUSE_SERIAL is not set
# CONFIG_MOUSE_INPORT is not set
# CONFIG_MOUSE_LOGIBM is not set
# CONFIG_MOUSE_PC110PAD is not set
# CONFIG_MOUSE_VSXXXAA is not set
# CONFIG_INPUT_JOYSTICK is not set
# CONFIG_INPUT_TOUCHSCREEN is not set
CONFIG_INPUT_MISC=y
CONFIG_INPUT_PCSPKR=y
CONFIG_INPUT_UINPUT=y

#
# Character devices
#
CONFIG_VT=y
CONFIG_VT_CONSOLE=y
CONFIG_HW_CONSOLE=y
# CONFIG_SERIAL_NONSTANDARD is not set

#
# Serial drivers
#
CONFIG_SERIAL_8250=y
# CONFIG_SERIAL_8250_CONSOLE is not set
# CONFIG_SERIAL_8250_CS is not set
# CONFIG_SERIAL_8250_ACPI is not set
CONFIG_SERIAL_8250_NR_UARTS=4
# CONFIG_SERIAL_8250_EXTENDED is not set

#
# Non-8250 serial port support
#
CONFIG_SERIAL_CORE=y
CONFIG_UNIX98_PTYS=y
CONFIG_LEGACY_PTYS=y
CONFIG_LEGACY_PTY_COUNT=256
CONFIG_PRINTER=y
# CONFIG_LP_CONSOLE is not set
# CONFIG_PPDEV is not set
# CONFIG_TIPAR is not set

#
# IPMI
#
# CONFIG_IPMI_HANDLER is not set

#
# Watchdog Cards
#
# CONFIG_WATCHDOG is not set
# CONFIG_HW_RANDOM is not set
# CONFIG_NVRAM is not set
CONFIG_RTC=y
# CONFIG_DTLK is not set
# CONFIG_R3964 is not set
# CONFIG_APPLICOM is not set
# CONFIG_SONYPI is not set

#
# Ftape, the floppy tape device driver
#
CONFIG_AGP=y
CONFIG_AGP_ALI=m
CONFIG_AGP_ATI=m
CONFIG_AGP_AMD=m
CONFIG_AGP_AMD64=m
CONFIG_AGP_INTEL=y
CONFIG_AGP_INTEL_MCH=m
CONFIG_AGP_NVIDIA=m
CONFIG_AGP_SIS=m
CONFIG_AGP_SWORKS=m
CONFIG_AGP_VIA=m
CONFIG_AGP_EFFICEON=m
CONFIG_DRM=y
CONFIG_DRM_TDFX=m
CONFIG_DRM_R128=m
CONFIG_DRM_RADEON=m
CONFIG_DRM_I810=m
CONFIG_DRM_I830=m
CONFIG_DRM_I915=m
CONFIG_DRM_MGA=m
CONFIG_DRM_SIS=m

#
# PCMCIA character devices
#
# CONFIG_SYNCLINK_CS is not set
# CONFIG_MWAVE is not set
# CONFIG_RAW_DRIVER is not set
# CONFIG_HPET is not set
# CONFIG_HANGCHECK_TIMER is not set

#
# I2C support
#
# CONFIG_I2C is not set

#
# Dallas's 1-wire bus
#
# CONFIG_W1 is not set

#
# Misc devices
#
# CONFIG_IBM_ASM is not set

#
# Multimedia devices
#
CONFIG_VIDEO_DEV=m

#
# Video For Linux
#

#
# Video Adapters
#
# CONFIG_VIDEO_PMS is not set
# CONFIG_VIDEO_BWQCAM is not set
# CONFIG_VIDEO_CQCAM is not set
# CONFIG_VIDEO_CPIA is not set
# CONFIG_VIDEO_STRADIS is not set
# CONFIG_VIDEO_MXB is not set
# CONFIG_VIDEO_DPC is not set
# CONFIG_VIDEO_HEXIUM_ORION is not set
# CONFIG_VIDEO_HEXIUM_GEMINI is not set
# CONFIG_VIDEO_CX88 is not set

#
# Radio Adapters
#
# CONFIG_RADIO_CADET is not set
# CONFIG_RADIO_RTRACK is not set
# CONFIG_RADIO_RTRACK2 is not set
# CONFIG_RADIO_AZTECH is not set
# CONFIG_RADIO_GEMTEK is not set
# CONFIG_RADIO_GEMTEK_PCI is not set
# CONFIG_RADIO_MAXIRADIO is not set
# CONFIG_RADIO_MAESTRO is not set
# CONFIG_RADIO_SF16FMI is not set
# CONFIG_RADIO_SF16FMR2 is not set
# CONFIG_RADIO_TERRATEC is not set
# CONFIG_RADIO_TRUST is not set
# CONFIG_RADIO_TYPHOON is not set
# CONFIG_RADIO_ZOLTRIX is not set

#
# Digital Video Broadcasting Devices
#
# CONFIG_DVB is not set

#
# Graphics support
#
CONFIG_FB=y
# CONFIG_FB_MODE_HELPERS is not set
# CONFIG_FB_TILEBLITTING is not set
# CONFIG_FB_CIRRUS is not set
# CONFIG_FB_PM2 is not set
# CONFIG_FB_CYBER2000 is not set
# CONFIG_FB_ASILIANT is not set
# CONFIG_FB_IMSTT is not set
CONFIG_FB_VGA16=y
CONFIG_FB_VESA=y
CONFIG_VIDEO_SELECT=y
# CONFIG_FB_HGA is not set
# CONFIG_FB_RIVA is not set
# CONFIG_FB_I810 is not set
# CONFIG_FB_INTEL is not set
# CONFIG_FB_MATROX is not set
# CONFIG_FB_RADEON_OLD is not set
# CONFIG_FB_RADEON is not set
# CONFIG_FB_ATY128 is not set
# CONFIG_FB_ATY is not set
# CONFIG_FB_SAVAGE is not set
# CONFIG_FB_SIS is not set
# CONFIG_FB_NEOMAGIC is not set
# CONFIG_FB_KYRO is not set
# CONFIG_FB_3DFX is not set
# CONFIG_FB_VOODOO1 is not set
# CONFIG_FB_TRIDENT is not set
# CONFIG_FB_VIRTUAL is not set

#
# Console display driver support
#
CONFIG_VGA_CONSOLE=y
# CONFIG_MDA_CONSOLE is not set
CONFIG_DUMMY_CONSOLE=y
# CONFIG_FRAMEBUFFER_CONSOLE is not set

#
# Logo configuration
#
# CONFIG_LOGO is not set

#
# Sound
#
CONFIG_SOUND=y

#
# Advanced Linux Sound Architecture
#
CONFIG_SND=y
CONFIG_SND_TIMER=y
CONFIG_SND_PCM=y
CONFIG_SND_HWDEP=m
CONFIG_SND_RAWMIDI=m
CONFIG_SND_SEQUENCER=y
# CONFIG_SND_SEQ_DUMMY is not set
CONFIG_SND_OSSEMUL=y
CONFIG_SND_MIXER_OSS=y
CONFIG_SND_PCM_OSS=y
CONFIG_SND_SEQUENCER_OSS=y
# CONFIG_SND_RTCTIMER is not set
# CONFIG_SND_VERBOSE_PRINTK is not set
# CONFIG_SND_DEBUG is not set

#
# Generic devices
#
CONFIG_SND_MPU401_UART=m
CONFIG_SND_OPL3_LIB=m
CONFIG_SND_VX_LIB=m
# CONFIG_SND_DUMMY is not set
# CONFIG_SND_VIRMIDI is not set
# CONFIG_SND_MTPAV is not set
# CONFIG_SND_SERIAL_U16550 is not set
# CONFIG_SND_MPU401 is not set

#
# ISA devices
#
# CONFIG_SND_AD1848 is not set
# CONFIG_SND_CS4231 is not set
# CONFIG_SND_CS4232 is not set
# CONFIG_SND_CS4236 is not set
# CONFIG_SND_ES1688 is not set
# CONFIG_SND_ES18XX is not set
# CONFIG_SND_GUSCLASSIC is not set
# CONFIG_SND_GUSEXTREME is not set
# CONFIG_SND_GUSMAX is not set
# CONFIG_SND_INTERWAVE is not set
# CONFIG_SND_INTERWAVE_STB is not set
# CONFIG_SND_OPTI92X_AD1848 is not set
# CONFIG_SND_OPTI92X_CS4231 is not set
# CONFIG_SND_OPTI93X is not set
# CONFIG_SND_SB8 is not set
# CONFIG_SND_SB16 is not set
# CONFIG_SND_SBAWE is not set
# CONFIG_SND_WAVEFRONT is not set
# CONFIG_SND_CMI8330 is not set
# CONFIG_SND_OPL3SA2 is not set
# CONFIG_SND_SGALAXY is not set
# CONFIG_SND_SSCAPE is not set

#
# PCI devices
#
CONFIG_SND_AC97_CODEC=m
CONFIG_SND_ALI5451=m
CONFIG_SND_ATIIXP=m
CONFIG_SND_ATIIXP_MODEM=m
CONFIG_SND_AU8810=m
CONFIG_SND_AU8820=m
CONFIG_SND_AU8830=m
CONFIG_SND_AZT3328=m
CONFIG_SND_BT87X=m
# CONFIG_SND_BT87X_OVERCLOCK is not set
CONFIG_SND_CS46XX=m
# CONFIG_SND_CS46XX_NEW_DSP is not set
CONFIG_SND_CS4281=m
CONFIG_SND_EMU10K1=m
CONFIG_SND_KORG1212=m
CONFIG_SND_MIXART=m
CONFIG_SND_NM256=m
CONFIG_SND_RME32=m
CONFIG_SND_RME96=m
CONFIG_SND_RME9652=m
CONFIG_SND_HDSP=m
CONFIG_SND_TRIDENT=m
CONFIG_SND_YMFPCI=m
CONFIG_SND_ALS4000=m
CONFIG_SND_CMIPCI=m
CONFIG_SND_ENS1370=m
CONFIG_SND_ENS1371=m
CONFIG_SND_ES1938=m
CONFIG_SND_ES1968=m
CONFIG_SND_MAESTRO3=m
CONFIG_SND_FM801=m
CONFIG_SND_FM801_TEA575X=m
CONFIG_SND_ICE1712=m
CONFIG_SND_ICE1724=m
CONFIG_SND_INTEL8X0=m
CONFIG_SND_INTEL8X0M=m
CONFIG_SND_SONICVIBES=m
CONFIG_SND_VIA82XX=m
CONFIG_SND_VX222=m

#
# USB devices
#
CONFIG_SND_USB_AUDIO=m
CONFIG_SND_USB_USX2Y=m

#
# PCMCIA devices
#
# CONFIG_SND_VXPOCKET is not set
# CONFIG_SND_VXP440 is not set
# CONFIG_SND_PDAUDIOCF is not set

#
# Open Sound System
#
# CONFIG_SOUND_PRIME is not set

#
# USB support
#
CONFIG_USB=y
# CONFIG_USB_DEBUG is not set

#
# Miscellaneous USB options
#
CONFIG_USB_DEVICEFS=y
# CONFIG_USB_BANDWIDTH is not set
# CONFIG_USB_DYNAMIC_MINORS is not set
# CONFIG_USB_SUSPEND is not set
# CONFIG_USB_OTG is not set
CONFIG_USB_ARCH_HAS_HCD=y
CONFIG_USB_ARCH_HAS_OHCI=y

#
# USB Host Controller Drivers
#
CONFIG_USB_EHCI_HCD=y
# CONFIG_USB_EHCI_SPLIT_ISO is not set
# CONFIG_USB_EHCI_ROOT_HUB_TT is not set
# CONFIG_USB_OHCI_HCD is not set
CONFIG_USB_UHCI_HCD=y
# CONFIG_USB_SL811_HCD is not set

#
# USB Device Class drivers
#
# CONFIG_USB_AUDIO is not set

#
# USB Bluetooth TTY can only be used with disabled Bluetooth subsystem
#
CONFIG_USB_MIDI=m
# CONFIG_USB_ACM is not set
CONFIG_USB_PRINTER=y

#
# NOTE: USB_STORAGE enables SCSI, and 'SCSI disk support' may also be needed; see USB_STORAGE Help for more information
#
CONFIG_USB_STORAGE=y
# CONFIG_USB_STORAGE_DEBUG is not set
# CONFIG_USB_STORAGE_RW_DETECT is not set
# CONFIG_USB_STORAGE_DATAFAB is not set
# CONFIG_USB_STORAGE_FREECOM is not set
# CONFIG_USB_STORAGE_ISD200 is not set
# CONFIG_USB_STORAGE_DPCM is not set
# CONFIG_USB_STORAGE_HP8200e is not set
# CONFIG_USB_STORAGE_SDDR09 is not set
# CONFIG_USB_STORAGE_SDDR55 is not set
# CONFIG_USB_STORAGE_JUMPSHOT is not set

#
# USB Input Devices
#
CONFIG_USB_HID=y
CONFIG_USB_HIDINPUT=y
# CONFIG_HID_FF is not set
# CONFIG_USB_HIDDEV is not set
# CONFIG_USB_AIPTEK is not set
# CONFIG_USB_WACOM is not set
# CONFIG_USB_KBTAB is not set
# CONFIG_USB_POWERMATE is not set
# CONFIG_USB_MTOUCH is not set
CONFIG_USB_EGALAX=m
# CONFIG_USB_XPAD is not set
# CONFIG_USB_ATI_REMOTE is not set

#
# USB Imaging devices
#
# CONFIG_USB_MDC800 is not set
# CONFIG_USB_MICROTEK is not set
# CONFIG_USB_HPUSBSCSI is not set

#
# USB Multimedia devices
#
# CONFIG_USB_DABUSB is not set
# CONFIG_USB_VICAM is not set
# CONFIG_USB_DSBR is not set
# CONFIG_USB_IBMCAM is not set
# CONFIG_USB_KONICAWC is not set
# CONFIG_USB_OV511 is not set
# CONFIG_USB_SE401 is not set
# CONFIG_USB_SN9C102 is not set
# CONFIG_USB_STV680 is not set

#
# USB Network Adapters
#
CONFIG_USB_CATC=y
CONFIG_USB_KAWETH=y
CONFIG_USB_PEGASUS=y
CONFIG_USB_RTL8150=y
CONFIG_USB_USBNET=y

#
# USB Host-to-Host Cables
#
CONFIG_USB_ALI_M5632=y
CONFIG_USB_AN2720=y
CONFIG_USB_BELKIN=y
CONFIG_USB_GENESYS=y
CONFIG_USB_NET1080=y
CONFIG_USB_PL2301=y
CONFIG_USB_KC2190=y

#
# Intelligent USB Devices/Gadgets
#
CONFIG_USB_ARMLINUX=y
CONFIG_USB_EPSON2888=y
CONFIG_USB_ZAURUS=y
CONFIG_USB_CDCETHER=y

#
# USB Network Adapters
#
CONFIG_USB_AX8817X=y

#
# USB port drivers
#
# CONFIG_USB_USS720 is not set

#
# USB Serial Converter support
#
# CONFIG_USB_SERIAL is not set

#
# USB Miscellaneous drivers
#
# CONFIG_USB_EMI62 is not set
# CONFIG_USB_EMI26 is not set
# CONFIG_USB_TIGL is not set
# CONFIG_USB_AUERSWALD is not set
# CONFIG_USB_RIO500 is not set
# CONFIG_USB_LEGOTOWER is not set
# CONFIG_USB_LCD is not set
# CONFIG_USB_LED is not set
CONFIG_USB_CYTHERM=m
# CONFIG_USB_PHIDGETKIT is not set
CONFIG_USB_PHIDGETSERVO=m
# CONFIG_USB_TEST is not set

#
# USB ATM/DSL drivers
#

#
# USB Gadget Support
#
# CONFIG_USB_GADGET is not set

#
# MMC/SD Card support
#
# CONFIG_MMC is not set

#
# File systems
#
CONFIG_EXT2_FS=y
# CONFIG_EXT2_FS_XATTR is not set
CONFIG_EXT3_FS=y
# CONFIG_EXT3_FS_XATTR is not set
CONFIG_JBD=y
# CONFIG_JBD_DEBUG is not set
CONFIG_REISERFS_FS=y
# CONFIG_REISERFS_CHECK is not set
# CONFIG_REISERFS_PROC_INFO is not set
# CONFIG_REISERFS_FS_XATTR is not set
# CONFIG_JFS_FS is not set
# CONFIG_XFS_FS is not set
CONFIG_MINIX_FS=y
CONFIG_ROMFS_FS=y
# CONFIG_QUOTA is not set
CONFIG_DNOTIFY=y
# CONFIG_AUTOFS_FS is not set
CONFIG_AUTOFS4_FS=y

#
# CD-ROM/DVD Filesystems
#
CONFIG_ISO9660_FS=y
CONFIG_JOLIET=y
CONFIG_ZISOFS=y
CONFIG_ZISOFS_FS=y
CONFIG_UDF_FS=y
CONFIG_UDF_NLS=y

#
# DOS/FAT/NT Filesystems
#
CONFIG_FAT_FS=y
CONFIG_MSDOS_FS=y
CONFIG_VFAT_FS=y
CONFIG_FAT_DEFAULT_CODEPAGE=437
CONFIG_FAT_DEFAULT_IOCHARSET="iso8859-1"
CONFIG_NTFS_FS=y
# CONFIG_NTFS_DEBUG is not set
CONFIG_NTFS_RW=y

#
# Pseudo filesystems
#
CONFIG_PROC_FS=y
CONFIG_PROC_KCORE=y
CONFIG_SYSFS=y
CONFIG_DEVFS_FS=y
CONFIG_DEVFS_MOUNT=y
# CONFIG_DEVFS_DEBUG is not set
# CONFIG_DEVPTS_FS_XATTR is not set
CONFIG_TMPFS=y
# CONFIG_TMPFS_XATTR is not set
# CONFIG_HUGETLBFS is not set
# CONFIG_HUGETLB_PAGE is not set
CONFIG_RAMFS=y

#
# Miscellaneous filesystems
#
# CONFIG_ADFS_FS is not set
# CONFIG_AFFS_FS is not set
# CONFIG_HFS_FS is not set
# CONFIG_HFSPLUS_FS is not set
# CONFIG_BEFS_FS is not set
# CONFIG_BFS_FS is not set
# CONFIG_EFS_FS is not set
# CONFIG_CRAMFS is not set
# CONFIG_VXFS_FS is not set
# CONFIG_HPFS_FS is not set
# CONFIG_QNX4FS_FS is not set
# CONFIG_SYSV_FS is not set
# CONFIG_UFS_FS is not set

#
# Network File Systems
#
CONFIG_NFS_FS=m
CONFIG_NFS_V3=y
# CONFIG_NFS_V4 is not set
# CONFIG_NFS_DIRECTIO is not set
# CONFIG_NFSD is not set
CONFIG_LOCKD=m
CONFIG_LOCKD_V4=y
# CONFIG_EXPORTFS is not set
CONFIG_SUNRPC=m
# CONFIG_RPCSEC_GSS_KRB5 is not set
# CONFIG_RPCSEC_GSS_SPKM3 is not set
CONFIG_SMB_FS=m
# CONFIG_SMB_NLS_DEFAULT is not set
CONFIG_CIFS=m
# CONFIG_CIFS_STATS is not set
# CONFIG_CIFS_XATTR is not set
# CONFIG_CIFS_EXPERIMENTAL is not set
# CONFIG_NCP_FS is not set
# CONFIG_CODA_FS is not set
# CONFIG_AFS_FS is not set

#
# Partition Types
#
# CONFIG_PARTITION_ADVANCED is not set
CONFIG_MSDOS_PARTITION=y

#
# Native Language Support
#
CONFIG_NLS=y
CONFIG_NLS_DEFAULT="iso8859-1"
CONFIG_NLS_CODEPAGE_437=y
# CONFIG_NLS_CODEPAGE_737 is not set
# CONFIG_NLS_CODEPAGE_775 is not set
# CONFIG_NLS_CODEPAGE_850 is not set
# CONFIG_NLS_CODEPAGE_852 is not set
# CONFIG_NLS_CODEPAGE_855 is not set
# CONFIG_NLS_CODEPAGE_857 is not set
# CONFIG_NLS_CODEPAGE_860 is not set
# CONFIG_NLS_CODEPAGE_861 is not set
# CONFIG_NLS_CODEPAGE_862 is not set
# CONFIG_NLS_CODEPAGE_863 is not set
# CONFIG_NLS_CODEPAGE_864 is not set
# CONFIG_NLS_CODEPAGE_865 is not set
# CONFIG_NLS_CODEPAGE_866 is not set
# CONFIG_NLS_CODEPAGE_869 is not set
# CONFIG_NLS_CODEPAGE_936 is not set
# CONFIG_NLS_CODEPAGE_950 is not set
# CONFIG_NLS_CODEPAGE_932 is not set
# CONFIG_NLS_CODEPAGE_949 is not set
# CONFIG_NLS_CODEPAGE_874 is not set
# CONFIG_NLS_ISO8859_8 is not set
# CONFIG_NLS_CODEPAGE_1250 is not set
# CONFIG_NLS_CODEPAGE_1251 is not set
# CONFIG_NLS_ASCII is not set
CONFIG_NLS_ISO8859_1=y
# CONFIG_NLS_ISO8859_2 is not set
# CONFIG_NLS_ISO8859_3 is not set
# CONFIG_NLS_ISO8859_4 is not set
# CONFIG_NLS_ISO8859_5 is not set
# CONFIG_NLS_ISO8859_6 is not set
# CONFIG_NLS_ISO8859_7 is not set
# CONFIG_NLS_ISO8859_9 is not set
# CONFIG_NLS_ISO8859_13 is not set
# CONFIG_NLS_ISO8859_14 is not set
# CONFIG_NLS_ISO8859_15 is not set
# CONFIG_NLS_KOI8_R is not set
# CONFIG_NLS_KOI8_U is not set
CONFIG_NLS_UTF8=m

#
# Profiling support
#
CONFIG_PROFILING=y
CONFIG_OPROFILE=y

#
# Kernel hacking
#
CONFIG_DEBUG_KERNEL=y
CONFIG_MAGIC_SYSRQ=y
# CONFIG_SCHEDSTATS is not set
# CONFIG_DEBUG_SLAB is not set
# CONFIG_DEBUG_SPINLOCK is not set
# CONFIG_DEBUG_SPINLOCK_SLEEP is not set
# CONFIG_DEBUG_KOBJECT is not set
# CONFIG_DEBUG_HIGHMEM is not set
# CONFIG_DEBUG_INFO is not set
# CONFIG_FRAME_POINTER is not set
CONFIG_EARLY_PRINTK=y
# CONFIG_DEBUG_STACKOVERFLOW is not set
# CONFIG_KPROBES is not set
# CONFIG_DEBUG_STACK_USAGE is not set
# CONFIG_DEBUG_PAGEALLOC is not set
CONFIG_4KSTACKS=y
CONFIG_X86_FIND_SMP_CONFIG=y
CONFIG_X86_MPPARSE=y

#
# Security options
#
# CONFIG_KEYS is not set
# CONFIG_SECURITY is not set

#
# Cryptographic options
#
CONFIG_CRYPTO=y
# CONFIG_CRYPTO_HMAC is not set
# CONFIG_CRYPTO_NULL is not set
# CONFIG_CRYPTO_MD4 is not set
CONFIG_CRYPTO_MD5=m
CONFIG_CRYPTO_SHA1=m
CONFIG_CRYPTO_SHA256=m
CONFIG_CRYPTO_SHA512=m
# CONFIG_CRYPTO_WP512 is not set
CONFIG_CRYPTO_DES=m
CONFIG_CRYPTO_BLOWFISH=m
CONFIG_CRYPTO_TWOFISH=m
CONFIG_CRYPTO_SERPENT=m
CONFIG_CRYPTO_AES_586=m
# CONFIG_CRYPTO_CAST5 is not set
# CONFIG_CRYPTO_CAST6 is not set
# CONFIG_CRYPTO_TEA is not set
# CONFIG_CRYPTO_ARC4 is not set
# CONFIG_CRYPTO_KHAZAD is not set
# CONFIG_CRYPTO_ANUBIS is not set
CONFIG_CRYPTO_DEFLATE=m
# CONFIG_CRYPTO_MICHAEL_MIC is not set
CONFIG_CRYPTO_CRC32C=m
# CONFIG_CRYPTO_TEST is not set

#
# Library routines
#
CONFIG_CRC_CCITT=y
CONFIG_CRC32=y
CONFIG_LIBCRC32C=m
CONFIG_ZLIB_INFLATE=y
CONFIG_ZLIB_DEFLATE=y
CONFIG_GENERIC_HARDIRQS=y
CONFIG_GENERIC_IRQ_PROBE=y
CONFIG_X86_SMP=y
CONFIG_X86_HT=y
CONFIG_X86_BIOS_REBOOT=y
CONFIG_X86_TRAMPOLINE=y
CONFIG_PC=y

--- FILE buildroot-config ---
#
# Automatically generated make config: don't edit
#
BR2_HAVE_DOT_CONFIG=y
# BR2_arm is not set
# BR2_armeb is not set
# BR2_cris is not set
BR2_i386=y
# BR2_m68k is not set
# BR2_mips is not set
# BR2_mipsel is not set
# BR2_powerpc is not set
# BR2_sh3 is not set
# BR2_sh3eb is not set
# BR2_sh4 is not set
# BR2_sh4eb is not set
# BR2_sparc is not set
BR2_ARCH="i386"

#
# Build options
#
BR2_WGET="wget --passive-ftp"
# BR2_TAR_VERBOSITY is not set
BR2_STAGING_DIR="$(BUILD_DIR)/staging_dir"
BR2_JLEVEL=1

#
# Toolchain Options
#

#
# Kernel Header Options
#
# BR2_KERNEL_HEADERS_2_4_25 is not set
# BR2_KERNEL_HEADERS_2_4_27 is not set
# BR2_KERNEL_HEADERS_2_6_8 is not set
BR2_KERNEL_HEADERS_2_6_9=y
BR2_DEFAULT_KERNEL_HEADERS="2.6.9"

#
# uClibc Options
#
# BR2_UCLIBC_VERSION_SNAPSHOT is not set
# BR2_ENABLE_LOCALE is not set

#
# Binutils Options
#
# BR2_BINUTILS_VERSION_2_14_90_0_6 is not set
# BR2_BINUTILS_VERSION_2_14_90_0_7 is not set
# BR2_BINUTILS_VERSION_2_14_90_0_8 is not set
# BR2_BINUTILS_VERSION_2_15 is not set
# BR2_BINUTILS_VERSION_2_15_90_0_1 is not set
# BR2_BINUTILS_VERSION_2_15_90_0_1_1 is not set
# BR2_BINUTILS_VERSION_2_15_90_0_2 is not set
# BR2_BINUTILS_VERSION_2_15_90_0_3 is not set
# BR2_BINUTILS_VERSION_2_15_91_0_1 is not set
BR2_BINUTILS_VERSION_2_15_91_0_2=y
# BR2_BINUTILS_VERSION_2_15_92_0_2 is not set
# BR2_BINUTILS_VERSION_2_15_94_0_1 is not set
# BR2_BINUTILS_VERSION_2_15_94_0_2 is not set
BR2_BINUTILS_VERSION="2.15.91.0.2"

#
# Gcc Options
#
# BR2_GCC_VERSION_2_95 is not set
# BR2_GCC_VERSION_3_3_3 is not set
# BR2_GCC_VERSION_3_3_4 is not set
# BR2_GCC_VERSION_3_3_5 is not set
# BR2_GCC_VERSION_3_4_0 is not set
# BR2_GCC_VERSION_3_4_1 is not set
BR2_GCC_VERSION_3_4_2=y
# BR2_GCC_VERSION_3_4_3 is not set
BR2_GCC_VERSION="3.4.2"
BR2_GCC_USE_SJLJ_EXCEPTIONS="--enable-sjlj-exceptions"
BR2_EXTRA_GCC_CONFIG_OPTIONS=""
# BR2_INSTALL_LIBSTDCPP is not set

#
# Ccache Options
#
BR2_CCACHE=y

#
# Gdb Options
#
# BR2_PACKAGE_GDB is not set
# BR2_PACKAGE_GDB_SERVER is not set

#
# Common Toolchain Options
#
# BR2_ENABLE_MULTILIB is not set
BR2_LARGEFILE=y
BR2_TARGET_OPTIMIZATION="-Os -pipe"

#
# Package Selection for the target
#

#
# The default minimal system
#
# BR2_PACKAGE_BUSYBOX is not set

#
# The minimum needed to build a uClibc development system
#
# BR2_PACKAGE_BASH is not set
# BR2_PACKAGE_BZIP2 is not set
# BR2_PACKAGE_COREUTILS is not set
# BR2_PACKAGE_DIFFUTILS is not set
# BR2_PACKAGE_ED is not set
# BR2_PACKAGE_FINDUTILS is not set
# BR2_PACKAGE_FLEX is not set
# BR2_PACKAGE_GAWK is not set
# BR2_PACKAGE_GCC_TARGET is not set
# BR2_PACKAGE_CCACHE_TARGET is not set
# BR2_PACKAGE_GREP is not set
# BR2_PACKAGE_MAKE is not set
# BR2_PACKAGE_PATCH is not set
# BR2_PACKAGE_SED is not set
# BR2_PACKAGE_TAR is not set

#
# Other stuff
#
# BR2_PACKAGE_AUTOCONF is not set
# BR2_PACKAGE_AUTOMAKE is not set
# BR2_PACKAGE_BERKELEYDB is not set
# BR2_PACKAGE_BISON is not set
# BR2_PACKAGE_BOA is not set
# BR2_PACKAGE_BRIDGE is not set
# BR2_PACKAGE_CONFIG is not set
# BR2_PACKAGE_CUSTOMIZE is not set
# BR2_PACKAGE_DHCP_RELAY is not set
# BR2_PACKAGE_DISTCC is not set
# BR2_PACKAGE_DNSMASQ is not set
# BR2_PACKAGE_DROPBEAR_SSHD is not set
# BR2_PACKAGE_FAKEROOT is not set
# BR2_PACKAGE_FILE is not set
# BR2_PACKAGE_GETTEXT is not set
# BR2_PACKAGE_GZIP is not set
# BR2_PACKAGE_HOSTAP is not set
# BR2_PACKAGE_HOTPLUG is not set
# BR2_PACKAGE_IPROUTE2 is not set
# BR2_PACKAGE_IPTABLES is not set
# BR2_PACKAGE_JPEG is not set
# BR2_PACKAGE_LESS is not set
# BR2_PACKAGE_LIBFLOAT is not set
# BR2_PACKAGE_LIBGLIB12 is not set
# BR2_PACKAGE_LIBMAD is not set
# BR2_PACKAGE_LIBPNG is not set
# BR2_PACKAGE_LIBTOOL is not set
# BR2_PACKAGE_LINKS is not set
# BR2_PACKAGE_LINUX is not set
# BR2_PACKAGE_LRZSZ is not set
# BR2_PACKAGE_LTP-TESTSUITE is not set
# BR2_PACKAGE_LTRACE is not set
# BR2_PACKAGE_LZO is not set
# BR2_PACKAGE_M4 is not set
# BR2_PACKAGE_MICROCOM is not set
# BR2_PACKAGE_MICROWIN is not set
# BR2_PACKAGE_MKDOSFS is not set
# BR2_PACKAGE_MKE2FS is not set
# BR2_PACKAGE_MPG123 is not set
# BR2_PACKAGE_MROUTED is not set
# BR2_PACKAGE_NANO is not set
# BR2_PACKAGE_NCURSES is not set
# BR2_PACKAGE_NETKITBASE is not set
# BR2_PACKAGE_NETKITTELNET is not set
# BR2_PACKAGE_NETSNMP is not set
# BR2_PACKAGE_NEWT is not set
# BR2_PACKAGE_NTP is not set
# BR2_PACKAGE_OPENSSH is not set
# BR2_PACKAGE_OPENSSL is not set
# BR2_PACKAGE_OPENVPN is not set
# BR2_PACKAGE_PCIUTILS is not set
# BR2_PACKAGE_PCMCIA is not set
# BR2_PACKAGE_PORTAGE is not set
# BR2_PACKAGE_PORTMAP is not set
# BR2_PACKAGE_PPPD is not set
# BR2_PACKAGE_PROCPS is not set
# BR2_PACKAGE_PYTHON is not set
# BR2_PACKAGE_RAIDTOOLS is not set
# BR2_PACKAGE_RSYNC is not set
# BR2_PACKAGE_RXVT is not set
# BR2_PACKAGE_SFDISK is not set
# BR2_PACKAGE_SLANG is not set
# BR2_PACKAGE_SOCAT is not set
# BR2_PACKAGE_STRACE is not set
# BR2_PACKAGE_TINYLOGIN is not set
# BR2_PACKAGE_TINYX is not set
# BR2_PACKAGE_TN5250 is not set
# BR2_PACKAGE_TTCP is not set
# BR2_PACKAGE_UDHCP is not set
# BR2_PACKAGE_UTIL-LINUX is not set
# BR2_PACKAGE_VALGRIND is not set
# BR2_PACKAGE_VTUN is not set
# BR2_PACKAGE_WGET is not set
# BR2_PACKAGE_WHICH is not set
# BR2_PACKAGE_WTOOLS is not set
# BR2_PACKAGE_ZLIB is not set

#
# Target Options
#
# BR2_TARGET_ROOTFS_CRAMFS is not set
# BR2_TARGET_ROOTFS_EXT2 is not set
# BR2_TARGET_ROOTFS_JFFS2 is not set
# BR2_TARGET_ROOTFS_SQUASHFS is not set

--- FILE busybox-config ---
#
# Automatically generated make config: don't edit
#
HAVE_DOT_CONFIG=y

#
# General Configuration
#
# CONFIG_FEATURE_BUFFERS_USE_MALLOC is not set
CONFIG_FEATURE_BUFFERS_GO_ON_STACK=y
# CONFIG_FEATURE_BUFFERS_GO_IN_BSS is not set
# CONFIG_FEATURE_VERBOSE_USAGE is not set
# CONFIG_FEATURE_INSTALLER is not set
# CONFIG_LOCALE_SUPPORT is not set
# CONFIG_FEATURE_DEVFS is not set
# CONFIG_FEATURE_DEVPTS is not set
# CONFIG_FEATURE_CLEAN_UP is not set
CONFIG_FEATURE_SUID=y
# CONFIG_FEATURE_SUID_CONFIG is not set
# CONFIG_SELINUX is not set

#
# Build Options
#
# CONFIG_STATIC is not set
CONFIG_LFS=y
USING_CROSS_COMPILER=y
CROSS_COMPILER_PREFIX="/home/zaphod/toast/linux/buildroot/build_i386/staging_dir/i386-linux-uclibc/bin/"
EXTRA_CFLAGS_OPTIONS=""

#
# Installation Options
#
CONFIG_INSTALL_NO_USR=y
PREFIX="./_install"

#
# Archival Utilities
#
# CONFIG_AR is not set
CONFIG_BUNZIP2=y
# CONFIG_CPIO is not set
# CONFIG_DPKG is not set
# CONFIG_DPKG_DEB is not set
CONFIG_GUNZIP=y
# CONFIG_FEATURE_GUNZIP_UNCOMPRESS is not set
CONFIG_GZIP=y
# CONFIG_RPM2CPIO is not set
# CONFIG_RPM is not set
CONFIG_TAR=y
CONFIG_FEATURE_TAR_CREATE=y
CONFIG_FEATURE_TAR_BZIP2=y
# CONFIG_FEATURE_TAR_FROM is not set
CONFIG_FEATURE_TAR_GZIP=y
# CONFIG_FEATURE_TAR_COMPRESS is not set
CONFIG_FEATURE_TAR_OLDGNU_COMPATABILITY=y
CONFIG_FEATURE_TAR_GNU_EXTENSIONS=y
# CONFIG_FEATURE_TAR_LONG_OPTIONS is not set
# CONFIG_UNCOMPRESS is not set
# CONFIG_UNZIP is not set

#
# Common options for cpio and tar
#
# CONFIG_FEATURE_UNARCHIVE_TAPE is not set

#
# Coreutils
#
CONFIG_BASENAME=y
# CONFIG_CAL is not set
CONFIG_CAT=y
CONFIG_CHGRP=y
CONFIG_CHMOD=y
CONFIG_CHOWN=y
CONFIG_CHROOT=y
# CONFIG_CMP is not set
CONFIG_CP=y
CONFIG_CUT=y
CONFIG_DATE=y
CONFIG_FEATURE_DATE_ISOFMT=y
CONFIG_DD=y
CONFIG_DF=y
CONFIG_DIRNAME=y
# CONFIG_DOS2UNIX is not set
CONFIG_DU=y
CONFIG_FEATURE_DU_DEFALT_BLOCKSIZE_1K=y
CONFIG_ECHO=y
CONFIG_FEATURE_FANCY_ECHO=y
CONFIG_ENV=y
CONFIG_EXPR=y
CONFIG_FALSE=y
# CONFIG_FOLD is not set
CONFIG_HEAD=y
# CONFIG_FEATURE_FANCY_HEAD is not set
# CONFIG_HOSTID is not set
CONFIG_ID=y
CONFIG_INSTALL=y
# CONFIG_LENGTH is not set
CONFIG_LN=y
# CONFIG_LOGNAME is not set
CONFIG_LS=y
CONFIG_FEATURE_LS_FILETYPES=y
CONFIG_FEATURE_LS_FOLLOWLINKS=y
# CONFIG_FEATURE_LS_RECURSIVE is not set
CONFIG_FEATURE_LS_SORTFILES=y
CONFIG_FEATURE_LS_TIMESTAMPS=y
CONFIG_FEATURE_LS_USERNAME=y
# CONFIG_FEATURE_LS_COLOR is not set
CONFIG_MD5SUM=y
CONFIG_MKDIR=y
# CONFIG_MKFIFO is not set
CONFIG_MKNOD=y
CONFIG_MV=y
CONFIG_OD=y
CONFIG_PRINTF=y
CONFIG_PWD=y
# CONFIG_REALPATH is not set
CONFIG_RM=y
CONFIG_RMDIR=y
CONFIG_SEQ=y
# CONFIG_SHA1SUM is not set
CONFIG_SLEEP=y
# CONFIG_FEATURE_FANCY_SLEEP is not set
CONFIG_SORT=y
CONFIG_STTY=y
CONFIG_SYNC=y
CONFIG_TAIL=y
# CONFIG_FEATURE_FANCY_TAIL is not set
CONFIG_TEE=y
# CONFIG_FEATURE_TEE_USE_BLOCK_IO is not set
CONFIG_TEST=y

#
# test (forced enabled for use with shell)
#
CONFIG_FEATURE_TEST_64=y
CONFIG_TOUCH=y
CONFIG_TR=y
CONFIG_TRUE=y
# CONFIG_TTY is not set
CONFIG_UNAME=y
CONFIG_UNIQ=y
# CONFIG_USLEEP is not set
# CONFIG_UUDECODE is not set
# CONFIG_UUENCODE is not set
# CONFIG_WATCH is not set
CONFIG_WC=y
# CONFIG_WHO is not set
CONFIG_WHOAMI=y
CONFIG_YES=y

#
# Common options for cp and mv
#
# CONFIG_FEATURE_PRESERVE_HARDLINKS is not set

#
# Common options for ls and more
#
CONFIG_FEATURE_AUTOWIDTH=y

#
# Common options for df, du, ls
#
CONFIG_FEATURE_HUMAN_READABLE=y

#
# Common options for md5sum, sha1sum
#
CONFIG_FEATURE_MD5_SHA1_SUM_CHECK=y

#
# Console Utilities
#
# CONFIG_CHVT is not set
CONFIG_CLEAR=y
# CONFIG_DEALLOCVT is not set
# CONFIG_DUMPKMAP is not set
CONFIG_LOADFONT=y
CONFIG_LOADKMAP=y
CONFIG_OPENVT=y
CONFIG_RESET=y
CONFIG_SETKEYCODES=y

#
# Debian Utilities
#
# CONFIG_MKTEMP is not set
# CONFIG_PIPE_PROGRESS is not set
# CONFIG_READLINK is not set
# CONFIG_RUN_PARTS is not set
# CONFIG_START_STOP_DAEMON is not set
CONFIG_WHICH=y

#
# Editors
#
# CONFIG_AWK is not set
# CONFIG_PATCH is not set
CONFIG_SED=y
CONFIG_VI=y
CONFIG_FEATURE_VI_COLON=y
CONFIG_FEATURE_VI_YANKMARK=y
CONFIG_FEATURE_VI_SEARCH=y
CONFIG_FEATURE_VI_USE_SIGNALS=y
CONFIG_FEATURE_VI_DOT_CMD=y
CONFIG_FEATURE_VI_READONLY=y
CONFIG_FEATURE_VI_SETOPTS=y
CONFIG_FEATURE_VI_SET=y
CONFIG_FEATURE_VI_WIN_RESIZE=y
CONFIG_FEATURE_VI_OPTIMIZE_CURSOR=y

#
# Finding Utilities
#
CONFIG_FIND=y
CONFIG_FEATURE_FIND_MTIME=y
CONFIG_FEATURE_FIND_PERM=y
CONFIG_FEATURE_FIND_TYPE=y
CONFIG_FEATURE_FIND_XDEV=y
CONFIG_FEATURE_FIND_NEWER=y
CONFIG_FEATURE_FIND_INUM=y
CONFIG_GREP=y
CONFIG_FEATURE_GREP_EGREP_ALIAS=y
CONFIG_FEATURE_GREP_FGREP_ALIAS=y
# CONFIG_FEATURE_GREP_CONTEXT is not set
# CONFIG_XARGS is not set

#
# Init Utilities
#
CONFIG_INIT=y
CONFIG_FEATURE_USE_INITTAB=y
# CONFIG_FEATURE_INITRD is not set
# CONFIG_FEATURE_INIT_COREDUMPS is not set
# CONFIG_FEATURE_INIT_SWAPON is not set
CONFIG_FEATURE_EXTRA_QUIET=y
CONFIG_HALT=y
CONFIG_POWEROFF=y
CONFIG_REBOOT=y
# CONFIG_MESG is not set

#
# Login/Password Management Utilities
#
# CONFIG_USE_BB_PWD_GRP is not set
# CONFIG_ADDGROUP is not set
# CONFIG_DELGROUP is not set
# CONFIG_ADDUSER is not set
# CONFIG_DELUSER is not set
# CONFIG_GETTY is not set
# CONFIG_LOGIN is not set
# CONFIG_PASSWD is not set
# CONFIG_SU is not set
# CONFIG_SULOGIN is not set
# CONFIG_VLOCK is not set

#
# Miscellaneous Utilities
#
# CONFIG_ADJTIMEX is not set
# CONFIG_CROND is not set
# CONFIG_CRONTAB is not set
# CONFIG_DC is not set
# CONFIG_DEVFSD is not set
# CONFIG_LAST is not set
# CONFIG_HDPARM is not set
# CONFIG_MAKEDEVS is not set
# CONFIG_MT is not set
# CONFIG_RX is not set
CONFIG_STRINGS=y
# CONFIG_TIME is not set
# CONFIG_WATCHDOG is not set

#
# Linux Module Utilities
#
# CONFIG_INSMOD is not set
# CONFIG_LSMOD is not set
# CONFIG_MODPROBE is not set
# CONFIG_RMMOD is not set

#
# Networking Utilities
#
# CONFIG_FEATURE_IPV6 is not set
# CONFIG_ARPING is not set
# CONFIG_FTPGET is not set
# CONFIG_FTPPUT is not set
CONFIG_HOSTNAME=y
# CONFIG_HTTPD is not set
CONFIG_IFCONFIG=y
CONFIG_FEATURE_IFCONFIG_STATUS=y
# CONFIG_FEATURE_IFCONFIG_SLIP is not set
CONFIG_FEATURE_IFCONFIG_MEMSTART_IOADDR_IRQ=y
CONFIG_FEATURE_IFCONFIG_HW=y
# CONFIG_FEATURE_IFCONFIG_BROADCAST_PLUS is not set
# CONFIG_IFUPDOWN is not set
# CONFIG_INETD is not set
# CONFIG_IP is not set
CONFIG_IPCALC=y
CONFIG_FEATURE_IPCALC_FANCY=y
# CONFIG_IPADDR is not set
# CONFIG_IPLINK is not set
# CONFIG_IPROUTE is not set
# CONFIG_IPTUNNEL is not set
# CONFIG_NAMEIF is not set
# CONFIG_NC is not set
# CONFIG_NETSTAT is not set
CONFIG_NSLOOKUP=y
CONFIG_PING=y
CONFIG_FEATURE_FANCY_PING=y
CONFIG_ROUTE=y
# CONFIG_TELNET is not set
# CONFIG_TELNETD is not set
# CONFIG_TFTP is not set
CONFIG_TRACEROUTE=y
CONFIG_FEATURE_TRACEROUTE_VERBOSE=y
# CONFIG_VCONFIG is not set
CONFIG_WGET=y
CONFIG_FEATURE_WGET_STATUSBAR=y
# CONFIG_FEATURE_WGET_AUTHENTICATION is not set
# CONFIG_FEATURE_WGET_IP6_LITERAL is not set

#
# udhcp Server/Client
#
# CONFIG_UDHCPD is not set
CONFIG_UDHCPC=y
# CONFIG_FEATURE_UDHCP_SYSLOG is not set
# CONFIG_FEATURE_UDHCP_DEBUG is not set

#
# Process Utilities
#
# CONFIG_FREE is not set
CONFIG_KILL=y
# CONFIG_KILLALL is not set
# CONFIG_PIDOF is not set
CONFIG_PS=y
# CONFIG_RENICE is not set
# CONFIG_TOP is not set
# CONFIG_UPTIME is not set
# CONFIG_SYSCTL is not set

#
# Another Bourne-like Shell
#
CONFIG_FEATURE_SH_IS_ASH=y
# CONFIG_FEATURE_SH_IS_HUSH is not set
# CONFIG_FEATURE_SH_IS_LASH is not set
# CONFIG_FEATURE_SH_IS_MSH is not set
# CONFIG_FEATURE_SH_IS_NONE is not set
CONFIG_ASH=y

#
# Ash Shell Options
#
CONFIG_ASH_JOB_CONTROL=y
# CONFIG_ASH_ALIAS is not set
CONFIG_ASH_MATH_SUPPORT=y
CONFIG_ASH_MATH_SUPPORT_64=y
# CONFIG_ASH_GETOPTS is not set
# CONFIG_ASH_CMDCMD is not set
# CONFIG_ASH_MAIL is not set
CONFIG_ASH_OPTIMIZE_FOR_SIZE=y
# CONFIG_ASH_RANDOM_SUPPORT is not set
# CONFIG_HUSH is not set
# CONFIG_LASH is not set
# CONFIG_MSH is not set

#
# Bourne Shell Options
#
CONFIG_FEATURE_SH_EXTRA_QUIET=y
# CONFIG_FEATURE_SH_STANDALONE_SHELL is not set
CONFIG_FEATURE_COMMAND_EDITING=y
CONFIG_FEATURE_COMMAND_HISTORY=15
# CONFIG_FEATURE_COMMAND_SAVEHISTORY is not set
CONFIG_FEATURE_COMMAND_TAB_COMPLETION=y
# CONFIG_FEATURE_COMMAND_USERNAME_COMPLETION is not set
CONFIG_FEATURE_SH_FANCY_PROMPT=y

#
# System Logging Utilities
#
# CONFIG_SYSLOGD is not set
# CONFIG_LOGGER is not set

#
# Linux System Utilities
#
# CONFIG_DMESG is not set
# CONFIG_FBSET is not set
# CONFIG_FDFLUSH is not set
# CONFIG_FDFORMAT is not set
# CONFIG_FDISK is not set
FDISK_SUPPORT_LARGE_DISKS=y
# CONFIG_FREERAMDISK is not set
# CONFIG_FSCK_MINIX is not set
# CONFIG_MKFS_MINIX is not set
# CONFIG_GETOPT is not set
# CONFIG_HEXDUMP is not set
# CONFIG_HWCLOCK is not set
CONFIG_LOSETUP=y
CONFIG_MKSWAP=y
# CONFIG_MORE is not set
# CONFIG_PIVOT_ROOT is not set
# CONFIG_RDATE is not set
CONFIG_SWAPONOFF=y
CONFIG_MOUNT=y
# CONFIG_NFSMOUNT is not set
CONFIG_UMOUNT=y
# CONFIG_FEATURE_MOUNT_FORCE is not set

#
# Common options for mount/umount
#
CONFIG_FEATURE_MOUNT_LOOP=y
CONFIG_FEATURE_MTAB_SUPPORT=y
CONFIG_FEATURE_MTAB_FILENAME="/etc/mtab"

#
# Debugging Options
#
# CONFIG_DEBUG is not set
@


1.147
log
@fix a bug in the code that finds room for new partitions
@
text
@a15 2
export http_proxy=http://67.126.59.194:8080/

a442 1
devfsd 56 127 
d486 1
a486 1
#ltrace 140 298 # download problems?
d505 1
a505 1
#valgrind 964 # 2.2.0 wanted older kernel headers
d517 1
a517 1
tiff 1068 766 
a523 1
#syslinux 432 # toast wasn't compiling 2.13 properly, at least
d537 1
a537 1
XFree86 53032 78546 
d545 1
a545 2
#fam 336 # BTree-related compile errors; do we actually need this anyway?
#t1lib 1516 # wants latex.fmt (?)
d549 3
a551 3
#xine-lib 7212 # some weird configure error
#xine-ui 2572 # needs xine-lib
#cdparanoia 136 # dislikes gcc 3.4? (label at end of compound statement)
d586 2
a587 2
#vte 888 # `FC_WIDTH' undeclared
#gnome-terminal 2040 # needs vte
d590 2
a591 2
#libxklavier 312 # "The path /X11/xkb does not denote the directory"
#gnome-applets 6280 # needs libxklavier
d623 1
a623 1
#epiphany 3324 # looks like some kind of mozilla library versioning issue
d630 3
a632 3
#libcap 32 # download problem?
#hal 1300 # needs libcap
#gnome-volume-manager 200 # needs hal
d635 1
a635 1
#evolution 14672 # missing some header files -- Mozilla-related, perhaps?
d637 2
a638 2
#pwlib 1080 # .../obj_linux_x86_d/asner.dep:1: *** missing separator.  Stop.
#gnomemeeting 2892 # needs pwlib
d660 1
a660 1
qt-x11-free 14124 132145 - LD_LIBRARY_PATH=/toast/pkg/qt-x11-free/v3.3.3/1/src/qt-x11-free-3.3.3/lib sbin/toast arm qt-x11-free
d675 1
a675 1
#kdesdk 4288 # cannot convert `DB_BTREE_STAT**' to `DB_TXN*'
d681 3
a683 3
#firefox 31976 # doesn't compile; not sure what's going on here
#xmms 2384 # wants older glib, I think
#gimp 13520 # wants newer fontconfig
d898 7
d915 1
a915 1
wget http://www.kernel.org/pub/linux/libs/uclibc/root_fs_i386.bz2
d939 1
a939 1
sh Configure -des -Dprefix=/usr -Dextensions="Errno File/Glob" -Uusevfork -Uuseperlio -Uusefaststdio -Uusenm -Uusedl -Uuselargefiles
d968 2
a969 2
dir="linux-2.6.10"
ver=2.6.10
d991 1
a991 1
[ http://kernel.org/pub/linux/kernel/v2.6/linux-2.6.10.tar.bz2 /root/linux-2.6.10-config.tar.gz ]
d993 1
a993 1
lilo/22.6.1-devmapper: [ http://home.san.rr.com/johninsd/pub/linux/lilo/lilo-22.6.1.src.tar.gz http://www.saout.de/misc/lilo-22.6.1-devmapper.patch ]
a995 2
genext2fs/1.3-7.1: [ http://http.us.debian.org/debian/pool/main/g/genext2fs/genext2fs_1.3.orig.tar.gz http://http.us.debian.org/debian/pool/main/g/genext2fs/genext2fs_1.3-7.1.diff.gz ]

d1002 3
a1004 29
ftp://ftp.cistron.nl/pub/people/miquels/sysvinit/sysvinit-2.85.tar.gz
http://ftp.gnu.org/gnu/bash/bash-3.0.tar.gz
http://ftp.gnu.org/gnu/binutils/binutils-2.15.tar.bz2
http://ftp.gnu.org/gnu/coreutils/coreutils-5.0.tar.bz2
http://ftp.gnu.org/gnu/diffutils/diffutils-2.8.1.tar.gz
http://ftp.gnu.org/gnu/findutils/
http://ftp.gnu.org/gnu/gawk/gawk-3.1.3.tar.bz2
http://ftp.gnu.org/gnu/gcc/gcc-3.4.3/gcc-3.4.3.tar.bz2
http://ftp.gnu.org/gnu/gettext/gettext-0.14.1.tar.gz
http://ftp.gnu.org/gnu/grep/grep-2.5.tar.bz2
http://ftp.gnu.org/gnu/gzip/gzip-1.2.4a.tar.gz
http://ftp.gnu.org/gnu/make/
http://ftp.gnu.org/gnu/ncurses/ncurses-5.4.tar.gz
http://ftp.gnu.org/gnu/patch/patch-2.5.4.tar.gz
http://ftp.gnu.org/gnu/readline/readline-4.3.tar.gz
http://ftp.gnu.org/gnu/sed/sed-4.0.9.tar.gz
http://ftp.gnu.org/gnu/tar/tar-1.14.tar.bz2
http://ftp.gnu.org/gnu/wget/wget-1.9.1.tar.gz
http://kernel.org/pub/linux/daemons/devfsd/devfsd-v1.3.25.tar.bz2
http://kernel.org/pub/linux/utils/kernel/hotplug/
http://kernel.org/pub/linux/utils/kernel/module-init-tools/module-init-tools-3.0.tar.bz2
http://kernel.org/pub/linux/utils/util-linux/
http://mirrors.kernel.org/sources.redhat.com/bzip2/v102/bzip2-1.0.2.tar.gz
http://mirrors.kernel.org/sources.redhat.com/dm/
http://mirrors.kernel.org/sources.redhat.com/lvm2/
http://prdownloads.sourceforge.net/e2fsprogs/e2fsprogs-1.35.tar.gz
http://prdownloads.sourceforge.net/infozip/unzip551.tar.gz
http://prdownloads.sourceforge.net/infozip/zip23.tar.gz
http://prdownloads.sourceforge.net/nasm/nasm-0.98.38.tar.bz2
a1006 3
http://www.phystech.com/ftp/dhcpcd-1.3.22-pl4.tar.gz
http://www.sethwklein.net/projects/iana-etc/downloads/iana-etc-0.99.tar.bz2
http://www.zsh.org/pub/
a1008 1
[ http://ftp.xfree86.org/pub/XFree86/4.4.0/source/XFree86-4.4.0-src-1.tgz http://ftp.xfree86.org/pub/XFree86/4.4.0/source/XFree86-4.4.0-src-2.tgz http://ftp.xfree86.org/pub/XFree86/4.4.0/source/XFree86-4.4.0-src-3.tgz http://ftp.xfree86.org/pub/XFree86/4.4.0/source/XFree86-4.4.0-src-4.tgz http://ftp.xfree86.org/pub/XFree86/4.4.0/source/XFree86-4.4.0-src-5.tgz http://ftp.xfree86.org/pub/XFree86/4.4.0/source/XFree86-4.4.0-src-6.tgz http://ftp.xfree86.org/pub/XFree86/4.4.0/source/XFree86-4.4.0-src-7.tgz ]
a1009 2
http://prdownloads.sourceforge.net/freetype/freetype-2.1.5.tar.bz2 # 2.1.7 seems to cause include problems with xft 2.1.2
# [ http://prdownloads.sourceforge.net/openjade/OpenSP-1.5.1.tar.gz http://belfs.linux-phreak.net/belfs/blfs-patches/OpenSP-1.5.1-gcc34-2.patch ]
a1011 1
https://ccvs.cvshome.org/files/documents/19/534/cvs-1.11.18.tar.bz2 # requires openssl to download; see special case at the end of prepare()
d1013 10
a1022 8
# Gnome 2.8.0, KDE 3.3.2:
http://ftp.gnome.org/pub/GNOME/bindings/2.8/2.8.0/sources/c++/
#http://ftp.gnome.org/pub/GNOME/bindings/2.8/2.8.0/sources/java/ # needs java
http://ftp.gnome.org/pub/GNOME/bindings/2.8/2.8.0/sources/perl/
http://ftp.gnome.org/pub/GNOME/bindings/2.8/2.8.0/sources/python/
http://ftp.gnome.org/pub/GNOME/desktop/2.8/2.8.0/sources/
http://ftp.gnome.org/pub/GNOME/platform/2.8/2.8.0/sources/
http://ibiblio.org/pub/mirrors/kde/stable/3.3.2/src/
a1024 1
http://freedesktop.org/software/dbus/releases/
d1027 2
a1028 6
http://freedesktop.org/software/shared-mime-info/shared-mime-info-0.14.tar.gz
http://freedesktop.org/~david/hal-0.4.2.tar.gz
http://freedesktop.org/~fontconfig/release/fontconfig-2.2.93.tar.gz
http://freedesktop.org/~fontconfig/release/xft-2.1.2.tar.gz
http://freedesktop.org/~xlibs/release/render-0.8.tar.gz
http://freedesktop.org/~xlibs/release/xrender-0.8.3.tar.gz
a1030 2
http://ftp.gnome.org/pub/GNOME/sources/libgsf/1.8/libgsf-1.8.2.tar.bz2
http://ftp.gnome.org/pub/GNOME/sources/libsigc++/2.0/
d1035 2
a1036 8
ftp://ftp.bitwizard.nl/mtr/mtr-0.58.tar.gz
ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-4.5.tar.bz2
ftp://ftp.foolabs.com/pub/xpdf/t1lib-1.3.tar.gz
ftp://ftp.foolabs.com/pub/xpdf/xpdf-3.00.tar.gz
ftp://ftp.fvwm.org/pub/fvwm/version-2/fvwm-2.4.19.tar.bz2
ftp://ftp.gnupg.org/gcrypt/gnupg/gnupg-1.2.4.tar.bz2
ftp://ftp.isc.org/isc/bind9/9.2.3/bind-9.2.3.tar.gz
ftp://ftp.rpm.org/pub/rpm/dist/rpm-4.1.x/popt-1.7.tar.gz
a1037 3
ftp://ftp.vim.org/pub/vim/unix/vim-6.2.tar.bz2
ftp://ftp.win.tue.nl/pub/linux-local/utils/kbd/kbd-1.12.tar.gz
ftp://oss.sgi.com/projects/fam/download/fam-2.6.10.tar.gz
d1039 1
a1039 5
http://caml.inria.fr/distrib/ocaml-3.08/ocaml-3.08.1.tar.bz2
http://curl.haxx.se/download/curl-7.11.1.tar.bz2
http://developer.kde.org/~sewardj/valgrind-2.2.0.tar.bz2
http://dl.maptools.org/dl/libtiff/tiff-v3.6.1.tar.gz
http://download.insecure.org/nmap/dist/nmap-3.50.tar.bz2
d1041 2
a1042 24
http://fresh.t-systems-sfr.com/fresh/unix/src/misc/file-4.12.tar.gz
http://ftp.figlet.org/pub/figlet/program/unix/figlet221.tar.gz
http://ftp.gnu.org/gnu/autoconf/autoconf-2.59.tar.gz
http://ftp.gnu.org/gnu/automake/automake-1.8.2.tar.gz
http://ftp.gnu.org/gnu/bc/bc-1.06.tar.gz
http://ftp.gnu.org/gnu/bison/bison-1.875.tar.bz2
http://ftp.gnu.org/gnu/cpio/cpio-2.5.tar.gz
http://ftp.gnu.org/gnu/ed/ed-0.2.tar.gz
http://ftp.gnu.org/gnu/gdbm/gdbm-1.8.3.tar.gz
http://ftp.gnu.org/gnu/gmp/
http://ftp.gnu.org/gnu/groff/groff-1.19.tar.gz
http://ftp.gnu.org/gnu/inetutils/inetutils-1.4.2.tar.gz
http://ftp.gnu.org/gnu/libtool/libtool-1.5.2.tar.gz
http://ftp.gnu.org/gnu/m4/m4-1.4.tar.gz
http://ftp.gnu.org/gnu/miscfiles/miscfiles-1.3.tar.gz
http://ftp.gnu.org/gnu/parted/
http://ftp.gnu.org/gnu/texinfo/texinfo-4.6.tar.gz
http://ftp.gnu.org/gnu/units/units-1.80.tar.gz
http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/1.0/source/firefox-1.0-source.tar.bz2
http://ftp.mozilla.org/pub/mozilla.org/mozilla/releases/mozilla1.7.3/src/mozilla-source-1.7.3.tar.bz2
http://ftp.silug.org/mirrors/ftp.trolltech.com/qt/source/qt-x11-free-3.3.3.tar.bz2
http://ftp.xfree86.org/pub/XFree86/4.4.0/source/doctools-1.3.2.tgz
http://kernel.org/pub/linux/daemons/autofs/v4/autofs-4.1.2.tar.bz2
http://kernel.org/pub/linux/docs/manpages/man-pages-1.65.tar.bz2
d1044 1
a1044 7
http://kernel.org/pub/linux/utils/boot/syslinux/
http://kernel.org/pub/linux/utils/man/man-1.5m2.tar.bz2
http://kernel.org/pub/software/utils/pciutils/pciutils-2.1.11.tar.bz2
http://mirrors.isc.org/pub/postfix/official/postfix-2.1.5.tar.gz
http://mtools.linux.lu/mtools-3.9.9.tar.bz2
http://openbsd.md5.com.ar/pub/OpenBSD/OpenSSH/portable/
http://prdownloads.sourceforge.net/docbook/docbook-xsl-1.65.1.tar.gz
d1046 7
a1052 19
http://prdownloads.sourceforge.net/lame/lame-3.96.tar.gz
http://prdownloads.sourceforge.net/lesstif/lesstif-0.93.94.tar.bz2
http://prdownloads.sourceforge.net/libpng/zlib-1.2.2.tar.gz
http://prdownloads.sourceforge.net/netpbm/netpbm-10.19.tgz
http://prdownloads.sourceforge.net/png-mng/libpng-1.2.5.tar.bz2
http://prdownloads.sourceforge.net/romfs/genromfs-0.5.1.tar.gz
http://prdownloads.sourceforge.net/strace/strace-4.5.8.tar.bz2
http://prdownloads.sourceforge.net/xine/xine-lib-1-rc8.tar.gz
http://prdownloads.sourceforge.net/xine/xine-ui-0.99.3.tar.gz
http://www.perl.com/CPAN/authors/id/M/MS/MSERGEANT/XML-Parser-2.34.tar.gz
http://www.perl.com/CPAN/authors/id/T/TS/TSCH/ExtUtils-Depends-0.204.tar.gz
http://www.perl.com/CPAN/authors/id/T/TS/TSCH/ExtUtils-PkgConfig-1.06.tar.gz
http://subversion.tigris.org/tarballs/subversion-1.0.1.tar.bz2
http://tug.ctan.org/tex-archive/systems/unix/teTeX/current/distrib/tetex-src-2.0.2.tar.gz
http://www.alsa-project.org/alsa/ftp/lib/alsa-lib-1.0.3a.tar.bz2
http://www.alsa-project.org/alsa/ftp/tools/alsa-tools-1.0.3.tar.bz2
http://www.alsa-project.org/alsa/ftp/utils/alsa-utils-1.0.3.tar.bz2
http://www.apache.org/dist/httpd/httpd-2.0.52.tar.gz
http://www.cs.purdue.edu/homes/trinkle/RCS/rcs-5.7.tar.Z
a1053 5
http://www.eecis.udel.edu/~ntp/ntp_spool/ntp4/ntp-4.2.0.tar.gz
http://www.greenwoodsoftware.com/less/less-381.tar.gz
http://www.hpl.hp.com/personal/Hans_Boehm/gc/gc_source/gc6.2.tar.gz
http://www.libsdl.org/release/SDL-1.2.8.tar.gz
http://www.mirrorservice.org/sites/ftp.gimp.org/pub/gimp/v2.2/
d1055 1
a1055 2
http://www.python.org/ftp/python/2.3.3/Python-2.3.3.tar.bz2
http://www.tug.org/ftp/dist/db-4.3.27.tar.gz
d1058 1
a1058 2
http://www.xiph.org/paranoia/download/cdparanoia-III-alpha9.8.src.tgz
http://www.xmms.org/files/1.2.x/xmms-1.2.10.tar.bz2
d1076 1
a1076 1
dir="mnt/toast/pkg/glibc/v2.3.3/archive"
d1080 3
a1082 3
http://ftp.gnu.org/gnu/glibc/glibc-2.3.3.tar.bz2
http://kernel.org/pub/linux/kernel/v2.6/linux-2.6.8.1.tar.bz2
http://toastball.net/toast-linux-tmp/glibc-2.3.3-gcc34-toast.patch
a1085 4

  # CVS has an https:// URL; don't try to download it until we've rebuilt
  # wget with openssl
  ln -sf "../../../name/wget.2/install/time" "$namedir/cvs/download/precondition"
d1549 1
a1549 1
my($rcsid) = q$Id: configure,v 1.146 2005/03/01 05:22:12 zaphod Exp zaphod $;
d1672 1
a1672 1
LINUX_VERSION = 2.6.10
d1674 2
a1675 1
BUSYBOX_VERSION = 1.00
d1677 5
a1681 4
NTFSPROGS_VERSION = 1.9.2
PARTED_VERSION = 1.6.12
DEVMAP_VERSION = stable
LVM2_VERSION = 0-stable
d1684 2
a1685 2
MTOOLS_VERSION = 3.9.9
SYSLINUX_VERSION = 3.07
d1694 1
a1694 1
DEVMAP_DIR = device-mapper-$(DEVMAP_VERSION)
d1716 1
a1716 1
BUILDROOT_URL = http://www.uclibc.org/downloads/$(BUILDROOT_ARCHIVE)
d1718 4
a1721 2
E2FSPROGS_URL = http://download.sourceforge.net/e2fsprogs/$(E2FSPROGS_ARCHIVE)
NTFSPROGS_URL = http://download.sourceforge.net/linux-ntfs/$(NTFSPROGS_ARCHIVE)
d1727 2
a1728 1
MTOOLS_URL = http://mtools.linux.lu/$(MTOOLS_ARCHIVE)
d1792 1
a1792 1
  rm -fr $(PKG_DIRS) symbols floppy* cd* root* toast-linux* $(FROMCONF) $(FROMCONF2) smallk largek sbin tmp mnt chroot *.log palette.ppm moreroot logo.lss
d1869 1
a1869 1
  cd $(PARTED_DIR) && CC=$(CROSS_BIN_DIR)/gcc CFLAGS="-static -Os" CPPFLAGS="-I$(CURDIR)/$(E2FSPROGS_DIR)/lib" LDFLAGS="-L$(CURDIR)/$(E2FSPROGS_DIR)/lib" ./configure --without-readline --disable-shared --disable-nls --disable-dynamic-loading --disable-Werror
d2657 2
a2658 2
# Linux kernel version: 2.6.10
# Sat Feb  5 00:43:40 2005
d2661 1
d2666 1
d2674 1
d2680 1
a2686 1
CONFIG_LOG_BUF_SHIFT=14
d2689 2
a2690 2
CONFIG_IKCONFIG=y
CONFIG_IKCONFIG_PROC=y
d2693 3
d2705 1
d2742 1
d2748 1
d2753 2
d2760 1
d2769 2
d2774 7
d2784 7
a2800 1
CONFIG_ACPI_BLACKLIST_YEAR=0
d2817 1
d2819 2
a2820 3
# CONFIG_PCI_NAMES is not set
CONFIG_ISA=y
# CONFIG_EISA is not set
a2829 5
# PC-card bridges
#
CONFIG_PCMCIA_PROBE=y

#
d2842 64
d2917 5
a2933 8
CONFIG_PNP=y
# CONFIG_PNP_DEBUG is not set

#
# Protocols
#
CONFIG_ISAPNP=y
# CONFIG_PNPBIOS is not set
a2938 1
# CONFIG_BLK_DEV_XD is not set
d2943 1
a2951 1
CONFIG_INITRAMFS_SOURCE=""
d2962 1
a2979 1
# CONFIG_BLK_DEV_IDESCSI is not set
a2986 1
# CONFIG_BLK_DEV_IDEPNP is not set
d3010 1
a3020 1
# CONFIG_IDE_CHIPSETS is not set
d3029 2
a3030 85
CONFIG_SCSI=y
# CONFIG_SCSI_PROC_FS is not set

#
# SCSI support type (disk, tape, CD-ROM)
#
CONFIG_BLK_DEV_SD=y
# CONFIG_CHR_DEV_ST is not set
# CONFIG_CHR_DEV_OSST is not set
# CONFIG_BLK_DEV_SR is not set
# CONFIG_CHR_DEV_SG is not set

#
# Some SCSI devices (e.g. CD jukebox) support multiple LUNs
#
# CONFIG_SCSI_MULTI_LUN is not set
# CONFIG_SCSI_CONSTANTS is not set
# CONFIG_SCSI_LOGGING is not set

#
# SCSI Transport Attributes
#
# CONFIG_SCSI_SPI_ATTRS is not set
# CONFIG_SCSI_FC_ATTRS is not set

#
# SCSI low-level drivers
#
# CONFIG_BLK_DEV_3W_XXXX_RAID is not set
# CONFIG_SCSI_3W_9XXX is not set
# CONFIG_SCSI_7000FASST is not set
# CONFIG_SCSI_ACARD is not set
# CONFIG_SCSI_AHA152X is not set
# CONFIG_SCSI_AHA1542 is not set
# CONFIG_SCSI_AACRAID is not set
# CONFIG_SCSI_AIC7XXX is not set
# CONFIG_SCSI_AIC7XXX_OLD is not set
# CONFIG_SCSI_AIC79XX is not set
# CONFIG_SCSI_DPT_I2O is not set
# CONFIG_SCSI_IN2000 is not set
# CONFIG_MEGARAID_NEWGEN is not set
# CONFIG_MEGARAID_LEGACY is not set
# CONFIG_SCSI_SATA is not set
CONFIG_SCSI_BUSLOGIC=y
CONFIG_SCSI_OMIT_FLASHPOINT=y
# CONFIG_SCSI_DMX3191D is not set
# CONFIG_SCSI_DTC3280 is not set
# CONFIG_SCSI_EATA is not set
# CONFIG_SCSI_EATA_PIO is not set
# CONFIG_SCSI_FUTURE_DOMAIN is not set
# CONFIG_SCSI_GDTH is not set
# CONFIG_SCSI_GENERIC_NCR5380 is not set
# CONFIG_SCSI_GENERIC_NCR5380_MMIO is not set
# CONFIG_SCSI_IPS is not set
# CONFIG_SCSI_INITIO is not set
# CONFIG_SCSI_INIA100 is not set
# CONFIG_SCSI_NCR53C406A is not set
# CONFIG_SCSI_SYM53C8XX_2 is not set
# CONFIG_SCSI_IPR is not set
# CONFIG_SCSI_PAS16 is not set
# CONFIG_SCSI_PSI240I is not set
# CONFIG_SCSI_QLOGIC_FAS is not set
# CONFIG_SCSI_QLOGIC_ISP is not set
# CONFIG_SCSI_QLOGIC_FC is not set
# CONFIG_SCSI_QLOGIC_1280 is not set
CONFIG_SCSI_QLA2XXX=y
# CONFIG_SCSI_QLA21XX is not set
# CONFIG_SCSI_QLA22XX is not set
# CONFIG_SCSI_QLA2300 is not set
# CONFIG_SCSI_QLA2322 is not set
# CONFIG_SCSI_QLA6312 is not set
# CONFIG_SCSI_QLA6322 is not set
# CONFIG_SCSI_SYM53C416 is not set
# CONFIG_SCSI_DC395x is not set
# CONFIG_SCSI_DC390T is not set
# CONFIG_SCSI_T128 is not set
# CONFIG_SCSI_U14_34F is not set
# CONFIG_SCSI_ULTRASTOR is not set
# CONFIG_SCSI_NSP32 is not set
# CONFIG_SCSI_DEBUG is not set

#
# Old CD-ROM drivers (not SCSI, not IDE)
#
# CONFIG_CD_NO_IDESCSI is not set
d3042 1
d3060 1
a3060 54
# Networking support
#
CONFIG_NET=y

#
# Networking options
#
CONFIG_PACKET=y
# CONFIG_PACKET_MMAP is not set
# CONFIG_NETLINK_DEV is not set
CONFIG_UNIX=y
# CONFIG_NET_KEY is not set
CONFIG_INET=y
# CONFIG_IP_MULTICAST is not set
# CONFIG_IP_ADVANCED_ROUTER is not set
# CONFIG_IP_PNP is not set
# CONFIG_NET_IPIP is not set
# CONFIG_NET_IPGRE is not set
# CONFIG_ARPD is not set
# CONFIG_SYN_COOKIES is not set
# CONFIG_INET_AH is not set
# CONFIG_INET_ESP is not set
# CONFIG_INET_IPCOMP is not set
# CONFIG_INET_TUNNEL is not set
CONFIG_IP_TCPDIAG=y
# CONFIG_IP_TCPDIAG_IPV6 is not set
# CONFIG_IPV6 is not set
# CONFIG_NETFILTER is not set

#
# SCTP Configuration (EXPERIMENTAL)
#
# CONFIG_IP_SCTP is not set
# CONFIG_ATM is not set
# CONFIG_BRIDGE is not set
# CONFIG_VLAN_8021Q is not set
# CONFIG_DECNET is not set
# CONFIG_LLC2 is not set
# CONFIG_IPX is not set
# CONFIG_ATALK is not set
# CONFIG_X25 is not set
# CONFIG_LAPB is not set
# CONFIG_NET_DIVERT is not set
# CONFIG_ECONET is not set
# CONFIG_WAN_ROUTER is not set

#
# QoS and/or fair queueing
#
# CONFIG_NET_SCHED is not set
# CONFIG_NET_CLS_ROUTE is not set

#
# Network testing
a3061 6
# CONFIG_NET_PKTGEN is not set
# CONFIG_NETPOLL is not set
# CONFIG_NET_POLL_CONTROLLER is not set
# CONFIG_HAMRADIO is not set
# CONFIG_IRDA is not set
# CONFIG_BT is not set
a3066 1
# CONFIG_NET_SB1000 is not set
d3074 5
d3085 1
a3086 6
# CONFIG_EL1 is not set
# CONFIG_EL2 is not set
# CONFIG_ELPLUS is not set
# CONFIG_EL16 is not set
CONFIG_EL3=y
# CONFIG_3C515 is not set
a3088 3
# CONFIG_LANCE is not set
# CONFIG_NET_VENDOR_SMC is not set
# CONFIG_NET_VENDOR_RACAL is not set
d3102 1
a3102 2
# CONFIG_AT1700 is not set
# CONFIG_DEPCA is not set
a3103 1
# CONFIG_NET_ISA is not set
a3109 2
# CONFIG_AC3200 is not set
# CONFIG_APRICOT is not set
a3111 1
# CONFIG_CS89x0 is not set
a3113 1
# CONFIG_EEPRO100_PIO is not set
a3130 1
# CONFIG_NET_POCKET is not set
d3142 2
d3147 1
d3152 1
a3173 1
# CONFIG_NET_FC is not set
d3176 2
a3203 12
# Input I/O drivers
#
# CONFIG_GAMEPORT is not set
CONFIG_SOUND_GAMEPORT=y
CONFIG_SERIO=y
CONFIG_SERIO_I8042=y
# CONFIG_SERIO_SERPORT is not set
# CONFIG_SERIO_CT82C710 is not set
# CONFIG_SERIO_PCIPS2 is not set
# CONFIG_SERIO_RAW is not set

#
d3218 12
d3245 1
d3278 5
d3293 6
d3304 4
a3326 1
# CONFIG_MDA_CONSOLE is not set
a3336 1
# CONFIG_USB is not set
d3339 1
a3339 4

#
# NOTE: USB_STORAGE enables SCSI, and 'SCSI disk support' may also be needed; see USB_STORAGE Help for more information
#
d3352 9
d3365 1
d3370 1
d3374 1
d3379 1
a3402 1
# CONFIG_DEVFS_FS is not set
a3403 1
# CONFIG_TMPFS_XATTR is not set
d3407 1
a3430 1
# CONFIG_EXPORTFS is not set
d3436 1
d3496 1
d3498 3
a3500 3
# CONFIG_FRAME_POINTER is not set
# CONFIG_EARLY_PRINTK is not set
# CONFIG_4KSTACKS is not set
d3514 4
d3521 1
d7083 2
a7084 1
# CONFIG_FEATURE_SUID is not set
d7093 1
a7093 1
CROSS_COMPILER_PREFIX="/home/zaphod/toast/linux/toolchain/gcc-3.3.x/toolchain_i386/i386-linux-uclibc/bin/"
d7302 1
@


1.146
log
@fixed bugs in kernel configuration and cd install progress meter
@
text
@d267 1
a267 1
        [ "$one $two $three" = "Disk label type:" ] && labeltype="$one"
d272 1
a272 1
            [ "$six" = "primary" ] && eval "primary${one}exists=yes"
d281 1
a281 1
      eval "[ -n \$primary{$slot}used ]" && freeslot="$slot"
d1651 1
a1651 1
my($rcsid) = q$Id: configure,v 1.145 2005/02/27 05:39:04 zaphod Exp zaphod $;
@


1.145
log
@commented out a few more broken packages; fixed installed kernel
@
text
@d973 1
a973 1
  case "$x" in "--- FILE linux-config-largek ---") on="true";; esac
d1277 1
a1277 1
    date +'%s' > "$topdir/$act-eta/tmp"
d1651 1
a1651 1
my($rcsid) = q$Id: configure,v 1.144 2005/02/22 00:15:08 zaphod Exp zaphod $;
@


1.144
log
@figure out where to put lilo's boot sector; comment out broken packages
@
text
@d489 1
a489 1
ltrace 140 298 
d635 3
a637 3
libcap 32
hal 1300
gnome-volume-manager 200
d640 1
a640 1
evolution 14672  
d968 1
a968 1
mkdir "mnt/tmp/$dir"
d972 1
a972 1
  $on && echo "$x" > "mnt/tmp/$dir/.config"
d974 7
a980 2
done < sbin/toast
chroot mnt tar czf "/root/$dir-config.tar.gz" -C /tmp "$dir"
d1651 1
a1651 1
my($rcsid) = q$Id: configure,v 1.143 2005/02/21 20:04:43 zaphod Exp zaphod $;
d1889 1
a1889 1
  rm -fr $(PKG_DIRS) symbols floppy* cd* root* toast-linux* $(FROMCONF) $(FROMCONF2) smallk largek sbin tmp mnt chroot *.log palette.ppm moreroot
d2050 2
a2051 2
  mkdir -p $@@/tmp
  cp !CONFIGURE! $@@/tmp/configure
d2576 1
a2576 1
  (cd /tmp; wget http://toastball.net/toast-linux-tmp/configure)
d2578 1
a2578 1
sh /tmp/configure !VERSION!
d5322 1662
@


1.143
log
@add wireless-utils and eject; try to reuse "large" kernel config on target
system; turn off fbcon for now
@
text
@d369 7
d398 1
a398 1
  cat > tmp/tasks << "EOF"
d508 1
a508 1
valgrind 964  
d524 1
a524 1
alsa-tools 740  
d527 1
a527 1
syslinux 432  
d549 2
a550 2
fam 336  
t1lib 1516  
d554 3
a556 3
xine-lib 7212  
xine-ui 2572  
cdparanoia 136  
d591 2
a592 2
vte 888  
gnome-terminal 2040  
d595 2
a596 2
libxklavier 312  
gnome-applets 6280  
d628 1
a628 1
epiphany 3324  
d635 3
a637 2
hal 1300  
gnome-volume-manager 200  
d642 2
a643 2
pwlib 1080  
gnomemeeting 2892  
d653 4
a656 4
libgtk-java 460  
libgconf-java 76  
libglade-java 92  
libgnome-java 176  
d680 1
a680 1
kdesdk 4288  
d686 3
a688 3
firefox 31976  
xmms 2384  
gimp 13520  
d1043 1
a1043 1
http://ftp.gnome.org/pub/GNOME/bindings/2.8/2.8.0/sources/java/
d1111 1
d1646 1
a1646 1
my($rcsid) = q$Id: configure,v 1.142 2005/02/18 05:28:48 zaphod Exp zaphod $;
@


1.142
log
@reinstate device-mapper patch for lilo
@
text
@d446 1
d519 1
d956 14
d974 1
a974 1
# URLs for glibc are in get-glibc script
d976 1
a976 1
[ http://kernel.org/pub/linux/kernel/v2.6/linux-2.6.5.tar.bz2 http://toastball.net/toast-linux-tmp/linux-2.6.5-config.tar.gz ]
d1637 1
a1637 1
my($rcsid) = q$Id: configure,v 1.141 2005/02/15 05:32:18 zaphod Exp zaphod $;
d3652 1
a3652 1
# Sun Feb  6 00:26:50 2005
d4789 1
a4789 4
CONFIG_FRAMEBUFFER_CONSOLE=y
# CONFIG_FONTS is not set
CONFIG_FONT_8x8=y
CONFIG_FONT_8x16=y
a4794 3
# CONFIG_LOGO_LINUX_MONO is not set
# CONFIG_LOGO_LINUX_VGA16 is not set
# CONFIG_LOGO_LINUX_CLUT224 is not set
@


1.141
log
@use buildroot to build uClibc cross-compiler
@
text
@d962 2
a963 2
#lilo/22.5.9-devmapper: [ http://lilo.go.dyndns.org/pub/linux/lilo/obsolete/lilo-22.5.9.tar.gz http://www.saout.de/misc/lilo-22.5.9-devmapper.patch ]
http://home.san.rr.com/johninsd/pub/linux/lilo/
d1621 1
a1621 1
my($rcsid) = q$Id: configure,v 1.140 2005/02/13 05:10:15 zaphod Exp zaphod $;
@


1.140
log
@updated clean targets
@
text
@d1621 1
a1621 1
my($rcsid) = q$Id: configure,v 1.139 2005/02/13 05:01:13 zaphod Exp zaphod $;
d1740 1
a1740 1
FROMCONF2 = smartcat linux-config-smallk linux-config-largek busybox-config sbin/setup
d1742 1
a1742 1
PKGS = TOOLCHAIN LINUX BUSYBOX E2FSPROGS NTFSPROGS PARTED DEVMAP LVM2 GENEXT2FS MTOOLS SYSLINUX CDRTOOLS
a1743 1
# TOOLCHAIN_VERSION = ??? [only available from cvsweb right now...]
d1745 1
a1757 1
TOOLCHAIN_DIR = toolchain
d1759 1
a1770 1
TOOLCHAIN_ARCHIVE = toolchain.tar.gz
d1772 1
a1784 1
TOOLCHAIN_URL = http://www.uclibc.org/cgi-bin/cvsweb/toolchain.tar.gz
d1786 1
d1801 3
a1803 4
TOOLCHAIN_MAKE_DIR = $(TOOLCHAIN_DIR)/gcc-3.3.x
TOOLCHAIN_ROOT_DIR = $(TOOLCHAIN_MAKE_DIR)/toolchain_i386/i386-linux-uclibc
TOOLCHAIN_LIB_DIR = $(TOOLCHAIN_ROOT_DIR)/lib
TOOLCHAIN_BIN_DIR = $(CURDIR)/$(TOOLCHAIN_ROOT_DIR)/bin
a1840 1
$(TOOLCHAIN_ARCHIVE): ; $(WGET) $(TOOLCHAIN_URL)
d1842 1
d1894 2
a1895 2
$(TOOLCHAIN_DIR)/ok: $(TOOLCHAIN_ARCHIVE) smartcat
  rm -fr $(TOOLCHAIN_DIR)
d1897 3
a1899 2
  ln -s $(CURDIR) $(TOOLCHAIN_MAKE_DIR)/sources/dl
  yes '' | $(MAKE) -C $(TOOLCHAIN_MAKE_DIR)
d1902 5
a1906 1
$(BUSYBOX_DIR)/.config: $(BUSYBOX_ARCHIVE) busybox-config $(TOOLCHAIN_DIR)/ok smartcat
d1909 1
a1909 1
  perl -pe 's!^(CROSS_COMPILER_PREFIX=").*(")!$$1$(TOOLCHAIN_BIN_DIR)/$$2!' busybox-config > $@@
d1916 1
a1916 1
$(TUNE2FS): $(E2FSPROGS_ARCHIVE) $(TOOLCHAIN_DIR)/ok smartcat
d1919 1
a1919 1
  (cd $(E2FSPROGS_DIR) && ./configure --with-cc=$(TOOLCHAIN_BIN_DIR)/gcc --with-linker=$(TOOLCHAIN_BIN_DIR)/ld --with-ccopts=-Os --disable-{nls,evms,swapfs})
d1926 1
a1926 1
$(NTFSRESIZE): $(NTFSPROGS_ARCHIVE) $(TOOLCHAIN_DIR)/ok smartcat
d1929 1
a1929 1
  (cd $(NTFSPROGS_DIR) && CC=$(TOOLCHAIN_BIN_DIR)/gcc CFLAGS="-static -Os" ./configure --disable-shared && $(MAKE))
d1932 1
a1932 1
$(PARTED): $(PARTED_ARCHIVE) $(TOOLCHAIN_DIR)/ok smartcat
d1936 1
a1936 1
  cd $(PARTED_DIR) && CC=$(TOOLCHAIN_BIN_DIR)/gcc CFLAGS="-static -Os" CPPFLAGS="-I$(CURDIR)/$(E2FSPROGS_DIR)/lib" LDFLAGS="-L$(CURDIR)/$(E2FSPROGS_DIR)/lib" ./configure --without-readline --disable-shared --disable-nls --disable-dynamic-loading --disable-Werror
d1940 1
a1940 1
$(DEVMAP): $(DEVMAP_ARCHIVE) $(TOOLCHAIN_DIR)/ok smartcat
d1945 1
a1945 1
  set -e; cd $(DEVMAP_DIR); ./configure --disable-shared CC="$(TOOLCHAIN_BIN_DIR)/gcc -static -Os"; $(MAKE) lib
d1947 1
a1947 1
$(LVM2): $(LVM2_ARCHIVE) $(DEVMAP) $(TOOLCHAIN_DIR)/ok smartcat
d1954 1
a1954 1
  set -e; cd $(LVM2_DIR); export CPATH="$(CURDIR)/$(DEVMAP_DIR)/include"; ./configure --host=i386-pc-linux-gnu CC="$(TOOLCHAIN_BIN_DIR)/gcc -Os -L$(CURDIR)/$(dir $(DEVMAP))"; $(MAKE) DESTDIR=dummy
d1958 1
a1958 1
  $(TOOLCHAIN_BIN_DIR)/nm -Dp $^ | perl -lne '/.{8} [BUV] (.+)/ && print "-u $$1"' | sort -u > $@@ 
d1972 4
a1975 3
  install -D $(TOOLCHAIN_LIB_DIR)/ld-uClibc.so.0 $@@/lib/ld-uClibc.so.0
  install -D $(TOOLCHAIN_LIB_DIR)/libdl.so.0 $@@/lib/libdl.so.0
  gcc -s -nostdlib -Wl,-warn-common -shared -o $@@/lib/libc.so.0 `cat symbols` $(TOOLCHAIN_LIB_DIR)/libc.a
d2090 4
d5298 215
@


1.139
log
@precompiled CD might actually have a change of working now
@
text
@d1621 1
a1621 1
my($rcsid) = q$Id: configure,v 1.138 2005/02/07 06:10:40 zaphod Exp zaphod $;
d1860 1
a1860 1
  rm -fr $(PKG_DIRS) symbols floppy* cd* root* toast-linux* $(FROMCONF) $(FROMCONF2) smallk largek sbin tmp mnt *.log
d1866 1
a1866 1
  rm -f *.tar.gz *.tar.bz2 *.tgz *.diff.gz
@


1.138
log
@first attempt at stuffing lots of precompiled stuff onto the CD
@
text
@d23 1
a23 1
# eb = estimated build time (where 10000 = median)
d682 1
d688 1
d706 9
d720 1
a720 1
    [ -n "$time" ] || time=10000 # defined to be the median time
a771 11
  cat > "$namedir/rootfs/download/command" << "EOF"
#!/bin/sh -ex
[ -r /media/cdrom/toast-linux/disk.tar.bz2 ] && exit 0
if [ "`cd mnt; echo *`" != "boot lost+found" ]; then
  echo "unexpected filesystem contents" >&2
  exit 1
fi
mkdir -p mnt/toast/pkg/rootfs/v0/archive
cd mnt/toast/pkg/rootfs/v0/archive
wget http://www.kernel.org/pub/linux/libs/uclibc/root_fs_i386.bz2
EOF
a772 1

a775 5
if [ "`cd mnt; echo *`" != "boot lost+found toast" ]; then
  echo "unexpected filesystem contents" >&2
  exit 1
fi

d866 1
d868 32
a899 11
file="/media/cdrom/toast-linux/disk.tar.bz2"
if [ -r "$file" ]; then
  cd mnt
  tar xjf "$file"
else
  bunzip2 mnt/toast/pkg/rootfs/v0/archive/*
  mount -t ext2 -o loop mnt/toast/pkg/rootfs/v0/archive/* mnt/mnt
  mkdir -p mnt/toast/pkg/rootfs/v0/1/root
  tar -c -C mnt/mnt . | tar -x -C mnt/toast/pkg/rootfs/v0/1/root
  umount mnt/mnt
  rm -fr mnt/toast/pkg/rootfs/v0/archive
d901 3
d1247 2
d1551 1
a1551 1
    [ -z "$TOAST_POSTARMPROG" ] && export TOAST_POSTARMPROG="postarm || ldconfig"
d1557 1
a1557 1
  exec chroot mnt /bin/toast "$@@"
d1621 1
a1621 1
my($rcsid) = q$Id: configure,v 1.137 2005/02/06 21:11:34 zaphod Exp zaphod $;
d1739 2
a1740 2
FROMCONF = dev toast-linux.stub mkhd floppy.vmx cd.vmx sbin/setup logotoppm
FROMCONF2 = smartcat linux-config-smallk linux-config-largek busybox-config
d1863 1
a1863 1
  rm -f toast*.vm* toast*.sav nvram* vmware.log
d2018 6
a2023 1
cd: $(LARGEK) $(ISOLINUX) rootfs.gz logo.lss moreroot chroot
d2032 1
a2032 1
  tar cjf $@@/toast-linux/disk.tar.bz2 --owner=0 --group=0 -C mnt toast
d2428 1
a2428 1
append initrd=initrd root=/dev/ram0 vga=ext rw
d2435 1
a2435 1
append initrd=initrd root=/dev/ram0 rw
d4772 4
a4775 4
CONFIG_LOGO=y
CONFIG_LOGO_LINUX_MONO=y
CONFIG_LOGO_LINUX_VGA16=y
CONFIG_LOGO_LINUX_CLUT224=y
@


1.137
log
@installer now detects and mounts cdrom
@
text
@d12 1
a12 1
for i in toast help; do ln -s setup "sbin/$i"; done
a375 1
    return 0
d763 1
d873 12
a884 6
bunzip2 mnt/toast/pkg/rootfs/v0/archive/*
mount -t ext2 -o loop mnt/toast/pkg/rootfs/v0/archive/* mnt/mnt
mkdir -p mnt/toast/pkg/rootfs/v0/1/root
tar -c -C mnt/mnt . | tar -x -C mnt/toast/pkg/rootfs/v0/1/root
umount mnt/mnt
rm -fr mnt/toast/pkg/rootfs/v0/archive
d1452 6
a1457 3
      while [ "$building_name/$getting_name/$pending/$stored" = "//0/0" ]; do
        sleep 9999999 # done!
      done
d1471 1
d1600 1
a1600 1
my($rcsid) = q$Id: configure,v 1.136 2005/02/06 08:41:53 zaphod Exp zaphod $;
d1997 1
a1997 1
cd: $(LARGEK) $(ISOLINUX) rootfs.gz logo.lss moreroot
d2004 3
a2006 1
  tar cjf $@@/toast-linux-ram.tar.bz2 --owner=0 --group=0 -C moreroot .
d2036 6
d2043 1
d2507 1
a2594 1
file=/media/cdrom/toast-linux-ram.tar.bz2
d2601 1
a2601 1
      if [ -r "$file" ]; then
d2604 1
a2604 2
        cd /
        exec tar xjf "$file"
@


1.136
log
@get rid of old bochs stuff; add vmware-cd target; enable fbcon
@
text
@d1590 1
a1590 1
my($rcsid) = q$Id: configure,v 1.135 2005/02/06 08:09:19 zaphod Exp zaphod $;
d1935 1
a1935 1
  mkdir -p $@@/{root,proc,sys,tmp,media/floppy,mnt,var/run}
d1982 6
a1987 1
cd: $(LARGEK) $(ISOLINUX) rootfs.gz logo.lss
d1994 1
d2007 1
a2007 1
  $(MKISOFS) -o $@@ -b isolinux/isolinux.bin -c isolinux/boot.cat -no-emul-boot -boot-load-size 4 -boot-info-table $<
d2371 3
d2487 6
a2492 2
network
wget -O /tmp/configure http://toastball.net/toast-linux-tmp/configure
d2572 23
@


1.135
log
@fancy graphical logo for CD version
@
text
@d1590 1
a1590 1
my($rcsid) = q$Id: configure,v 1.134 2005/02/06 04:14:39 zaphod Exp zaphod $;
d1708 1
a1708 1
FROMCONF = dev toast-linux.stub mkhd bochs-config toast.vmx sbin/setup logotoppm
d2020 3
a2022 1
vmware: floppy.img floppy.iso vmclean toast.vmx
d2024 1
a2024 1
  vmware -x toast.vmx
d2026 3
a2028 10
bochs: floppy.img bochs-config mkhd
  ./mkhd hda.img $(HDA_CYLINDERS)
  HDA_CYLINDERS=$(HDA_CYLINDERS) bochs -qf bochs-config

bochs-cd: floppy.iso bochs-config-cd mkhd
  ./mkhd hda.img $(HDA_CYLINDERS)
  HDA_CYLINDERS=$(HDA_CYLINDERS) bochs -qf bochs-config-cd

bochs-config-cd: bochs-config
  perl -pe 's/(^boot:) floppy/$$1 cdrom/; s/inserted/ejected/ if /floppy/; s/ejected/inserted/ if /cdrom/' $< > $@@
d2328 1
a2328 48
--- FILE bochs-config ---
# configuration file generated by Bochs
config_interface: textconfig
display_library: x
megs: 64
romimage: file=$BXSHARE/BIOS-bochs-latest, address=0xf0000
vgaromimage: $BXSHARE/VGABIOS-elpin-2.40
boot: floppy
floppya: 1_44="floppy.img", status=inserted
# no floppyb
ata0: enabled=1, ioaddr1=0x1f0, ioaddr2=0x3f0, irq=14
ata1: enabled=1, ioaddr1=0x170, ioaddr2=0x370, irq=15
ata2: enabled=0
ata3: enabled=0
ata0-master: type=disk, path="hda.img", mode=flat, cylinders=$HDA_CYLINDERS, heads=16, spt=63
ata1-master: type=cdrom, path="floppy.iso", status=ejected
parport1: enabled=1, file=""
com1: enabled=1, dev=""
usb1: enabled=1, ioaddr=0xff80, irq=10
# no sb16
floppy_bootsig_check: disabled=0
vga_update_interval: 30000
keyboard_serial_delay: 2000
keyboard_paste_delay: 10000
floppy_command_delay: 50000
ips: 8000000
text_snapshot_check: 0
mouse: enabled=0
private_colormap: enabled=0
i440fxsupport: enabled=0
clock: sync=none, time0=local
# no ne2k
newharddrivesupport: enabled=1
# no loader
log: -
logprefix: %t%e%d
debugger_log: -
panic: action=fatal
error: action=report
info: action=report
debug: action=ignore
pass: action=fatal
keyboard_mapping: enabled=0, map=
keyboard_type: mf
user_shortcut: keys=ctrlaltdel
# no cmosimage

--- FILE toast.vmx ---
d2350 19
d3547 1
a3547 1
# Sat Feb  5 15:15:51 2005
d4657 1
a4657 1
# CONFIG_FB_VGA16 is not set
d4684 4
a4687 1
# CONFIG_FRAMEBUFFER_CONSOLE is not set
@


1.134
log
@adding support for a CD version with a larger kernel
@
text
@d1590 1
a1590 1
my($rcsid) = q$Id: configure,v 1.133 2005/02/05 23:59:08 zaphod Exp zaphod $;
d1639 8
a1646 6
# looks like SYSLINUX doesn't support tabs....
# TODO: banish non-printing characters from configure script
#for($text{"floppy/logo"})
#{
#  s!^(( {8})+)!"\t" x (length($1)/8)!mge;
#}
d1708 1
a1708 1
FROMCONF = dev toast-linux.stub mkhd bochs-config toast.vmx sbin/setup
d1793 1
d1961 1
a1961 1
$(SYSLINUX): $(SYSLINUX_ARCHIVE) smartcat
d1964 1
a1964 1
  touch $@@
d1982 1
a1982 1
cd: $(LARGEK) $(ISOLINUX) rootfs.gz
d1985 1
d2003 6
d2210 105
d2417 18
a2434 1

a2435 16
                          6e        07            6e        07
                        6e                07
                      6e    07
                      6e    07
                      6e    07
                        6e    07
                        6e    07
                        6e    07
                        6e    07
                        6e    07
                        6e    07
                        6e    07
                        6e    07
                        6e    07
                        6e    07
                          6e                            07
d2440 1
a2440 1
Press 0fF107 within 20 seconds, or risk losing the contents of all hard disks!
d2443 2
a2444 1
Fancy toast linux logo will go here.
d2447 1
a2447 1
By default, the network will be configured automatically using DHCP.
@


1.133
log
@merge setup back into toast linux (was split out for a while)
@
text
@d126 6
d192 1
a192 1
      valid_disk_name "$name" && DISKS="$DISKS $name"
d1590 1
a1590 1
my($rcsid) = q$Id: configure,v 1.132 2005/02/05 23:19:38 zaphod Exp zaphod $;
d1979 7
d1993 1
a1993 1
cd.iso: floppy.img $(MKISOFS)
d1996 4
a1999 1
toast-linux: toast-linux.stub cd.iso.gz
d2010 1
a2010 1
vmware: floppy.img cd.iso vmclean toast.vmx
d2018 1
a2018 1
bochs-cd: cd.iso bochs-config-cd mkhd
d2233 1
a2233 1
ata1-master: type=cdrom, path="cd.iso", status=ejected
d2277 1
a2277 1
ide1:0.fileName = "cd.iso"
d2294 7
d2326 3
d2354 3
@


1.132
log
@update smallk and add largek kernel configuration
@
text
@d1 1576
a1577 2
exec $0 "$@@"  # rerun under perl if running under sh (e.g. "sh configure")
    if 0;     # ignore the above line if already running under perl
d1584 1
a1584 1
my($rcsid) = q$Id: configure,v 1.131 2005/02/05 08:21:03 zaphod Exp zaphod $;
d1700 1
a1700 1
FROMCONF = dev toast-linux.stub mkhd bochs-config toast.vmx
d1817 4
a1820 1
  rm -fr $(PKG_DIRS) symbols floppy* cd* root* toast-linux* $(FROMCONF) $(FROMCONF2) smallk largek
d1991 3
@


1.131
log
@add support for multiple kernel configurations; misc. upgrades and fixes
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.130 2005/01/13 05:33:00 zaphod Exp zaphod $;
d942 2
d949 1
d961 1
d970 1
a976 4
# CONFIG_IOSCHED_NOOP is not set
# CONFIG_IOSCHED_AS is not set
CONFIG_IOSCHED_DEADLINE=y
# CONFIG_IOSCHED_CFQ is not set
d978 6
d1016 1
d1058 1
a1058 1
CONFIG_ACPI_BOOT=y
a1074 1
CONFIG_PCI_MMCONFIG=y
d1083 6
a1088 1
# PCMCIA/CardBus support
a1089 1
# CONFIG_PCMCIA is not set
d1151 1
d1154 1
d1156 9
a1183 1
# CONFIG_IDE_TASKFILE_IO is not set
a1200 1
CONFIG_BLK_DEV_ADMA=y
d1273 2
a1274 1
# CONFIG_SCSI_MEGARAID is not set
d1287 1
d1369 3
a1390 1
# CONFIG_NET_HW_FLOWCONTROL is not set
a1485 1
# CONFIG_VIA_VELOCITY is not set
d1499 1
d1564 1
a1597 1
# CONFIG_QIC02_TAPE is not set
d1674 6
d1687 5
d1704 1
d1732 1
d1825 1
a1826 2
# CONFIG_DEBUG_SPINLOCK_SLEEP is not set
# CONFIG_FRAME_POINTER is not set
d1832 1
d1846 1663
d3510 2
@


1.130
log
@just grab latest stable LVM2; double vmware disk size
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.129 2004/11/24 07:46:54 zaphod Exp zaphod $;
d127 1
a127 1
FROMCONF2 = smartcat linux-config busybox-config
d132 1
a132 1
LINUX_VERSION = 2.6.9
d137 1
a137 1
DEVMAP_VERSION = 1.00.19
d142 2
a143 2
SYSLINUX_VERSION = 2.10
CDRTOOLS_VERSION = 2.00.3
d151 1
a151 1
DEVMAP_DIR = device-mapper.$(DEVMAP_VERSION)
d184 3
a186 3
CDRTOOLS_URL = http://distro.ibiblio.org/pub/linux/distributions/sorcerer/sources/cdrtools/$(CDRTOOLS_VERSION)/$(CDRTOOLS_ARCHIVE)
# ftp://ftp.berlios.de/pub/cdrecord/cdrtools-2.00.3.tar.gz
# http://gd.tuwien.ac.at/utils/schilling/cdrtools/cdrtools-2.00.3.tar.gz
a193 1
LINUX_PATCH_FILES = $(foreach PATCH, $(LINUX_PATCHES), $($(PATCH)_ARCHIVE))
d195 3
a197 1
LINUX = $(LINUX_DIR)/arch/i386/boot/bzImage
d210 1
a210 1
SYSLINUX = $(SYSLINUX_DIR)/syslinux
d243 1
a243 1
  rm -fr $(PKG_DIRS) symbols floppy* cd* root* toast-linux* $(FROMCONF) $(FROMCONF2)
d256 1
a256 1
$(LINUX_DIR)/.config: $(LINUX_ARCHIVE) linux-config smartcat
a258 2
  cat linux-config > $@@
  yes '' | $(MAKE) -C $(LINUX_DIR) oldconfig dep
d261 9
a269 2
$(LINUX): $(LINUX_DIR)/.config
  $(MAKE) -C $(LINUX_DIR) bzImage
d271 1
a271 1
modules: $(LINUX)
d273 1
a273 1
  $(MAKE) -C $(LINUX_DIR) modules modules_install INSTALL_MOD_PATH=$(CURDIR)/$@@
d275 2
a276 2
modsize: modules
  cd modules/lib/modules/*/kernel/drivers; ls -lS `find -name '*.ko'`
d321 3
a323 1
  ./smartcat $< | tar x
d346 1
a346 1
root: $(LINUX) symbols !CONFIGURE!
d390 1
a390 1
floppy: $(LINUX) rootfs.gz !CONFIGURE!
d393 1
a393 1
  cp $(LINUX) $@@/linux
d429 3
a431 3
config-linux: $(LINUX_DIR)/.config
  $(MAKE) -C $(LINUX_DIR) menuconfig
  cp $< linux-config
a482 5
Packages that need upgrading:
  latest Linux kernel
  GNOME 2.6.1 is out
  binutils 2.15 is out

d939 1
a939 1
--- FILE linux-config ---
@


1.129
log
@mount tmpfs on /tmp
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.128 2004/11/21 02:44:52 zaphod Exp zaphod $;
d138 1
a138 1
LVM2_VERSION = 2.00.25
d320 3
a322 1
  ./smartcat $< | tar x
d407 1
a407 1
  vmware-vdiskmanager -c -a buslogic -s 8gb -t 1 toast.vmdk
@


1.128
log
@don't bother trying to mount /dev/pts
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.127 2004/11/14 05:27:17 zaphod Exp zaphod $;
d759 1
@


1.127
log
@tweak busybox configuration
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.126 2004/11/14 00:31:36 zaphod Exp zaphod $;
a923 5
if [ ! -d /dev/pts ]; then
  mkdir -p /dev/pts
  mount -t devpts devpts /dev/pts
fi

@


1.126
log
@upgrades and tweaks
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.125 2004/10/13 05:15:46 zaphod Exp zaphod $;
d1853 1
a1853 2
CONFIG_DPKG_DEB=y
CONFIG_FEATURE_DPKG_DEB_EXTRACT_ONLY=y
a1876 6
# Common options for dpkg and dpkg_deb
#
CONFIG_FEATURE_DEB_TAR_GZ=y
# CONFIG_FEATURE_DEB_TAR_BZ2 is not set

#
d1886 1
a1886 1
CONFIG_CMP=y
d1946 1
a1946 1
# CONFIG_FEATURE_TEST_64 is not set
d1989 1
a1989 1
# CONFIG_LOADFONT is not set
d1991 1
a1991 1
# CONFIG_OPENVT is not set
d2008 2
a2009 3
CONFIG_AWK=y
# CONFIG_FEATURE_AWK_MATH is not set
CONFIG_PATCH=y
d2012 8
a2019 8
# CONFIG_FEATURE_VI_COLON is not set
# CONFIG_FEATURE_VI_YANKMARK is not set
# CONFIG_FEATURE_VI_SEARCH is not set
# CONFIG_FEATURE_VI_USE_SIGNALS is not set
# CONFIG_FEATURE_VI_DOT_CMD is not set
# CONFIG_FEATURE_VI_READONLY is not set
# CONFIG_FEATURE_VI_SETOPTS is not set
# CONFIG_FEATURE_VI_SET is not set
d2021 1
a2021 1
# CONFIG_FEATURE_VI_OPTIMIZE_CURSOR is not set
d2027 2
a2028 2
# CONFIG_FEATURE_FIND_MTIME is not set
# CONFIG_FEATURE_FIND_PERM is not set
d2080 1
a2080 1
# CONFIG_STRINGS is not set
d2171 1
a2171 1
# CONFIG_ASH_MATH_SUPPORT_64 is not set
@


1.125
log
@simplify; add mount loop support
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.124 2004/10/10 00:10:38 zaphod Exp zaphod $;
d132 2
a133 2
LINUX_VERSION = 2.6.8.1
BUSYBOX_VERSION = 1.00-rc3
d245 1
a245 1
  rm -f toast*.vmdk* nvram vmware.log
d404 1
a404 1
vmware: floppy.img cd.iso toast.vmx vmclean
d670 1
a670 1
memsize = "640"
d780 2
a781 2
wget http://toastball.net/toast-linux-tmp/configure
sh configure !VERSION!
d790 1
a790 1
[ -x /sbin/run ] && run
@


1.124
log
@increase vmware memory size
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.123 2004/10/02 22:27:49 zaphod Exp zaphod $;
d339 1
a339 1
  mkdir -p $@@/{root,proc,sys,tmp,mnt/{floppy,root},var/run}
a742 46
--- FILE root/etc/passwd ---
root:x:0:0:root:/root:/bin/zsh
bin:x:1:1:bin:/bin:/bin/false
daemon:x:2:2:daemon:/sbin:/bin/false
adm:x:3:4:adm:/var/adm:/bin/false
lp:x:4:7:lp:/var/spool/lpd:/bin/false
sync:x:5:0:sync:/sbin:/bin/sync
shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
halt:x:7:0:halt:/sbin:/sbin/halt
mail:x:8:12:mail:/var/spool/mail:/bin/false
news:x:9:13:news:/var/spool/news:/bin/false
uucp:x:10:14:uucp:/var/spool/uucp:/bin/false
operator:x:11:0:operator:/root:/bin/false
games:x:12:100:games:/usr/games:/bin/false
ftp:x:14:50:FTP User:/home/ftp:/bin/false
toast:x:42:42:toast:/toast:/bin/zsh
nobody:x:99:99:nobody:/:/bin/false

--- FILE root/etc/group ---
root:x:0:root
bin:x:1:bin
daemon:x:2:daemon
sys:x:3:sys
adm:x:4:adm
tty:x:5:
disk:x:6:
lp:x:7:lp
mem:x:8:
kmem:x:9:
wheel:x:10:
mail:x:12:mail
news:x:13:news
uucp:x:14:uucp
man:x:15:
floppy:x:19:
games:x:20:games
slocate:x:21:
utmp:x:22:
squid:x:23:
gopher:x:30:
toast:x:42:toast
ftp:x:50:
nobody:x:99:
users:x:100:
nofiles:x:65533:

a745 7
--- FILE root/etc/host.conf ---
order hosts,bind
multi on

--- FILE root/etc/nsswitch.conf ---
hosts: files dns

a751 2
--- FILE root/etc/ld.so.conf ---

a754 3
--- FILE root/etc/syslog.conf ---
*.* /var/log/syslog

d756 4
a759 17
/dev/ram0       /               ext2    rw                              0 0
proc            /proc           proc    rw                              0 0
sys             /sys            sysfs   rw                              0 0
/dev/fd0        /mnt/floppy     vfat    rw,noauto,sync                  0 0
/dev/toast/root /mnt/root       ext2    rw,noauto                       0 0
/dev/toast/boot /mnt/root/boot  ext2    rw,noauto                       0 0
proc            /mnt/root/proc  proc    rw,noauto                       0 0
sys             /mnt/root/sys   sysfs   rw,noauto                       0 0

--- FILE root/etc/fstab.hd ---
/dev/toast/root /               ext3    rw                              0 0
/dev/toast/boot /boot           ext3    rw                              0 0
proc_           /proc           proc    rw                              0 0
sys_            /sys            sysfs   rw                              0 0
dev_            /dev            devfs   rw                              0 0
dev_pts_        /dev/pts        devpts  rw                              0 0
/dev/fd0        /mnt/floppy     auto    rw,noauto,sync                  0 0
a763 41
--- FILE root/etc/mtab.hd ---
/dev/ram0 / ext2 rw 0 0

--- FILE root/etc/filesystems ---
vfat
*

--- FILE root/etc/lilo.conf ---
boot = /dev/hda
root = /dev/ram0
initrd = /boot/initrd.gz
delay = 40
lba32
read-write

image = /boot/vmlinuz
label = toast

image = /boot/vmlinuz.off
label = oldkernel
optional

image = /boot/vmlinuz.off.off
label = olderkernel
optional

image = /boot/vmlinuz
initrd = /boot/initrd.gz.off
label = oldinitrd
optional

image = /boot/vmlinuz
initrd = /boot/initrd.gz.off.off
label = olderinitrd
optional

image = /boot/vmlinuz.off
initrd = /boot/initrd.gz.off
label = oldkoldi
optional

d765 1
a765 1
PS1='\u@@\h:\w\$ '
a785 2
[ -d /mnt/root/proc/1 ] && umount /mnt/root/proc
[ -d /mnt/root/sys/class ] && umount /mnt/root/sys
d1134 2
a1135 1
# CONFIG_BLK_DEV_LOOP is not set
d1953 1
d2179 1
d2215 1
d2222 1
a2222 1
# CONFIG_LOSETUP is not set
d2236 1
a2236 1
# CONFIG_FEATURE_MOUNT_LOOP is not set
@


1.123
log
@upgrade LVM2
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.122 2004/10/02 21:08:32 zaphod Exp zaphod $;
d670 1
a670 1
memsize = "384"
@


1.122
log
@tweak clean and vmware targets
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.121 2004/09/20 07:15:14 zaphod Exp zaphod $;
d138 1
a138 1
LVM2_VERSION = 2.00.22
@


1.121
log
@remind me why we need /dev/pts again?
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.120 2004/09/20 06:31:34 zaphod Exp zaphod $;
d244 5
a248 2
cleaner: clean
  rm -f *.tar.gz *.tar.bz2 *.diff.gz
d404 1
a404 2
vmware: floppy.img cd.iso toast.vmx
  rm -f toast*.vmdk
d670 1
a670 1
memsize = "256"
@


1.120
log
@split off nonessential files to a separate stage 2 installer
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.119 2004/09/20 03:41:33 zaphod Exp zaphod $;
a814 1
devpts          /dev/pts        devpts  rw                              0 0
@


1.119
log
@upgrade toast, toastinit, toastlogin
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.118 2004/09/05 22:16:17 zaphod Exp zaphod $;
d48 1
a54 1
  s/!VERSION!/$version/g;
d890 3
d903 1
a903 1
run
a1015 189
--- FILE root/sbin/timeout ---
#!/bin/sh

seconds="$1"
if [ -z "$seconds" -o "$seconds" -le 0 ]; then
  echo "usage: $0 <seconds>" >&2
  exit 1
fi

save="`stty -g`"
key=""
while [ "$seconds" -gt 0 -a -z "$key" ]; do
  echo -ne '\r'"$seconds "
  stty raw -echo time 10 min 0 || exit $?
  key="`dd bs=1 count=1 2>/dev/null`"
  stty "$save"
  let seconds="$seconds - 1"
done
echo -ne '\r          \r'
[ -z "$key" ]

--- FILE root/sbin/task ---
#!/bin/sh

start="`date +'%s'`"

[ -z "$LINES" ] && LINES=50
[ -z "$COLUMNS" ] && COLUMNS=80

if [ "$1" = "init" ]; then
  [ -n "$TASK_INIT" ] && exit 0
  shift
  echo -ne '\33[9;0]'
  for i in `seq 1 $LINES`; do echo; done
  TASK_INIT=1 exec "$@@"
fi

estimate="$1"
name="$2"
shift 2

dir="/var/run/task"
list="$dir/LIST"
file="$dir/$name"

if [ -n "$TASK_INIT" ]; then
  [ -r "$file" ] && exit 0
  mkdir -p "$dir"
  echo "$name $estimate" >> $list
  : > "$file"
  exit 0
fi

[ -s "$file" ] && exit 0

hms()
{
  local h m s
  case "$1" in
    [0-9]*)
      let h="$1/3600"
      let m="($1/60)%60"
      let s="$1%60"
      printf "%d:%02d:%02d\n" "$h" "$m" "$s"
      ;;
    *)
      echo "?:??:??"
      ;;
  esac
}
out=""
p() { out="$out$*"; }
firstline=4
line=""
etotal=0
atotal=0
esofar=0
asofar=0
let margin="$COLUMNS-1"
while read n e; do
  line="$line $n"
  if echo "$line" | egrep -q ".{$margin}"; then
    let firstline="1+$firstline"
    p '\33[K\12'
    line=" $n"
  fi
  p '\33[0;44m '
  if [ "$name" = "$n" ]; then
    p '\33[0;1m'
    esofar="$etotal"
    asofar="$atotal"
  fi
  let etotal="$etotal+$e"
  [ -s "$dir/$n" ] && read a < "$dir/$n" && let atotal="$atotal+$a"
  p "$n"
  p '\33[0;44m'
done < "$list"
remain=""
this=""
let percent="$esofar*100/$etotal"
if [ "$percent" -gt 0 -a "$esofar" -gt 0 -a "$asofar" -gt 0 ]; then
  let remain="($etotal-$esofar)*$asofar/$esofar"
  let this="$estimate*$asofar/$esofar"
fi
out='\33[s\33[H\33[0;1;42m'"`hms $asofar` elapsed / $percent% complete = `hms $remain` left ($name: `hms $this`)"'\33[K\12'"$out"
p '\33[K\12\16\33[1;33;43m'
let bar="$esofar*$COLUMNS/$etotal"
while [ "$bar" -gt 0 ]; do
  p '0'
  let bar="$bar-1"
done
p '\17\33[K\33[m\33['"$firstline"'r\33[u'
echo -ne "$out"

if ! "$@@"; then
  echo -ne '\33[s\33[r\33[u'
  exit 1
fi
let elapsed="`date +'%s'`-$start"
echo "$elapsed" > $file

--- FILE root/sbin/setup ---
#!/bin/sh -e

target="/mnt/root"

mount "$target"

if [ "`cd /$target; echo *`" != "lost+found" ]; then
  echo "unexpected filesystem contents: $target" >&2
  exit 1
fi

copy="dev etc lib"
for i in /bin/* /sbin/*; do
  ls -l "$i" | grep -q 'busybox$' && copy="$copy $i"
done
(cd / && tar c $copy) | (cd "$target" && tar x)

relrootdir="/toast/pkg/busybox/vunknown/1/root"
rootdir="$target/$relrootdir"
mkdir -p "$rootdir"
for i in bin sbin lib; do
  mv "$target/$i" "$rootdir/$i"
  mkdir -p "$target/usr/$i"
  ln -s "usr/$i" "$target/$i"
done
touch "$rootdir/../build.log"
for i in `cd "$rootdir" && find *`; do
  ln -s "$relrootdir/$i" "$target/$i"
done

for i in boot etc/dhcpc mnt/boot mnt/floppy mnt/cdrom proc root sys tmp usr/man var/empty var/lock var/run var/log var/spool/mail; do
  mkdir -p "$target/$i"
done
chmod 1777 "$target/tmp"

for i in boot proc sys; do mount "$target/$i"; done

ln -s "../usr/share/zoneinfo/`cat /etc/TZ`" "$target/etc/localtime"
for i in inittab rc devfsd.conf protocols services rpc fdprm sgml xml; do
  ln -sf "../usr/etc/$i" "$target/etc/$i"
done
rm -fr "$target/etc/init.d"
ln -s . "$target/usr/usr"
ln -s gcc "$target/bin/cc"
ln -s vim "$target/bin/vi.off"
ln -s bash "$target/bin/sh.off"
rm "$target/bin/sh"

for i in `cd "$target/etc" && echo *.hd`; do
  mv "$target/etc/$i" "$target/etc/`basename $i .hd`"
done

chmod go-w "$target/dev"
chmod -R go-w "$target/etc" 2>/dev/null || true # ignore broken symlinks

[ -z "$USERS" ] && USERS=user
USERS="`echo \"$USERS\" | sed -e 's/[^a-z0-9]/ /g; s/^  *//; s/  *$//'`"
uid=500
for i in $USERS; do
  echo "$i:x:$uid:$uid:$i:/home/$i:/bin/zsh" >> "$target/etc/passwd"
  echo "$i:x:$uid:" >> "$target/etc/group"
  [ -r "$target/etc/user" ] || echo $i > "$target/etc/user"
  mkdir -p "$target/home/$i"
  chown $uid.$uid "$target/home/$i"
  let uid="1+$uid"
done

a1050 794
--- FILE root/sbin/swap ---
#!/bin/sh

# If available memory is less than "goalmegs" megabytes, create and activate
# a swap volume to bring it up to that amount.
# TODO: combine this with the /sbin/partition script.
# BUG: the permanent fstab isn't getting updated

goalmegs=512
vgname=toast
lvname=swap
lvpath="/dev/$vgname/$lvname"

read caption number units < /proc/meminfo
if [ "$caption $units" != "MemTotal: kB" ]; then
  echo "Error parsing /proc/meminfo: $caption $number $units" >2
  exit 1
fi
let goalk="1024*$goalmegs"
[ "$number" -ge "$goalk" ] && exit 0
let lvk="$goalk-$number"

set -e

lvcreate -L "$lvk"k -n "$lvname" "$vgname"
mkswap "$lvpath"
echo "$lvpath swap swap defaults 0 0" >> /etc/fstab
swapon -a

--- FILE root/sbin/partition ---
#!/bin/sh

if [ "$*" != "foo" ]; then
  set -e
  echo ""
  echo "Examining disks:"
  $0 foo > /tmp/partition.tmp
  grep '^# ' /tmp/partition.tmp
  echo "Preparing to write new disk partitions as described above."
  echo "Press any key to abort."
  timeout 20
  sh -ex /tmp/partition.tmp
  rm /tmp/partition.tmp
  exit 0
fi

# Environment variables:
# DISKS
# DESTROY

# Number of partitions to create on each disk.
# Each partition will be an LVM2 physical volume (PE).
# We split each disk into multiple partitions/PEs because there is no way
# to resize a PE once it has been created.  It would be very difficult
# to make room for another OS later on if we used only one PV per disk.
# Linux only allocates 15 minor numbers for SCSI disk partitions;
# if 1 is primary, 2 is extended, and 5-15 are logical, then there is a
# maximum of 12 usable partitions per disk.
slices=8

# LVM2 physical extent (PE) size, in megabytes.  This must be a power of two!
# Once the volume group (VG) has been created, its PE size can't be changed.
# The maximum logical volume (LV) size for the VG is about 64k times PE size.
# A PE size of 32 MB gets you a maximum LV size of 2 terabytes, which is
# the maximum allowed, so there is no point in using a value larger than 32.
# Each partition must be large enough to fit at least one PE (plus overhead),
# or it won't be very useful.
# Since each PV stores data in multiples of the PE size, smaller values might
# waste a bit less space, especially on smaller drives.
pemegs=16

# Number of megabytes to allocate to the /boot logical volume.
# /boot needs to be on a separate LV because current versions of lilo
# seem to panic if the LV spans multiple PVs (even if they're on the
# same disk!), so we need a special LV that is explicitly restricted to
# one PV.
bootmegs=128

# Percentage of the total space in the volume group to allocate to the
# root logical volume we'll be creating.
# Remaining space in the VG will be used for /boot, swap (if any),
# by snapshots (for fsck or backups) and/or any other logical volumes
# the user might decide to create later.
lvpercent=80

# Volume group name.  If we want to be able to coexist peacefully with an
# existing Linux setup that also uses LVM, this shouldn't conflict with any
# existing volume group names.
vgname="toast"

# Temporary file used to store munged parted output.
tmpfile=/tmp/parted.munge.$$

error()
{
  echo "$*" >&2
  rm -f "$tmpfile"
  exit 1
}

valid_disk_name()
{
  case "$1" in
    */*) return 1 ;;
    *[0-9]) return 1 ;;
    [hs]d[a-z]*) return 0 ;;
    *) return 1 ;;
  esac
}

# get/validate list of disks
if [ -n "$DISKS" ]; then
  for disk in $DISKS; do
    valid_disk_name "$disk" || error "bad disk name: $disk"
  done
else
  while read major minor blocks name rest; do
    valid_disk_name "$name" && DISKS="$DISKS $name"
  done < /proc/partitions
  [ -z "$DISKS" ] && error "no disks found"
fi

# create/check block device nodes for all disks
for disk in $DISKS; do
  path="/dev/$disk"
  [ -b "$path" ] || error "not a block device: $path"
  [ -r "$path" ] || error "can't read disk: $disk"
  [ -w "$path" ] || error "can't write disk: $disk"
done

# create partitions
pvpaths=""
let pecount=0
for disk in $DISKS; do
  path="/dev/$disk"
  parted="parted -s $path --"
  diskmajor=""
  diskminor=""
  totalm=""
  totalk=""
  overwrite=""
  lastminor=0
  extminor=0
  labeltype=""
  primary1exists=""
  primary2exists=""
  primary3exists=""
  primary4exists=""

  case "$disk" in
    h*) maxminor=63 ;; # IDE
    s*) maxminor=15 ;; # SCSI
    *) error "assertion failed: $disk"
  esac

  while read major minor blocks name rest; do
    if [ "$name" = "$disk" ]; then
      diskmajor="$major"
      diskminor="$minor"
      let totalm="$blocks/1024"
      let totalk="($blocks%1024)*1000/1024"
      case "$totalk" in
        [0-9]) totalk="00$totalk" ;;
        [1-9][0-9]) totalk="0$totalk" ;;
        [1-9][0-9][0-9]) ;;
        *) error "assertion failed: disk=$disk blocks=$blocks k=$totalk"
      esac
    fi
  done < /proc/partitions

  [ -z "$totalm" ] && error "assertion failed: disk=$disk totalm=$totalm"
  [ -z "$totalk" ] && error "assertion failed: disk=$disk totalk=$totalk"
  [ -z "$diskmajor" ] && error "assertion failed: no major for disk=$disk"
  [ -z "$diskminor" ] && error "assertion failed: no minor for disk=$disk"

  sum=bf619eac0cdf3f68d496ea9344137e8b # md5sum of 512 zero bytes

  if [ "$DESTROY" = "yes" ]; then
    echo "# Entire disk $disk will be overwritten unconditionally."
    overwrite="yes"
  elif dd if="$path" bs=512 count=1 2>/dev/null | md5sum | grep -q "$sum"; then
    echo "# Disk $disk appears to be empty; entire disk will be overwritten."
    overwrite="yes"
  else
    echo "# Contents of disk $disk may be accidentally destroyed."
    # TODO: tell user what partitions will go on this disk, if any
    $parted print | sed -e 's/0\.000-//; s/\./ /g' > "$tmpfile"
    while read one two three four five six rest; do
      if [ "$one $two $three" = "Disk geometry for" ]; then
        totalm="$five"
        totalk="$six"
      fi
      [ "$one $two $three" = "Disk label type:" ] && labeltype="$one"
      case "$one" in
        [0-9]*)
          [ "$one" -gt "$lastminor" ] && lastminor="$one"
          [ "$six" = "extended" ] && extminor="$one"
          [ "$six" = "primary" ] && eval "primary${one}exists=yes"
          ;;
      esac
    done < "$tmpfile"
    rm -f "$tmpfile"
  fi

  freeslot=0
  for slot in 4 3 2; do
    eval "[ -n \$primary{$slot}used ]" && freeslot="$slot"
  done

  if [ -n "$overwrite" ]; then
    lastminor=0
    extminor=0
    labeltype="msdos"
    echo "dd if=/dev/zero of=$path bs=512 count=1"
    echo "$parted mklabel $labeltype"
  fi

  if [ "$labeltype" = "msdos" ] && [ "$extminor" -gt 0 -o "$freeslot" -gt 0 ]; then
    let slicemegs="$totalm/$slices"
    [ "$slicemegs" -le "$pemegs" ] && slicemegs=$totalm
    let splitmegs="$slicemegs*2"
    lastm=0
    lastk=000
    {
      if [ -z "$overwrite" ]; then
        $parted print | grep "^[0-9]" | cut -c 3- | sort -n | sed -e 's/\./ /g'
      fi
      echo "$totalm $totalk END END END END END"
    } > "$tmpfile"
    while read startm startk endm endk type fs flags; do
      let gapmegs="($startm$startk-$lastm$lastk)/1000"
      create=yes
      while [ "$gapmegs" -gt "$pemegs" -a "$lastminor" -lt "$maxminor" -a -n "$create" ]; do
        if [ "$gapmegs" -gt "$splitmegs" ]; then
          let newendm="$lastm+$slicemegs"
          newendk="$lastk"
          let gapmegs="$gapmegs-$slicemegs"
        else
          newendm="$startm"
          newendk="$startk"
          gapmegs="0"
        fi
        let newminor="1+$lastminor"
        if [ "$newminor" -eq 1 ]; then
          newtype="primary"
        else
          newtype="logical"
          [ "$newminor" -le 4 ] && newminor=5
          if [ "$extminor" -eq 0 ]; then
            extminor="$freeslot"
            echo "$parted mkpart extended $lastm.$lastk -0"
            echo "$parted set $extminor lba on"
          fi
        fi
        echo "$parted mkpart $newtype ext2 $lastm.$lastk $newendm.$newendk"
        echo "$parted set $newminor lvm on"
        pvpaths="$pvpaths $path$newminor"
        let newpecount="($newendm$newendk-$lastm$lastk)/($pemegs*1000)"
        let pecount="$pecount+$newpecount"
        lastm="$newendm"
        lastk="$newendk"
        lastminor="$newminor"
      done
      lastm="$endm"
      lastk="$endk"
    done < "$tmpfile"
    rm -f "$tmpfile"
  fi
done

# create an ext3 filesystem on the new partitions
[ -z "$pvpaths" -o "$pecount" -eq 0 ] && error "no room for new partitions"
let lvextents="$pecount*$lvpercent/100"
echo "devices"
for pvpath in $pvpaths; do
  echo "dd if=/dev/zero of=$pvpath bs=512 count=10"
done
echo "pvcreate -fy -M2 $pvpaths"
echo "vgcreate -s $pemegs $vgname $pvpaths"
echo "lvcreate -L "$bootmegs"m -n boot $vgname" # TODO: restrict to first PV
echo "lvcreate -l $lvextents -n root $vgname"
echo "vgchange -ay $vgname"
for lvname in boot root; do
  lvpath="/dev/$vgname/$lvname"
  echo "parted -s $lvpath -- mklabel loop"
  echo "parted -s $lvpath -- mkpartfs primary ext2 0 -0"
  echo "tune2fs -j $lvpath"
done

--- FILE root/sbin/bootable ---
#!/bin/sh -e
[ -d /mnt/root/proc/1 ] || ! echo "/mnt/root/proc not mounted?"
[ -d /mnt/root/sys/class ] || ! echo "/mnt/root/sys not mounted?"
rm -f /mnt/root/dev/dm-[0-9]*
chroot /mnt/root vgscan
chroot /mnt/root sh -c 'cp /usr/boot/* /boot/'
[ -b /dev/hda ] || chroot /mnt/root perl -p -i -e 's/hda/sda/' /etc/lilo.conf
exec chroot /mnt/root lilo "$@@"

--- FILE root/sbin/toast ---
#!/bin/sh
[ -z "$TOAST_ARMDIR" ] && export TOAST_ARMDIR=/usr
ls /mnt/root/lib/ld-uClibc.so.0 >/dev/null 2>&1 && export TOAST_PRELOAD=false
exec chroot /mnt/root /bin/toast "$@@"

--- FILE root/sbin/utoast ---
#!/bin/sh

# utoast - minimal toast replacement script for toast linux toaststrap process

# paths to use:
chrootdir=/mnt/root
relstoredir=/toast
relarmdir=/usr
storedir="$chrootdir""$relstoredir"
armdir="$chrootdir""$relarmdir"

# functions

announce()
{
  echo "$*"
}

explain()
{
  echo "# $*"
}

error()
{
  [ -n "$*" ] && echo "utoast: $*" >&2
  echo "utoast: aborting" >&2
  exit 1
}

# parse command line

name="$1"
shift
version="$1"
shift
# remaining args are urls
[ -n "$*" ] || error "usage: $0 name version url..."

# add

namedir="$storedir/pkg/$name"
verdir="$namedir/v$version"
[ -d "$verdir" ] && error "$name version $version has already been added"

announce mkdir -p "$namedir"
mkdir -p "$namedir" || error
announce mkdir "$verdir"
mkdir "$verdir" || error

urlfile="$verdir/url"
urlfiletmp="$urlfile.tmp"
explain "creating $urlfile.tmp"
for url in "$@@"; do
  echo "$url" >> "$urlfiletmp" || error
done

announce mv "$urlfiletmp" "$urlfile"
mv "$urlfiletmp" "$urlfile" || error

# get

archivedir="$verdir/archive"
archivedirtmp="$archivedir.tmp"
announce mkdir "$archivedirtmp"
mkdir "$archivedirtmp" || error

for url in "$@@"; do
  announce "(cd $archivedirtmp && wget $url)"
  (cd "$archivedirtmp" && wget "$url") || error
done

announce mv "$archivedirtmp" "$archivedir"
mv "$archivedirtmp" "$archivedir" || error

# build

build=1
builddir="$verdir/$build"
relbuilddir="$relstoredir/pkg/$name/v$version/$build"
srcdir="$builddir/src"
relsrcdir="$relbuilddir/src"
rootdir="$builddir/root"
relrootdir="$relbuilddir/root"

announce mkdir "$builddir"
mkdir "$builddir" || error

buildlog="$builddir/build.log"
brokenlog="$builddir/broken.log"
explain "redirecting to $brokenlog"
{
  explain "utoast building $name version $version"
  announce date
  date
  announce uname -a
  uname -a
  announce env
  env
  announce cat "$urlfile"
  cat "$urlfile"
  announce md5sum "$archivedir"/*
  md5sum "$archivedir"/*

  # extract

  announce mkdir "$srcdir"
  mkdir "$srcdir" || error
  for archive in "$archivedir"/*; do
    explain "extracting $archive"
    case "$archive" in
      *.deb) dpkg-deb -x "$archive" "$srcdir" || error;;
      *.tar.gz) (cd "$srcdir" && tar xzf "$archive") || error;;
      *.tar.bz2) (cd "$srcdir" && tar xjf "$archive") || error;;
      *) error "don't know how to extract: $archive";;
    esac
  done

  # compile

  isbin=false
  for subdir in usr bin etc lib sbin; do
    [ -d "$srcdir/$subdir" ] && isbin=true
  done
  for file in "$srcdir"/*; do
    [ ! -d $file ] && isbin=false
  done

  if $isbin; then
    announce mv "$srcdir" "$rootdir"
    mv "$srcdir" "$rootdir" || error

    # terrible hack: create "gcc" symlink for debian gcc-2.95 binary
    if [ ! -x "$rootdir/usr/bin/gcc" ]; then
      for gcc in $rootdir/usr/bin/gcc-*; do
        if [ -x "$gcc" ]; then
          announce ln -sf `basename $gcc` "$rootdir/usr/bin/gcc"
          ln -sf `basename $gcc` "$rootdir/usr/bin/gcc"
        fi
      done
    fi

    # terrible hack: create "sh" symlink for bash-minimal binary
    if [ ! -x "$rootdir/bin/sh" ]; then
      for bash in $rootdir/bin/bash*; do
        if [ -x "$bash" ]; then
          announce ln -sf `basename $bash` "$rootdir/bin/sh"
          ln -sf `basename $bash` "$rootdir/bin/sh"
        fi
      done
    fi
  else
    # configure

    makedir="$srcdir"
    relmakedir="$relsrcdir"
    subdir=`cd $makedir && echo *`
    if [ -d "$makedir/$subdir" ]; then
      makedir="$makedir/$subdir"
      relmakedir="$relmakedir/$subdir"
    fi

    unconfigured=true
    for confprog in configure.gnu configure; do
      if $unconfigured && [ -x "$makedir/$confprog" ]; then
        announce chroot "$chrootdir" sh -c "cd $relmakedir && ./$confprog --prefix=$relarmdir"
        chroot "$chrootdir" sh -c "cd $relmakedir && ./$confprog --prefix=$relarmdir" || error
        unconfigured=false
      fi
    done
    $unconfigured && error "can't figure out how to configure"

    # prepare rootdir

    announce mkdir "$rootdir"
    mkdir "$rootdir" || error

    # make all install

    if [ -r "$makedir/build.sh" ]; then
      # bootstrap GNU make itself; work around apparent make 3.80 build.sh bug
      announce "sed -e 's/\@@REMOTE\@@/stub/' < $makedir/build.sh > $makedir/build.sh.patched"
      sed -e 's/\@@REMOTE\@@/stub/' < "$makedir/build.sh" > "$makedir/build.sh.patched" || error
      announce chroot "$chrootdir" sh -c "cd $relmakedir && sh build.sh.patched"
      chroot "$chrootdir" sh -c "cd $relmakedir && sh build.sh.patched" || error
      announce PATH="$PATH:$relmakedir" chroot "$chrootdir" make -C "$relmakedir" install DESTDIR="$relrootdir"
      PATH="$PATH:$relmakedir" chroot "$chrootdir" make -C "$relmakedir" install DESTDIR="$relrootdir" || error
    else
      announce chroot "$chrootdir" make -C "$relmakedir" all install DESTDIR="$relrootdir"
      chroot "$chrootdir" make -C "$relmakedir" all install DESTDIR="$relrootdir" || error
    fi

    # fix rootdir

    announce chmod -R -w "$rootdir"
    chmod -R -w "$rootdir" || error

    # autoclean

    announce rm -fr "$srcdir"
    rm -fr "$srcdir" || error
  fi
} 2>&1 | tee "$brokenlog" | sed 's/^/  /' || error

[ -d "$rootdir" ] || error

announce mv "$brokenlog" "$buildlog"
mv "$brokenlog" "$buildlog" || error

# arm

displace()
{
  if ls "$1" >/dev/null 2>&1; then
    displace "$1.off"
    announce mv "$1" "$1.off"
    mv "$1" "$1.off" || error
  fi
}

(cd "$rootdir" && find .) | while read -r rel; do
  rootfile="$rootdir/$rel"
  relrootfile="$relrootdir/$rel"
  armfile="$armdir/$rel"

  if [ -d "$rootfile" ]; then
    if [ ! -d "$armfile" ]; then
      announce mkdir "$armfile"
      mkdir "$armfile" || error
    fi
  else
    [ -d "$armfile" ] && error "$armfile is a directory but $rootfile isn't"
    displace "$armfile"
    announce ln -s "$relrootfile" "$armfile"
    ln -s "$relrootfile" "$armfile" || error
  fi
done

--- FILE root/sbin/utoastdeb ---
#!/bin/sh
urls=""
url_base="http://http.us.debian.org/debian/pool/main/"
deb()
{
  echo "Locating Debian package $1/$2."
  filename=`wget -O- "$url_base$1/" | sed -e 's/"/\n/g' | grep "^$2"'.*_i386.deb$' | tail -1`
  if [ -z "$filename" ]; then
    echo "Unable to locate Debian package $1/$2." >&2
    exit 1
  fi
  urls="$urls $url_base$1/$filename"
}
deb g/glibc libc6_2.3.2.ds1
deb g/glibc libc6-dev_2.3.2.ds1
deb l/linux-kernel-headers linux-kernel-headers_2.5.999
deb b/binutils binutils_2.15
deb g/gcc-3.4 gcc-3.4_3.4
deb g/gcc-3.4 cpp-3.4_3.4
deb g/gcc-3.4 libgcc1
deb p/perl perl-base_5.8
deb b/bash bash-minimal_3.0
exec utoast bin 0 $urls

--- FILE root/sbin/add ---
#!/bin/sh -e
sed 's/\#.*//' << 'EOF' | grep . | while read x; do toast add $x; done

# oddball essentials:

glibc/2.3.2: [ http://ftp.gnu.org/gnu/glibc/glibc-2.3.2.tar.bz2 http://ftp.gnu.org/gnu/glibc/glibc-linuxthreads-2.3.2.tar.bz2 http://kernel.org/pub/linux/kernel/v2.4/linux-2.4.25.tar.bz2 http://toastball.net/toast-linux-tmp/glibc-2.3.2-gcc-2.3.x.patch ]
# http://www.rocklinux.net/sources/package/base/glibc23/gcc33-hotfix.patch
# http://nl.lunar-linux.org/lunar/patches/glibc-2.3.2-newstyle.patch
# http://www.mozilla.org/projects/minimo/toolchain/glibc-2.3.2.diff
# http://www.linuxfromscratch.org/patches/lfs/5.0/glibc-2.3.2-sscanf-1.patch
# http://www.muth.org/Robert/Patch/glibc-2.3.2.patch
# http://sources.redhat.com/ml/bug-glibc/2003-10/msg00101/sscanf.c.diff
# http://mirror.gentoo.ru/pub/mirror/gentoo-portage/sys-libs/glibc/files/2.3.2/glibc-2.3.2-gcc33-sscanf.patch
# http://www.pengutronix.de/software/ptxdist/patches-0.5.0/glibc-2.3.2/generic/generic-sscanf.diff

[ http://kernel.org/pub/linux/kernel/v2.6/linux-2.6.5.tar.bz2 http://toastball.net/toast-linux-tmp/linux-2.6.5-config.tar.gz ]

lilo/22.5.9-devmapper: [ http://lilo.go.dyndns.org/pub/linux/lilo/obsolete/lilo-22.5.9.tar.gz http://www.saout.de/misc/lilo-22.5.9-devmapper.patch ]

genext2fs/1.3-7.1: [ http://http.us.debian.org/debian/pool/main/g/genext2fs/genext2fs_1.3.orig.tar.gz http://http.us.debian.org/debian/pool/main/g/genext2fs/genext2fs_1.3-7.1.diff.gz ]

# other required packages:
http://toastball.net/toast/init/
http://toastball.net/toast/login/
http://www.cpan.org/src/5.0/perl-5.8.5.tar.gz
http://www.infodrom.org/projects/sysklogd/download/sysklogd-1.4.1.tar.gz
http://www.phystech.com/ftp/dhcpcd-1.3.22-pl4.tar.gz
http://www.sethwklein.net/projects/iana-etc/downloads/iana-etc-0.99.tar.bz2
http://www.tazenda.demon.co.uk/phil/net-tools/net-tools-1.60.tar.bz2
ftp://ftp.cistron.nl/pub/people/miquels/sysvinit/sysvinit-2.85.tar.gz
http://www.zsh.org/pub/old/zsh-4.2.0.tar.bz2 # "old" URL less likely to change
http://ftp.gnu.org/gnu/tar/tar-1.14.tar.bz2
http://ftp.gnu.org/gnu/bash/bash-3.0.tar.gz
http://ftp.gnu.org/gnu/binutils/binutils-2.14.tar.bz2
http://ftp.gnu.org/gnu/coreutils/coreutils-5.0.tar.bz2
http://ftp.gnu.org/gnu/diffutils/diffutils-2.8.1.tar.gz
http://ftp.gnu.org/gnu/gawk/gawk-3.1.3.tar.bz2
http://ftp.gnu.org/gnu/gcc/gcc-3.3.2/gcc-3.3.2.tar.bz2
http://ftp.gnu.org/gnu/gcc/gcc-3.3.2/gcc-core-3.3.2.tar.bz2
http://ftp.gnu.org/gnu/gettext/gettext-0.14.1.tar.gz
http://ftp.gnu.org/gnu/grep/grep-2.5.tar.bz2
http://ftp.gnu.org/gnu/gzip/gzip-1.2.4a.tar.gz
http://ftp.gnu.org/gnu/ncurses/ncurses-5.4.tar.gz
http://ftp.gnu.org/gnu/patch/patch-2.5.4.tar.gz
http://ftp.gnu.org/gnu/readline/readline-4.3.tar.gz
http://ftp.gnu.org/gnu/sed/sed-4.0.9.tar.gz
http://ftp.gnu.org/gnu/wget/wget-1.9.1.tar.gz
http://kernel.org/pub/linux/daemons/devfsd/devfsd-v1.3.25.tar.bz2
http://kernel.org/pub/linux/utils/kernel/module-init-tools/module-init-tools-3.0.tar.bz2
http://kernel.org/pub/linux/utils/util-linux/util-linux-2.11z.tar.bz2
http://mirrors.kernel.org/sources.redhat.com/bzip2/v102/bzip2-1.0.2.tar.gz
http://mirrors.kernel.org/sources.redhat.com/dm/device-mapper.1.00.19.tgz
http://mirrors.kernel.org/sources.redhat.com/lvm2/LVM2.2.00.22.tgz
http://download.sourceforge.net/e2fsprogs/e2fsprogs-1.34.tar.gz
http://download.sourceforge.net/nasm/nasm-0.98.38.tar.bz2

# ftp.info-zip.org seems to be down today (8/31/04):
ftp://ftp.icce.rug.nl/infozip/src/unzip542.tar.gz
ftp://ftp.icce.rug.nl/infozip/src/zip23.tar.gz

# tricky optional packages:
[ http://download.sourceforge.net/ghostscript/ghostscript-8.14.tar.gz http://download.sourceforge.net/gs-fonts/ghostscript-fonts-std-8.11.tar.gz ] # what happened here? shouldn't fonts be 8.14 too?
[ http://ftp.xfree86.org/pub/XFree86/4.4.0/source/XFree86-4.4.0-src-1.tgz http://ftp.xfree86.org/pub/XFree86/4.4.0/source/XFree86-4.4.0-src-2.tgz http://ftp.xfree86.org/pub/XFree86/4.4.0/source/XFree86-4.4.0-src-3.tgz http://ftp.xfree86.org/pub/XFree86/4.4.0/source/XFree86-4.4.0-src-4.tgz http://ftp.xfree86.org/pub/XFree86/4.4.0/source/XFree86-4.4.0-src-5.tgz http://ftp.xfree86.org/pub/XFree86/4.4.0/source/XFree86-4.4.0-src-6.tgz http://ftp.xfree86.org/pub/XFree86/4.4.0/source/XFree86-4.4.0-src-7.tgz ]
http://download.sourceforge.net/sourceforge/lex/flex-2.5.27.tar.bz2 # flex 2.5.31 is broken and can't build XFree86 4.4.0, for instance
http://download.sourceforge.net/freetype/freetype-2.1.5.tar.bz2 # 2.1.7 seems to cause include problems with xft 2.1.2

# Gnome and KDE:
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/
http://ibiblio.org/pub/mirrors/kde/stable/3.3/src/

# additional GNOMEy-looking stuff
http://freedesktop.org/Software/icon-theme/releases/hicolor-icon-theme-0.5.tar.gz
http://freedesktop.org/Software/shared-mime-info/shared-mime-info-0.14.tar.gz
http://freedesktop.org/~fontconfig/release/fontconfig-2.2.93.tar.gz
http://freedesktop.org/~fontconfig/release/xft-2.1.2.tar.gz
http://freedesktop.org/~xlibs/release/render-0.8.tar.gz
http://freedesktop.org/~xlibs/release/xrender-0.8.3.tar.gz
http://ftp.gnome.org/pub/GNOME/sources/gal/2.1/gal-2.1.7.tar.bz2
http://ftp.gnome.org/pub/GNOME/sources/libcroco/0.5/libcroco-0.5.0.tar.bz2
http://ftp.gnome.org/pub/GNOME/sources/libgsf/1.8/libgsf-1.8.2.tar.bz2

# everything else:
ftp://ftp.astron.com/pub/file/file-4.07.tar.gz
ftp://ftp.berlios.de/pub/cdrecord/cdrtools-2.00.3.tar.gz
ftp://ftp.bitwizard.nl/mtr/mtr-0.58.tar.gz
ftp://ftp.chiark.greenend.org.uk/users/ian/adns/adns-1.1.tar.gz
ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-4.5.tar.bz2
ftp://ftp.figlet.org/pub/figlet/program/unix/figlet221.tar.gz
ftp://ftp.foolabs.com/pub/xpdf/t1lib-1.3.tar.gz
ftp://ftp.foolabs.com/pub/xpdf/xpdf-3.00.tar.gz
ftp://ftp.gnupg.org/gcrypt/gnupg/gnupg-1.2.4.tar.bz2
ftp://ftp.gw.com/mirrors/pub/unix/file/file-4.09.tar.gz
ftp://ftp.isc.org/isc/bind9/9.2.3/bind-9.2.3.tar.gz
ftp://ftp.proftpd.org/distrib/source/proftpd-1.2.10.tar.bz2
ftp://ftp.rpm.org/pub/rpm/dist/rpm-4.1.x/popt-1.7.tar.gz
ftp://ftp.uu.net/graphics/jpeg/jpegsrc.v6b.tar.gz
ftp://ftp.vim.org/pub/vim/unix/vim-6.2.tar.bz2
ftp://ftp.win.tue.nl/pub/linux-local/utils/kbd/kbd-1.12.tar.gz
ftp://oss.sgi.com/projects/fam/download/fam-2.6.10.tar.gz
http://alioth.debian.org/download.php/123/minicom-2.1.tar.gz
http://caml.inria.fr/distrib/ocaml-3.06/ocaml-3.06.tar.gz
http://curl.haxx.se/download/curl-7.11.1.tar.bz2
http://developer.kde.org/~sewardj/valgrind-2.0.0.tar.bz2
http://dl.maptools.org/dl/libtiff/tiff-v3.6.1.tar.gz
http://download.insecure.org/nmap/dist/nmap-3.50.tar.bz2
http://download.ofb.net/gale/gale-0.99fruit.tar.bz2
http://download.sourceforge.net/lame/lame-3.96.tar.gz
http://download.sourceforge.net/lesstif/lesstif-0.93.94.tar.bz2
http://download.sourceforge.net/libmng/libmng-1.0.6.tar.gz
http://download.sourceforge.net/netpbm/netpbm-10.19.tgz
http://download.sourceforge.net/png-mng/libpng-1.2.5.tar.bz2
http://download.sourceforge.net/romfs/genromfs-0.5.1.tar.gz
http://download.sourceforge.net/smartsuite/smartsuite-2.1.tar.gz
http://download.sourceforge.net/strace/strace-4.4.98.tar.bz2
http://download.sourceforge.net/xine/xine-lib-1-rc3c.tar.gz
http://download.sourceforge.net/xine/xine-ui-0.99.1.tar.gz
http://ftp.gnu.org/gnu/autoconf/autoconf-2.59.tar.gz
http://ftp.gnu.org/gnu/automake/automake-1.8.2.tar.gz
http://ftp.gnu.org/gnu/bc/bc-1.06.tar.gz
http://ftp.gnu.org/gnu/bison/bison-1.875.tar.bz2
http://ftp.gnu.org/gnu/cpio/cpio-2.5.tar.gz
http://ftp.gnu.org/gnu/ed/ed-0.2.tar.gz
http://ftp.gnu.org/gnu/gdbm/gdbm-1.8.3.tar.gz
http://ftp.gnu.org/gnu/gmp/gmp-4.1.2.tar.bz2
http://ftp.gnu.org/gnu/groff/groff-1.19.tar.gz
http://ftp.gnu.org/gnu/inetutils/inetutils-1.4.2.tar.gz
http://ftp.gnu.org/gnu/libtool/libtool-1.5.2.tar.gz
http://ftp.gnu.org/gnu/m4/m4-1.4.tar.gz
http://ftp.gnu.org/gnu/miscfiles/miscfiles-1.3.tar.gz
http://ftp.gnu.org/gnu/parted/parted-1.6.6.tar.gz
http://ftp.gnu.org/gnu/texinfo/texinfo-4.6.tar.gz
http://ftp.gnu.org/gnu/units/units-1.80.tar.gz
http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/0.8/firefox-source-0.8.tar.bz2
http://ftp.mozilla.org/pub/mozilla.org/mozilla/releases/mozilla1.6/src/mozilla-source-1.6.tar.bz2
http://ftp.silug.org/mirrors/ftp.trolltech.com/qt/source/qt-x11-free-3.3.1.tar.bz2
http://ftp.xfree86.org/pub/XFree86/4.4.0/source/doctools-1.3.2.tgz
http://kernel.org/pub/linux/daemons/autofs/v4/autofs-4.1.2.tar.bz2
http://kernel.org/pub/linux/docs/manpages/man-pages-1.65.tar.bz2
http://kernel.org/pub/linux/utils/boot/syslinux/syslinux-2.08.tar.bz2
http://kernel.org/pub/linux/utils/man/man-1.5m2.tar.bz2
http://kernel.org/pub/software/utils/pciutils/pciutils-2.1.11.tar.bz2
ftp://ftp.porcupine.org/mirrors/postfix-release/official/postfix-2.1.4.tar.gz
http://mtools.linux.lu/mtools-3.9.9.tar.bz2
http://search.cpan.org/CPAN/authors/id/M/MS/MSERGEANT/XML-Parser-2.34.tar.gz
http://subversion.tigris.org/tarballs/subversion-1.0.1.tar.bz2
http://tug.ctan.org/tex-archive/systems/unix/teTeX/current/distrib/tetex-src-2.0.2.tar.gz
http://www.alsa-project.org/alsa/ftp/lib/alsa-lib-1.0.3a.tar.bz2
http://www.alsa-project.org/alsa/ftp/tools/alsa-tools-1.0.3.tar.bz2
http://www.alsa-project.org/alsa/ftp/utils/alsa-utils-1.0.3.tar.bz2
http://www.apache.org/dist/httpd/httpd-2.0.50.tar.gz
http://www.cs.purdue.edu/homes/trinkle/RCS/rcs-5.7.tar.Z
http://www.eecis.udel.edu/~ntp/ntp_spool/ntp4/ntp-4.2.0.tar.gz
http://www.greenwoodsoftware.com/less/less-381.tar.gz
http://www.hpl.hp.com/personal/Hans_Boehm/gc/gc_source/gc6.2.tar.gz
http://www.libpng.org/pub/png/src/zlib-1.2.1.tar.gz
http://www.libsdl.org/release/SDL-1.2.7.tar.gz
http://www.openssl.org/source/openssl-0.9.7d.tar.gz
http://www.procmail.org/procmail-3.22.tar.gz
http://www.python.org/ftp/python/2.3.3/Python-2.3.3.tar.bz2
http://www.sleepycat.com/update/snapshot/db-4.2.52.tar.gz
http://www.vorbis.com/files/1.0.1/unix/libogg-1.1.tar.gz
http://www.vorbis.com/files/1.0.1/unix/libvorbis-1.0.1.tar.gz
http://www.xiph.org/paranoia/download/cdparanoia-III-alpha9.8.src.tgz
http://www.xmms.org/files/1.2.x/xmms-1.2.10.tar.bz2

EOF

--- FILE root/sbin/run ---
#!/bin/sh -e
t() { while [ -n "$1" ]; do task "$1" "$2" toast arm "$2"; shift 2; done; }
task init "$0"
task 2 network network
task 123 partition partition
task 1 swap swap
task 1 setup setup
task 89 bin utoastdeb
task 54 make utoast make 3.80 http://ftp.gnu.org/gnu/make/make-3.80.tar.bz2
task 4 toast utoast toast 1.344 http://toastball.net/toast/toast-1.344.tar.gz
task 0 add add
t 88 gawk 267 coreutils 849 perl 755 gcc-core 537 binutils 5476 glibc 
task 1200 rebuild toast rebuild make toast gawk coreutils perl
t 6076 gcc 175 bash 55 sed 54 grep 9 gzip 75 tar 67 wget
task 37 remove toast remove bin busybox gcc-core
t 66 diffutils 16 bzip2 70 util-linux 25 module-init-tools 322 ncurses 485 gettext 60 readline 37 procps 22 patch 25 findutils 16 sysvinit 8 sysklogd 1871 linux 22 device-mapper 84 lvm2 16 bin86 64 nasm 27 lilo 327 e2fsprogs 7 devfsd 6 genext2fs 18 toastinit 1 toastlogin 4 iana-etc 238 zsh 34 net-tools 20 dhcpcd
task 7 bootable bootable

[ -n "$MINIMAL" ] && exit 0

t 17 zlib
task 500 openssl sh -c 'toast arm openssl && toast rebuild wget'
t 192 openssh 192 vim 131 inetutils 50 less 98 parted 221 groff 13 man 30 man-pages 93 texinfo 172 cpio 14 hdparm 21 m4 76 bison 389 flex 22 autoconf 19 automake 57 file 76 libtool 38 kbd 19 ed

# [ -z "$EXTRAS" ] && exit 0

t 1004 tetex 571 python 407 db 54 gdbm 353 bind 19 autofs 182 curl 13 figlet 55 file 53 adns 76 gc 5 genromfs 327 gmp 490 httpd 15 ltrace 51 strace 61 minicom 23 bc 24 miscfiles 74 mtools 24 mtr 187 gnupg 0 mutt 207 nmap 180 ntp 423 ocaml 12 pciutils 0 postfix 38 procmail 127 proftpd 50 rcs 1000 samba 9 smartsuite 94 valgrind 98 zip 107 unzip 57 popt 44 pcre 835 subversion 235 cdrtools 38 libogg 128 libvorbis 163 lame 57 jpeg 57 libpng 64 tiff 327 netpbm
(export LDFLAGS=-ldl; t 152 gale)
# t 0 libmng 0 unison 0 syslinux 0 units 0 ghostscript 0 cvs

# [ "$EXTRAS" = "X" ] || exit 0

t 5679 XFree86 102 doctools 410 fvwm 32 lua 140 ion 551 xscreensaver 35 xdaliclock 176 alsa-lib
# t 0 alsa-tools
t 36 alsa-utils 128 freetype 66 fam 
# t 0 t1lib
t 134 xpdf 488 lesstif 334 sdl 1470 xine-lib 237 xine-ui 35 cdparanoia
t 99 pkgconfig 117 audiofile 437 libxml2 181 libxslt
t 0 gtk-doc 0 glib 0 libIDL 0 ORBit2 0 XML-Parser 0 intltool 0 libbonobo 0 fontconfig 0 render 0 xrender 0 xft 0 pango 0 atk 0 shared-mime-data
RUN_QUERY_LOADER_TEST=true t 0 gtk+
t 0 mozilla 0 GConf 0 gnome-mime-data 0 gnome-vfs 0 esound 0 libgnome 0 libart 0 libglade 0 libgnomecanvas 0 libbonoboui 0 hicolor-icon-theme 0 gnome-icon-theme 0 gnome-keyring 0 libgnomeui 0 startup-notification 0 gtk-engines 0 gnome-themes 0 scrollkeeper 0 gnome-desktop 0 libwnck 0 gnome-panel 0 gnome-session 0 vte 0 gnome-terminal 0 libgtop 0 gail 0 gnome-applets 0 metacity 0 libgsf 0 libcroco 0 librsvg 0 eel 0 nautilus 0 control-center 0 libgtkhtml 0 yelp 0 bug-buddy 0 libgnomeprint 0 libgnomeprintui 0 gtksourceview 0 gedit 0 eog 0 ggv 0 file-roller 0 gconf-editor 0 gnome-utils 0 gal 0 gnome-system-monitor 0 gstreamer 0 gst-plugins 0 gnome-media 0 gnome-netstatus 0 gcalctool 0 gpdf 0 gucharmap 0 nautilus-cd-burner 0 zenity 0 gnome-speech 0 at-spi 0 gnome-mag 0 gnopernicus 0 gok 0 epiphany 0 gnomemeeting 0 gnome-games 0 gnome2-user-docs 0 dasher 0 gdm 0 libgail-gnome 0 libxklavier 0 nautilus-media
t 0 qt 0 arts 0 kdelibs 0 kdebase 0 kde-i18n 0 kdeaccessibility 0 kdeadmin 0 kdeartwork 0 kdebindings 0 kdeedu 0 kdegames 0 kdegraphics 0 kdemultimedia 0 kdenetwork 0 kdepim 0 kdesdk 0 kdetoys 0 kdeutils 0 kdevelop 0 quanta 0 kdeaddons
t 0 firefox 0 xmms 0 gimp 0 gkrellm

--- FILE root/sbin/respin ---
#!/bin/sh -e
echo "This script destroys both the hard disk partition table and the floppy."
echo "Press any key to abort."
timeout 10
wget -O /dev/fd0 http://toastball.net/toast-linux-tmp/floppy.img
dd if=/dev/zero of=/dev/hda bs=512 count=1
sync
reboot
sleep 20
echo b > /proc/sysrq-trigger

@


1.118
log
@upgrade toast, genext2fs, proftpd; use libtiff mirror;
have toast 1.342 expand URLs for GNOME and KDE
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.117 2004/09/05 06:51:57 zaphod Exp zaphod $;
d1829 2
a1830 2
http://toastball.net/toast-linux-tmp/toastinit-1.17.tar.gz
http://toastball.net/toast-linux-tmp/toastlogin-1.9.tar.gz
d1984 1
a1984 1
task 4 toast utoast toast 1.342 http://toastball.net/toast/toast-1.342.tar.gz
@


1.117
log
@add Makefile target to run under VMware as well as Bochs;
upgrade LVM2 and LILO; remove spurious zip URL
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.116 2004/09/04 21:16:54 zaphod Exp zaphod $;
d140 1
a140 1
GENEXT2FS_PATCHLEVEL = 6
d1826 1
a1826 1
genext2fs/1.3-6: [ http://http.us.debian.org/debian/pool/main/g/genext2fs/genext2fs_1.3.orig.tar.gz http://http.us.debian.org/debian/pool/main/g/genext2fs/genext2fs_1.3-6.diff.gz ]
d1873 3
a1875 102
# KDE 3.2.1
http://download.kde.org/stable/3.2.1/src/arts-1.2.1.tar.bz2
http://download.kde.org/stable/3.2.1/src/kde-i18n-3.2.1.tar.bz2
http://download.kde.org/stable/3.2.1/src/kdeaccessibility-3.2.1.tar.bz2
http://download.kde.org/stable/3.2.1/src/kdeaddons-3.2.1.tar.bz2
http://download.kde.org/stable/3.2.1/src/kdeadmin-3.2.1.tar.bz2
http://download.kde.org/stable/3.2.1/src/kdeartwork-3.2.1.tar.bz2
http://download.kde.org/stable/3.2.1/src/kdebase-3.2.1.tar.bz2
http://download.kde.org/stable/3.2.1/src/kdebindings-3.2.1.tar.bz2
http://download.kde.org/stable/3.2.1/src/kdeedu-3.2.1.tar.bz2
http://download.kde.org/stable/3.2.1/src/kdegames-3.2.1.tar.bz2
http://download.kde.org/stable/3.2.1/src/kdegraphics-3.2.1.tar.bz2
http://download.kde.org/stable/3.2.1/src/kdelibs-3.2.1.tar.bz2
http://download.kde.org/stable/3.2.1/src/kdemultimedia-3.2.1.tar.bz2
http://download.kde.org/stable/3.2.1/src/kdenetwork-3.2.1.tar.bz2
http://download.kde.org/stable/3.2.1/src/kdepim-3.2.1.tar.bz2
http://download.kde.org/stable/3.2.1/src/kdesdk-3.2.1.tar.bz2
http://download.kde.org/stable/3.2.1/src/kdetoys-3.2.1.tar.bz2
http://download.kde.org/stable/3.2.1/src/kdeutils-3.2.1.tar.bz2
http://download.kde.org/stable/3.2.1/src/kdevelop-3.0.2.tar.bz2
http://download.kde.org/stable/3.2.1/src/quanta-3.2.1.tar.bz2

# GNOME 2.6.2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/GConf-2.6.2.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/ORBit2-2.10.2.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/at-spi-1.4.2.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/atk-1.6.1.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/audiofile-0.2.6.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/bug-buddy-2.6.1.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/control-center-2.6.1.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/dasher-3.2.10.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/eel-2.6.2.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/eog-2.6.1.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/epiphany-1.2.6.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/esound-0.2.34.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/file-roller-2.6.1.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gail-1.6.6.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gcalctool-4.3.51.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gconf-editor-2.6.2.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gdm-2.6.0.3.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gedit-2.6.2.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/ggv-2.6.1.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/glib-2.4.2.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-applets-2.6.2.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-desktop-2.6.2.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-games-2.6.2.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-icon-theme-1.2.3.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-keyring-0.2.1.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-mag-0.10.11.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-media-2.6.2.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-mime-data-2.4.1.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-netstatus-2.6.2.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-panel-2.6.2.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-session-2.6.2.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-speech-0.3.3.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-system-monitor-2.6.0.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-terminal-2.6.1.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-themes-2.6.2.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-utils-2.6.2.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-vfs-2.6.1.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome2-user-docs-2.6.0.1.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnomemeeting-1.0.2.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnopernicus-0.8.4.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gok-0.10.2.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gpdf-0.132.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gst-plugins-0.8.1.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gstreamer-0.8.3.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gtk+-2.4.3.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gtk-doc-1.2.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gtk-engines-2.2.0.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gtksourceview-1.0.1.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gucharmap-1.4.1.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/intltool-0.31.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libIDL-0.8.3.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libart_lgpl-2.3.16.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libbonobo-2.6.2.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libbonoboui-2.6.1.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libgail-gnome-1.0.4.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libglade-2.3.6.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libgnome-2.6.1.1.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libgnomecanvas-2.6.1.1.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libgnomeprint-2.6.2.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libgnomeprintui-2.6.2.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libgnomeui-2.6.1.1.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libgtkhtml-2.6.2.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libgtop-2.6.0.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/librsvg-2.6.5.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libwnck-2.6.2.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libxklavier-1.02.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libxml2-2.6.9.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libxslt-1.1.6.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/metacity-2.8.1.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/nautilus-2.6.3.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/nautilus-cd-burner-2.6.1.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/nautilus-media-0.8.0.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/pango-1.4.0.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/pkgconfig-0.15.0.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/scrollkeeper-0.3.14.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/startup-notification-0.5.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/vte-0.11.11.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/yelp-2.6.1.tar.bz2
http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/zenity-2.6.2.tar.bz2
d1877 1
a1877 1
# GNOMEy-looking stuff
d1900 1
a1900 2
ftp://ftp.proftpd.org/distrib/source/proftpd-1.2.9.tar.bz2
ftp://ftp.remotesensing.org/pub/libtiff/tiff-v3.6.1.tar.gz
d1910 1
d1984 1
a1984 1
task 4 toast utoast toast 1.339 http://toastball.net/toast/toast-1.339.tar.gz
@


1.116
log
@upgrade bash
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.115 2004/09/04 02:57:47 zaphod Exp zaphod $;
d126 1
a126 1
FROMCONF = dev toast-linux.stub mkhd bochs-config
d138 1
a138 1
LVM2_VERSION = 2.00.21
d401 6
a406 1
run: floppy.img bochs-config mkhd
d410 1
a410 1
run-cd: cd.iso bochs-config-cd mkhd
d662 22
d1824 1
a1824 1
lilo/22.5.8+devmapper: [ http://home.san.rr.com/johninsd/pub/linux/lilo/obsolete/lilo-22.5.8.tar.gz http://www.saout.de/misc/lilo-22.5.8-devmapper.patch ]
d1859 1
a1859 1
http://mirrors.kernel.org/sources.redhat.com/lvm2/LVM2.2.00.21.tgz
a1997 1
ftp://ftp.info-zip.org/pub/infozip/src/zip23.tar.gz
@


1.115
log
@mostly URL tinkering
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.114 2004/08/31 03:50:23 zaphod Exp zaphod $;
d1812 1
a1812 1
http://ftp.gnu.org/gnu/bash/bash-2.05b.tar.gz
@


1.114
log
@remove stale hdparm URL; SCSI fix needs to run in chroot, not outside
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.113 2004/08/31 03:06:36 zaphod Exp zaphod $;
d1804 1
a1804 1
http://www.cpan.org/src/5.0/perl-5.8.3.tar.gz
d1836 4
a2015 1
http://http.us.debian.org/debian/pool/main/l/ltrace/ltrace_0.3.32.tar.gz
d2021 1
a2021 1
http://mirrors.isc.org/pub/postfix/official/postfix-2.0.19.tar.gz
d2075 1
a2075 1
LDFLAGS=-ldl t 152 gale
@


1.113
log
@use more stable zsh URL; upgrade GNU tar; boot from SCSI if necessary
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.112 2004/08/30 03:59:30 zaphod Exp zaphod $;
d1506 1
a1506 1
[ -b /dev/hda ] || perl -p -i -e 's/hda/sda/' /mnt/root/etc/lilo.conf
a2030 1
http://www.ibiblio.org/pub/Linux/system/hardware/hdparm-5.5.tar.gz
@


1.112
log
@building gcc-core before binutils is quicker and more likely to work
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.111 2004/08/29 22:17:43 zaphod Exp zaphod $;
d1506 1
d1810 2
a1811 2
http://archive.progeny.com/zsh/zsh-4.2.0.tar.bz2
ftp://alpha.gnu.org/gnu/tar/tar-1.13.25.tar.gz
@


1.111
log
@disable console blanking during install
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.110 2004/08/29 21:35:06 zaphod Exp zaphod $;
d2056 2
a2057 2
t 88 gawk 267 coreutils 849 perl 537 binutils 755 gcc-core 5476 glibc 
task 1735 rebuild toast rebuild make toast gawk coreutils binutils perl
@


1.110
log
@upgrade toast to 1.339
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.109 2004/08/29 21:20:57 zaphod Exp zaphod $;
d1018 1
@


1.109
log
@updated utoast and utoastdeb
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.108 2004/08/29 20:08:16 zaphod Exp zaphod $;
d2053 1
a2053 1
task 4 toast utoast toast 1.336 http://toastball.net/toast/toast-1.336.tar.gz
@


1.108
log
@updated linux-config for 2.6.8.1; added VMware SCSI support
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.107 2004/08/29 06:56:51 zaphod Exp zaphod $;
d1652 12
a1663 2
       fi
     done
d1769 4
a1772 3
deb b/binutils binutils_2.14.90.0.7
deb g/gcc-3.3 gcc-3.3_3.3
deb g/gcc-3.3 cpp-3.3_3.3
d1774 1
a1774 2
deb n/ncurses libncurses5_5.4
deb b/bash bash_2.05b
@


1.107
log
@restore e2fsck groundwork; disable resize2fs for now
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.106 2004/08/29 04:03:11 zaphod Exp zaphod $;
a2103 1
CONFIG_STANDALONE=y
a2170 1
# CONFIG_HPET_EMULATE_RTC is not set
d2251 2
d2288 1
a2288 1
# CONFIG_BLK_DEV_CARMEL is not set
d2303 1
d2392 1
a2401 1
# CONFIG_SCSI_ADVANSYS is not set
d2405 2
a2406 1
# CONFIG_SCSI_BUSLOGIC is not set
d2454 3
a2515 1
# CONFIG_NET_FASTROUTE is not set
d2522 1
d2612 1
d2759 5
d2834 2
d2913 1
d2956 1
a2959 1
CONFIG_X86_STD_RESOURCES=y
@


1.106
log
@add resize2fs to installer
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.105 2004/08/29 03:51:44 zaphod Exp zaphod $;
d200 1
d344 1
a344 1
  install -D $(RESIZE2FS) $@@/sbin/resize2fs
@


1.105
log
@upgrade parted on install disk
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.104 2004/08/22 22:22:06 zaphod Exp zaphod $;
d199 1
d292 3
d322 1
a322 1
symbols: $(BUSYBOX) $(E2FSCK) $(TUNE2FS) $(NTFSRESIZE) $(PARTED) $(LVM2)
d343 1
@


1.104
log
@upgrade both references to LVM2
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.103 2004/08/22 21:50:08 zaphod Exp zaphod $;
d136 1
a136 1
PARTED_VERSION = 1.6.9
@


1.103
log
@upgrade linux and busybox on install floppy
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.102 2004/08/17 23:47:16 zaphod Exp zaphod $;
d138 1
a138 1
LVM2_VERSION = 2.00.20
d1814 1
a1814 1
http://mirrors.kernel.org/sources.redhat.com/lvm2/LVM2.2.00.20.tgz
@


1.102
log
@removed toast-markup; added timings
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.101 2004/07/20 23:12:39 zaphod Exp zaphod $;
d132 2
a133 2
LINUX_VERSION = 2.6.7
BUSYBOX_VERSION = 1.00-pre10
@


1.101
log
@update/remove package URLs
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.100 2004/07/19 23:54:02 zaphod Exp zaphod $;
a2003 1
http://toastball.net/toast-linux-tmp/toast-markup-1.6.tar.gz
d2054 2
a2055 2
t 0 tetex 0 python 0 db 0 gdbm 0 bind 0 autofs 0 curl 0 figlet 0 file 0 adns 0 gc 0 genromfs 0 gmp 0 httpd 0 ltrace 0 strace 0 minicom 0 bc 0 miscfiles 0 mtools 0 mtr 0 gnupg 0 mutt 0 nmap 0 ntp 0 ocaml 0 pciutils 0 postfix 0 procmail 0 proftpd 0 rcs 0 samba 0 smartsuite 0 valgrind 0 zip 0 unzip 0 popt 0 pcre 0 subversion 0 cdrtools 0 libogg 0 libvorbis 0 lame 0 jpeg 0 libpng 0 tiff 0 netpbm
LDFLAGS=-ldl t 0 gale
d2060 1
a2060 1
t 0 XFree86 0 doctools 0 fvwm 0 lua 0 ion 0 xscreensaver 0 xdaliclock 0 alsa-lib
d2062 1
a2062 1
t 0 alsa-utils 0 freetype 0 fam 
d2064 3
a2066 2
t 0 xpdf 0 lesstif 0 sdl 0 xine-lib 0 xine-ui 0 cdparanoia
t 0 pkgconfig 0 audiofile 0 libxml2 0 libxslt 0 toast-markup 0 gtk-doc 0 glib 0 libIDL 0 ORBit2 0 XML-Parser 0 intltool 0 libbonobo 0 fontconfig 0 render 0 xrender 0 xft 0 pango 0 atk 0 shared-mime-data
@


1.100
log
@update/remove some package URLs
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.99 2004/07/19 17:42:50 zaphod Exp zaphod $;
a1950 1
ftp://ftp.mutt.org/mutt/mutt-1.4.1i.tar.gz
d2004 1
a2004 1
http://toastball.net/toast-linux-tmp/toast-markup-1.5.tar.gz
d2009 1
a2009 1
http://www.apache.org/dist/httpd/httpd-2.0.49.tar.gz
@


1.99
log
@upgrade device-mapper and LVM2 on target system to version used by installer
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.98 2004/07/19 03:57:33 zaphod Exp zaphod $;
d1781 1
a1781 1
genext2fs/1.3-4: [ http://http.us.debian.org/debian/pool/main/g/genext2fs/genext2fs_1.3.orig.tar.gz http://http.us.debian.org/debian/pool/main/g/genext2fs/genext2fs_1.3-4.diff.gz ]
a1785 1
http://www.cix.co.uk/~mayday/dev86/bin86-0.16.15.tar.gz
a1990 1
http://ftp.lug.udel.edu/pub/OpenBSD/OpenSSH/portable/openssh-3.8.1p1.tar.gz
@


1.98
log
@upgrade to toast 1.336
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.97 2004/07/17 05:29:46 zaphod Exp zaphod $;
d1814 2
a1815 2
http://mirrors.kernel.org/sources.redhat.com/dm/device-mapper.1.00.17.tgz
http://mirrors.kernel.org/sources.redhat.com/lvm2/LVM2.2.00.15.tgz
@


1.97
log
@major restructuring: split URLs into separate "add" step
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.96 2004/07/17 04:18:15 zaphod Exp zaphod $;
d2041 1
a2041 1
task 4 toast utoast toast 1.330 http://toastball.net/toast/toast-1.330.tar.gz
@


1.96
log
@fine-tune utoastdeb spew
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.95 2004/07/17 00:57:02 zaphod Exp zaphod $;
d1761 1
a1761 1
--- FILE root/sbin/run ---
d1763 1
d1765 1
a1765 1
task init "$0"
d1767 1
a1767 13
task 2 network network
task 123 partition partition
task 1 swap swap
task 1 setup setup
task 89 bin utoastdeb
task 54 make utoast make 3.80 http://ftp.gnu.org/gnu/make/make-3.80.tar.bz2
task 4 toast utoast toast 1.330 http://toastball.net/toast/toast-1.330.tar.gz
task 88 gawk toast arm http://ftp.gnu.org/gnu/gawk/gawk-3.1.3.tar.bz2
task 267 coreutils toast arm http://ftp.gnu.org/gnu/coreutils/coreutils-5.0.tar.bz2
task 849 perl toast arm http://www.cpan.org/src/5.0/perl-5.8.3.tar.gz
task 537 binutils toast arm http://ftp.gnu.org/gnu/binutils/binutils-2.14.tar.bz2
task 755 gcc-core toast arm http://ftp.gnu.org/gnu/gcc/gcc-3.3.2/gcc-core-3.3.2.tar.bz2
task 5476 glibc toast arm glibc/2.3.2: [ http://ftp.gnu.org/gnu/glibc/glibc-2.3.2.tar.bz2 http://ftp.gnu.org/gnu/glibc/glibc-linuxthreads-2.3.2.tar.bz2 http://kernel.org/pub/linux/kernel/v2.4/linux-2.4.25.tar.bz2 http://toastball.net/toast-linux-tmp/glibc-2.3.2-gcc-2.3.x.patch ]
d1776 268
d2045 1
a2045 7
task 6076 gcc toast arm http://ftp.gnu.org/gnu/gcc/gcc-3.3.2/gcc-3.3.2.tar.bz2
task 175 bash toast arm http://ftp.gnu.org/gnu/bash/bash-2.05b.tar.gz
task 55 sed toast arm http://ftp.gnu.org/gnu/sed/sed-4.0.9.tar.gz
task 54 grep toast arm http://ftp.gnu.org/gnu/grep/grep-2.5.tar.bz2
task 9 gzip toast arm http://ftp.gnu.org/gnu/gzip/gzip-1.2.4a.tar.gz
task 75 tar toast arm ftp://alpha.gnu.org/gnu/tar/tar-1.13.25.tar.gz
task 67 wget toast arm http://ftp.gnu.org/gnu/wget/wget-1.9.1.tar.gz
d2047 1
a2047 27
task 66 diffutils toast arm http://ftp.gnu.org/gnu/diffutils/diffutils-2.8.1.tar.gz
task 16 bzip2 toast arm http://mirrors.kernel.org/sources.redhat.com/bzip2/v102/bzip2-1.0.2.tar.gz
task 70 util-linux toast arm http://kernel.org/pub/linux/utils/util-linux/util-linux-2.11z.tar.bz2
task 25 module-init-tools toast arm http://kernel.org/pub/linux/utils/kernel/module-init-tools/module-init-tools-3.0.tar.bz2
task 322 ncurses toast arm http://ftp.gnu.org/gnu/ncurses/ncurses-5.4.tar.gz
task 485 gettext toast arm http://ftp.gnu.org/gnu/gettext/gettext-0.14.1.tar.gz
task 60 readline toast arm http://ftp.gnu.org/gnu/readline/readline-4.3.tar.gz
task 37 procps toast arm procps # http://download.sourceforge.net/procps/procps-3.2.1.tar.gz
task 22 patch toast arm http://ftp.gnu.org/gnu/patch/patch-2.5.4.tar.gz
task 25 findutils toast arm findutils
task 16 sysvinit toast arm ftp://ftp.cistron.nl/pub/people/miquels/sysvinit/sysvinit-2.85.tar.gz
task 8 sysklogd toast arm http://www.infodrom.org/projects/sysklogd/download/sysklogd-1.4.1.tar.gz
task 1871 linux toast arm [ http://kernel.org/pub/linux/kernel/v2.6/linux-2.6.5.tar.bz2 http://toastball.net/toast-linux-tmp/linux-2.6.5-config.tar.gz ]
task 22 device-mapper toast arm http://mirrors.kernel.org/sources.redhat.com/dm/device-mapper.1.00.17.tgz
task 84 lvm2 toast arm http://mirrors.kernel.org/sources.redhat.com/lvm2/LVM2.2.00.15.tgz
task 16 bin86 toast arm http://www.cix.co.uk/~mayday/dev86/bin86-0.16.15.tar.gz
task 64 nasm toast arm http://download.sourceforge.net/nasm/nasm-0.98.38.tar.bz2
task 27 lilo toast arm lilo/22.5.8+devmapper: [ http://home.san.rr.com/johninsd/pub/linux/lilo/obsolete/lilo-22.5.8.tar.gz http://www.saout.de/misc/lilo-22.5.8-devmapper.patch ]
task 327 e2fsprogs toast arm http://download.sourceforge.net/e2fsprogs/e2fsprogs-1.34.tar.gz
task 7 devfsd toast arm http://kernel.org/pub/linux/daemons/devfsd/devfsd-v1.3.25.tar.bz2
task 6 genext2fs toast arm genext2fs/1.3-4: [ http://http.us.debian.org/debian/pool/main/g/genext2fs/genext2fs_1.3.orig.tar.gz http://http.us.debian.org/debian/pool/main/g/genext2fs/genext2fs_1.3-4.diff.gz ]
task 18 toastinit toast arm http://toastball.net/toast-linux-tmp/toastinit-1.17.tar.gz
task 1 toastlogin toast arm http://toastball.net/toast-linux-tmp/toastlogin-1.9.tar.gz
task 4 iana-etc toast arm http://www.sethwklein.net/projects/iana-etc/downloads/iana-etc-0.99.tar.bz2
task 238 zsh toast arm http://archive.progeny.com/zsh/zsh-4.2.0.tar.bz2
task 34 net-tools toast arm http://www.tazenda.demon.co.uk/phil/net-tools/net-tools-1.60.tar.bz2
task 20 dhcpcd toast arm http://www.phystech.com/ftp/dhcpcd-1.3.22-pl4.tar.gz
d2052 3
a2054 22
task 17 zlib toast arm http://www.libpng.org/pub/png/src/zlib-1.2.1.tar.gz
task 192 vim toast arm ftp://ftp.vim.org/pub/vim/unix/vim-6.2.tar.bz2
task 131 inetutils toast arm http://ftp.gnu.org/gnu/inetutils/inetutils-1.4.2.tar.gz
task 50 less toast arm http://www.greenwoodsoftware.com/less/less-381.tar.gz
task 98 parted toast arm http://ftp.gnu.org/gnu/parted/parted-1.6.6.tar.gz
task 500 openssl sh -c 'toast arm http://www.openssl.org/source/openssl-0.9.7d.tar.gz && toast rebuild wget'
task 192 openssh toast arm http://ftp.lug.udel.edu/pub/OpenBSD/OpenSSH/portable/openssh-3.8.1p1.tar.gz
task 221 groff toast arm http://ftp.gnu.org/gnu/groff/groff-1.19.tar.gz
task 13 man toast arm http://kernel.org/pub/linux/utils/man/man-1.5m2.tar.bz2
task 30 man-pages toast arm http://kernel.org/pub/linux/docs/manpages/man-pages-1.65.tar.bz2
task 93 texinfo toast arm http://ftp.gnu.org/gnu/texinfo/texinfo-4.6.tar.gz
task 172 cpio toast arm http://ftp.gnu.org/gnu/cpio/cpio-2.5.tar.gz
task 14 hdparm toast arm http://www.ibiblio.org/pub/Linux/system/hardware/hdparm-5.5.tar.gz
task 21 m4 toast arm http://ftp.gnu.org/gnu/m4/m4-1.4.tar.gz
task 76 bison toast arm http://ftp.gnu.org/gnu/bison/bison-1.875.tar.bz2
task 389 flex toast arm http://download.sourceforge.net/sourceforge/lex/flex-2.5.27.tar.bz2 # flex 2.5.31 is broken and can't build XFree86 4.4.0, for instance
task 22 autoconf toast arm http://ftp.gnu.org/gnu/autoconf/autoconf-2.59.tar.gz
task 19 automake toast arm http://ftp.gnu.org/gnu/automake/automake-1.8.2.tar.gz
task 57 file toast arm ftp://ftp.astron.com/pub/file/file-4.07.tar.gz
task 76 libtool toast arm http://ftp.gnu.org/gnu/libtool/libtool-1.5.2.tar.gz
task 38 kbd toast arm ftp://ftp.win.tue.nl/pub/linux-local/utils/kbd/kbd-1.12.tar.gz
task 19 ed toast arm http://ftp.gnu.org/gnu/ed/ed-0.2.tar.gz
d2058 3
a2060 54
task 0 tetex toast arm http://tug.ctan.org/tex-archive/systems/unix/teTeX/current/distrib/tetex-src-2.0.2.tar.gz
task 0 python toast arm http://www.python.org/ftp/python/2.3.3/Python-2.3.3.tar.bz2
task 0 db toast arm http://www.sleepycat.com/update/snapshot/db-4.2.52.tar.gz
task 0 gdbm toast arm http://ftp.gnu.org/gnu/gdbm/gdbm-1.8.3.tar.gz
task 0 bind toast arm ftp://ftp.isc.org/isc/bind9/9.2.3/bind-9.2.3.tar.gz
task 0 autofs toast arm http://kernel.org/pub/linux/daemons/autofs/v4/autofs-4.1.2.tar.bz2
task 0 curl toast arm http://curl.haxx.se/download/curl-7.11.1.tar.bz2
task 0 figlet toast arm ftp://ftp.figlet.org/pub/figlet/program/unix/figlet221.tar.gz
task 0 file toast arm ftp://ftp.gw.com/mirrors/pub/unix/file/file-4.09.tar.gz
task 0 adns toast arm ftp://ftp.chiark.greenend.org.uk/users/ian/adns/adns-1.1.tar.gz
task 0 gc toast arm http://www.hpl.hp.com/personal/Hans_Boehm/gc/gc_source/gc6.2.tar.gz
task 0 gale sh -c 'LDFLAGS=-ldl toast arm http://download.ofb.net/gale/gale-0.99fruit.tar.bz2'
task 0 genromfs toast arm http://download.sourceforge.net/romfs/genromfs-0.5.1.tar.gz
task 0 gmp toast arm http://ftp.gnu.org/gnu/gmp/gmp-4.1.2.tar.bz2
task 0 httpd toast arm http://www.apache.org/dist/httpd/httpd-2.0.49.tar.gz
task 0 ltrace toast arm http://http.us.debian.org/debian/pool/main/l/ltrace/ltrace_0.3.32.tar.gz
task 0 strace toast arm http://download.sourceforge.net/strace/strace-4.4.98.tar.bz2
task 0 minicom toast arm http://alioth.debian.org/download.php/123/minicom-2.1.tar.gz
task 0 bc toast arm http://ftp.gnu.org/gnu/bc/bc-1.06.tar.gz
task 0 miscfiles toast arm http://ftp.gnu.org/gnu/miscfiles/miscfiles-1.3.tar.gz
task 0 mtools toast arm http://mtools.linux.lu/mtools-3.9.9.tar.bz2
task 0 mtr toast arm ftp://ftp.bitwizard.nl/mtr/mtr-0.58.tar.gz
task 0 gnupg toast arm ftp://ftp.gnupg.org/gcrypt/gnupg/gnupg-1.2.4.tar.bz2
task 0 mutt toast arm ftp://ftp.mutt.org/mutt/mutt-1.4.1i.tar.gz
task 0 nmap toast arm http://download.insecure.org/nmap/dist/nmap-3.50.tar.bz2
task 0 ntp toast arm http://www.eecis.udel.edu/~ntp/ntp_spool/ntp4/ntp-4.2.0.tar.gz
task 0 ocaml toast arm http://caml.inria.fr/distrib/ocaml-3.06/ocaml-3.06.tar.gz
# task 0 unison toast arm http://www.cis.upenn.edu/~bcpierce/unison/download/stable/latest/src.tar.gz
task 0 pciutils toast arm http://kernel.org/pub/software/utils/pciutils/pciutils-2.1.11.tar.bz2
task 0 postfix toast arm http://mirrors.isc.org/pub/postfix/official/postfix-2.0.19.tar.gz
task 0 procmail toast arm http://www.procmail.org/procmail-3.22.tar.gz
task 0 proftpd toast arm ftp://ftp.proftpd.org/distrib/source/proftpd-1.2.9.tar.bz2
task 0 rcs toast arm http://www.cs.purdue.edu/homes/trinkle/RCS/rcs-5.7.tar.Z
task 0 samba toast arm samba # http://us1.samba.org/samba/ftp/samba-3.0.4.tar.bz2
task 0 smartsuite toast arm http://download.sourceforge.net/smartsuite/smartsuite-2.1.tar.gz
# task 0 syslinux toast arm http://kernel.org/pub/linux/utils/boot/syslinux/syslinux-2.08.tar.bz2
# task 0 units toast arm http://ftp.gnu.org/gnu/units/units-1.80.tar.gz
task 0 valgrind toast arm http://developer.kde.org/~sewardj/valgrind-2.0.0.tar.bz2
task 0 zip toast arm ftp://ftp.info-zip.org/pub/infozip/src/zip23.tar.gz
task 0 unzip toast arm unzip # ftp://ftp.info-zip.org/pub/infozip/src/unzip551.tar.gz
task 0 popt toast arm ftp://ftp.rpm.org/pub/rpm/dist/rpm-4.1.x/popt-1.7.tar.gz
task 0 pcre toast arm ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-4.5.tar.bz2
# task 0 cvs toast arm http://www.cvshome.org/files/19/10/cvs-1.12.7.tar.bz2
task 0 subversion toast arm http://subversion.tigris.org/tarballs/subversion-1.0.1.tar.bz2
task 0 cdrtools toast arm ftp://ftp.berlios.de/pub/cdrecord/cdrtools-2.00.3.tar.gz
task 0 libogg toast arm http://www.vorbis.com/files/1.0.1/unix/libogg-1.1.tar.gz
task 0 libvorbis toast arm http://www.vorbis.com/files/1.0.1/unix/libvorbis-1.0.1.tar.gz
task 0 lame toast arm http://download.sourceforge.net/lame/lame-3.96.tar.gz
task 0 jpeg toast arm ftp://ftp.uu.net/graphics/jpeg/jpegsrc.v6b.tar.gz
task 0 libpng toast arm http://download.sourceforge.net/png-mng/libpng-1.2.5.tar.bz2
task 0 tiff toast arm ftp://ftp.remotesensing.org/pub/libtiff/tiff-v3.6.1.tar.gz
# task 0 libmng toast arm http://download.sourceforge.net/libmng/libmng-1.0.6.tar.gz
task 0 netpbm toast arm http://download.sourceforge.net/netpbm/netpbm-10.19.tgz
# task 0 ghostscript toast arm [ http://download.sourceforge.net/ghostscript/ghostscript-8.14.tar.gz http://download.sourceforge.net/gs-fonts/ghostscript-fonts-std-8.11.tar.gz ] # what happened here? shouldn't fonts be 8.14 too?
d2064 10
a2073 135
task 0 XFree86 toast arm [ http://ftp.xfree86.org/pub/XFree86/4.4.0/source/XFree86-4.4.0-src-1.tgz http://ftp.xfree86.org/pub/XFree86/4.4.0/source/XFree86-4.4.0-src-2.tgz http://ftp.xfree86.org/pub/XFree86/4.4.0/source/XFree86-4.4.0-src-3.tgz http://ftp.xfree86.org/pub/XFree86/4.4.0/source/XFree86-4.4.0-src-4.tgz http://ftp.xfree86.org/pub/XFree86/4.4.0/source/XFree86-4.4.0-src-5.tgz http://ftp.xfree86.org/pub/XFree86/4.4.0/source/XFree86-4.4.0-src-6.tgz http://ftp.xfree86.org/pub/XFree86/4.4.0/source/XFree86-4.4.0-src-7.tgz ]
task 0 doctools toast arm http://ftp.xfree86.org/pub/XFree86/4.4.0/source/doctools-1.3.2.tgz
task 0 fvwm toast arm fvwm
task 0 lua toast arm lua
task 0 ion toast arm ion
task 0 xscreensaver toast arm xscreensaver
task 0 xdaliclock toast arm xdaliclock
task 0 alsa-lib toast arm http://www.alsa-project.org/alsa/ftp/lib/alsa-lib-1.0.3a.tar.bz2
# task 0 alsa-tools toast arm http://www.alsa-project.org/alsa/ftp/tools/alsa-tools-1.0.3.tar.bz2
task 0 alsa-utils toast arm http://www.alsa-project.org/alsa/ftp/utils/alsa-utils-1.0.3.tar.bz2
task 0 freetype toast arm http://download.sourceforge.net/freetype/freetype-2.1.5.tar.bz2 # 2.1.7 seems to cause include problems with xft 2.1.2 later on
task 0 fam toast arm ftp://oss.sgi.com/projects/fam/download/fam-2.6.10.tar.gz
# task 0 t1lib toast arm ftp://ftp.foolabs.com/pub/xpdf/t1lib-1.3.tar.gz
task 0 xpdf toast arm ftp://ftp.foolabs.com/pub/xpdf/xpdf-3.00.tar.gz
task 0 lesstif toast arm http://download.sourceforge.net/lesstif/lesstif-0.93.94.tar.bz2
task 0 sdl toast arm http://www.libsdl.org/release/SDL-1.2.7.tar.gz
task 0 xine-lib toast arm http://download.sourceforge.net/xine/xine-lib-1-rc3c.tar.gz
task 0 xine-ui toast arm http://download.sourceforge.net/xine/xine-ui-0.99.1.tar.gz
task 0 cdparanoia toast arm http://www.xiph.org/paranoia/download/cdparanoia-III-alpha9.8.src.tgz
task 0 pkgconfig toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/pkgconfig-0.15.0.tar.bz2
task 0 audiofile toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/audiofile-0.2.6.tar.bz2
task 0 libxml2 toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libxml2-2.6.9.tar.bz2
task 0 libxslt toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libxslt-1.1.6.tar.bz2
task 0 toast-markup toast arm http://toastball.net/toast-linux-tmp/toast-markup-1.5.tar.gz
task 0 gtk-doc toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gtk-doc-1.2.tar.bz2
task 0 glib toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/glib-2.4.2.tar.bz2
task 0 libIDL toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libIDL-0.8.3.tar.bz2
task 0 ORBit2 toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/ORBit2-2.10.2.tar.bz2
task 0 XML-Parser toast arm http://search.cpan.org/CPAN/authors/id/M/MS/MSERGEANT/XML-Parser-2.34.tar.gz
task 0 intltool toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/intltool-0.31.tar.bz2
task 0 libbonobo toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libbonobo-2.6.2.tar.bz2
task 0 fontconfig toast arm http://freedesktop.org/~fontconfig/release/fontconfig-2.2.93.tar.gz
task 0 render toast arm http://freedesktop.org/~xlibs/release/render-0.8.tar.gz
task 0 xrender toast arm http://freedesktop.org/~xlibs/release/xrender-0.8.3.tar.gz
task 0 xft toast arm http://freedesktop.org/~fontconfig/release/xft-2.1.2.tar.gz
task 0 pango toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/pango-1.4.0.tar.bz2
task 0 atk toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/atk-1.6.1.tar.bz2
task 0 shared-mime-data toast arm http://freedesktop.org/Software/shared-mime-info/shared-mime-info-0.14.tar.gz
RUN_QUERY_LOADER_TEST=true task 0 gtk+ toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gtk+-2.4.3.tar.bz2
task 0 mozilla toast arm http://ftp.mozilla.org/pub/mozilla.org/mozilla/releases/mozilla1.6/src/mozilla-source-1.6.tar.bz2
task 0 GConf toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/GConf-2.6.2.tar.bz2
task 0 gnome-mime-data toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-mime-data-2.4.1.tar.bz2
task 0 gnome-vfs toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-vfs-2.6.1.tar.bz2
task 0 esound toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/esound-0.2.34.tar.bz2
task 0 libgnome toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libgnome-2.6.1.1.tar.bz2
task 0 libart toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libart_lgpl-2.3.16.tar.bz2
task 0 libglade toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libglade-2.3.6.tar.bz2
task 0 libgnomecanvas toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libgnomecanvas-2.6.1.1.tar.bz2
task 0 libbonoboui toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libbonoboui-2.6.1.tar.bz2
task 0 hicolor-icon-theme toast arm http://freedesktop.org/Software/icon-theme/releases/hicolor-icon-theme-0.5.tar.gz
task 0 gnome-icon-theme toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-icon-theme-1.2.3.tar.bz2
task 0 gnome-keyring toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-keyring-0.2.1.tar.bz2
task 0 libgnomeui toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libgnomeui-2.6.1.1.tar.bz2
task 0 startup-notification toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/startup-notification-0.5.tar.bz2
task 0 gtk-engines toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gtk-engines-2.2.0.tar.bz2
task 0 gnome-themes toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-themes-2.6.2.tar.bz2
task 0 scrollkeeper toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/scrollkeeper-0.3.14.tar.bz2
task 0 gnome-desktop toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-desktop-2.6.2.tar.bz2
task 0 libwnck toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libwnck-2.6.2.tar.bz2
task 0 gnome-panel toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-panel-2.6.2.tar.bz2
task 0 gnome-session toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-session-2.6.2.tar.bz2
task 0 vte toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/vte-0.11.11.tar.bz2
task 0 gnome-terminal toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-terminal-2.6.1.tar.bz2
task 0 libgtop toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libgtop-2.6.0.tar.bz2
task 0 gail toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gail-1.6.6.tar.bz2
task 0 gnome-applets toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-applets-2.6.2.tar.bz2
task 0 metacity toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/metacity-2.8.1.tar.bz2
task 0 libgsf toast arm http://ftp.gnome.org/pub/GNOME/sources/libgsf/1.8/libgsf-1.8.2.tar.bz2
task 0 libcroco toast arm http://ftp.gnome.org/pub/GNOME/sources/libcroco/0.5/libcroco-0.5.0.tar.bz2
task 0 librsvg toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/librsvg-2.6.5.tar.bz2
task 0 eel toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/eel-2.6.2.tar.bz2
task 0 nautilus toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/nautilus-2.6.3.tar.bz2
task 0 control-center toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/control-center-2.6.1.tar.bz2
task 0 libgtkhtml toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libgtkhtml-2.6.2.tar.bz2
task 0 yelp toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/yelp-2.6.1.tar.bz2
task 0 bug-buddy toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/bug-buddy-2.6.1.tar.bz2
task 0 libgnomeprint toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libgnomeprint-2.6.2.tar.bz2
task 0 libgnomeprintui toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libgnomeprintui-2.6.2.tar.bz2
task 0 gtksourceview toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gtksourceview-1.0.1.tar.bz2
task 0 gedit toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gedit-2.6.2.tar.bz2
task 0 eog toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/eog-2.6.1.tar.bz2
task 0 ggv toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/ggv-2.6.1.tar.bz2
task 0 file-roller toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/file-roller-2.6.1.tar.bz2
task 0 gconf-editor toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gconf-editor-2.6.2.tar.bz2
task 0 gnome-utils toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-utils-2.6.2.tar.bz2
task 0 gal toast arm http://ftp.gnome.org/pub/GNOME/sources/gal/2.1/gal-2.1.7.tar.bz2
task 0 gnome-system-monitor toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-system-monitor-2.6.0.tar.bz2
task 0 gstreamer toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gstreamer-0.8.3.tar.bz2
task 0 gst-plugins toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gst-plugins-0.8.1.tar.bz2
task 0 gnome-media toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-media-2.6.2.tar.bz2
task 0 gnome-netstatus toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-netstatus-2.6.2.tar.bz2
task 0 gcalctool toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gcalctool-4.3.51.tar.bz2
task 0 gpdf toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gpdf-0.132.tar.bz2
task 0 gucharmap toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gucharmap-1.4.1.tar.bz2
task 0 nautilus-cd-burner toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/nautilus-cd-burner-2.6.1.tar.bz2
task 0 zenity toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/zenity-2.6.2.tar.bz2
task 0 gnome-speech toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-speech-0.3.3.tar.bz2
task 0 at-spi toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/at-spi-1.4.2.tar.bz2
task 0 gnome-mag toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-mag-0.10.11.tar.bz2
task 0 gnopernicus toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnopernicus-0.8.4.tar.bz2
task 0 gok toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gok-0.10.2.tar.bz2
task 0 epiphany toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/epiphany-1.2.6.tar.bz2
task 0 gnomemeeting toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnomemeeting-1.0.2.tar.bz2
task 0 gnome-games toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome-games-2.6.2.tar.bz2
task 0 gnome2-user-docs toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gnome2-user-docs-2.6.0.1.tar.bz2
task 0 dasher toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/dasher-3.2.10.tar.bz2
task 0 gdm toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/gdm-2.6.0.3.tar.bz2
task 0 libgail-gnome toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libgail-gnome-1.0.4.tar.bz2
task 0 libxklavier toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/libxklavier-1.02.tar.bz2
task 0 nautilus-media toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.2/sources/nautilus-media-0.8.0.tar.bz2
task 0 qt toast arm http://ftp.silug.org/mirrors/ftp.trolltech.com/qt/source/qt-x11-free-3.3.1.tar.bz2
task 0 arts toast arm http://download.kde.org/stable/3.2.1/src/arts-1.2.1.tar.bz2
task 0 kdelibs toast arm http://download.kde.org/stable/3.2.1/src/kdelibs-3.2.1.tar.bz2
task 0 kdebase toast arm http://download.kde.org/stable/3.2.1/src/kdebase-3.2.1.tar.bz2
task 0 kde-i18n toast arm http://download.kde.org/stable/3.2.1/src/kde-i18n-3.2.1.tar.bz2
task 0 kdeaccessibility toast arm http://download.kde.org/stable/3.2.1/src/kdeaccessibility-3.2.1.tar.bz2
task 0 kdeadmin toast arm http://download.kde.org/stable/3.2.1/src/kdeadmin-3.2.1.tar.bz2
task 0 kdeartwork toast arm http://download.kde.org/stable/3.2.1/src/kdeartwork-3.2.1.tar.bz2
task 0 kdebindings toast arm http://download.kde.org/stable/3.2.1/src/kdebindings-3.2.1.tar.bz2
task 0 kdeedu toast arm http://download.kde.org/stable/3.2.1/src/kdeedu-3.2.1.tar.bz2
task 0 kdegames toast arm http://download.kde.org/stable/3.2.1/src/kdegames-3.2.1.tar.bz2
task 0 kdegraphics toast arm http://download.kde.org/stable/3.2.1/src/kdegraphics-3.2.1.tar.bz2
task 0 kdemultimedia toast arm http://download.kde.org/stable/3.2.1/src/kdemultimedia-3.2.1.tar.bz2
task 0 kdenetwork toast arm http://download.kde.org/stable/3.2.1/src/kdenetwork-3.2.1.tar.bz2
task 0 kdepim toast arm http://download.kde.org/stable/3.2.1/src/kdepim-3.2.1.tar.bz2
task 0 kdesdk toast arm http://download.kde.org/stable/3.2.1/src/kdesdk-3.2.1.tar.bz2
task 0 kdetoys toast arm http://download.kde.org/stable/3.2.1/src/kdetoys-3.2.1.tar.bz2
task 0 kdeutils toast arm http://download.kde.org/stable/3.2.1/src/kdeutils-3.2.1.tar.bz2
task 0 kdevelop toast arm http://download.kde.org/stable/3.2.1/src/kdevelop-3.0.2.tar.bz2
task 0 quanta toast arm http://download.kde.org/stable/3.2.1/src/quanta-3.2.1.tar.bz2
task 0 kdeaddons toast arm http://download.kde.org/stable/3.2.1/src/kdeaddons-3.2.1.tar.bz2
task 0 firefox toast arm http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/0.8/firefox-source-0.8.tar.bz2
task 0 xmms toast arm http://www.xmms.org/files/1.2.x/xmms-1.2.10.tar.bz2
task 0 gimp toast arm gimp
task 0 gkrellm toast arm gkrellm
@


1.95
log
@LFS took down their patch for findutils 4.1; find something more recent
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.94 2004/07/16 17:27:11 zaphod Exp zaphod $;
d1742 1
d1745 1
a1745 1
    echo "Error locating Debian package $1/$2." >&2
@


1.94
log
@fix utoastdeb again; try to convince vi to use the whole screen
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.93 2004/07/16 05:02:50 zaphod Exp zaphod $;
d1804 1
a1804 1
task 25 findutils toast arm [ http://ftp.gnu.org/gnu/findutils/findutils-4.1.tar.gz http://downloads.linuxfromscratch.org/findutils-4.1.patch ]
@


1.93
log
@maybe this version of utoastdeb will actually work
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.92 2004/07/15 06:16:10 zaphod Exp zaphod $;
d1747 1
a1747 1
  urls="$urls $url_base$filename"
d1753 2
a1754 2
deb g/gcc-3.3 gcc-3.3_3.3.3
deb g/gcc-3.3 cpp-3.3_3.3.3
d3130 1
a3130 1
# CONFIG_FEATURE_VI_WIN_RESIZE is not set
@


1.92
log
@whoops
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.91 2004/07/15 00:48:15 zaphod Exp zaphod $;
d1742 1
a1742 1
  filename=`wget -O- "$url_base$1/" | cut -d'"' -f6 | grep "^$2"'_.*_i386.deb$' | tail -1`
@


1.91
log
@clean up progress display code; default to 50 lines rather than 25
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.90 2004/07/15 00:42:34 zaphod Exp zaphod $;
d1006 2
a1007 2
[ -n "$LINES" ] && LINES=50
[ -n "$COLUMNS" ] && COLUMNS=80
@


1.90
log
@untested attempt to fix hostname glitch and make Debian binaries less brittle
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.89 2004/07/12 04:50:20 zaphod Exp zaphod $;
d1006 3
d1012 1
a1012 1
  for i in `seq 1 25`; do echo; done
d1057 1
d1060 1
a1060 1
  if echo "$line" | egrep -q '.{79}'; then
d1085 1
a1085 1
let bar="$esofar*80/$etotal"
@


1.89
log
@upgrade toastinit and toastlogin so that maybe we can boot into X properly
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.88 2004/07/12 00:45:45 zaphod Exp zaphod $;
d926 1
a926 1
        hostname "$HOSTNAME"
d969 1
a969 1
      hostname "$HOSTNAME"
d1735 1
d1738 6
a1743 1
  urls="$urls http://http.us.debian.org/debian/pool/main/$1_i386.deb"
d1745 9
a1753 9
deb g/glibc/libc6_2.3.2.ds1-12
deb g/glibc/libc6-dev_2.3.2.ds1-12
deb l/linux-kernel-headers/linux-kernel-headers_2.5.999-test7-bk-15
deb b/binutils/binutils_2.14.90.0.7-8
deb g/gcc-3.3/gcc-3.3_3.3.3-9
deb g/gcc-3.3/cpp-3.3_3.3.3-9
deb p/perl/perl-base_5.8.3-3
deb n/ncurses/libncurses5_5.4-3
deb b/bash/bash_2.05b-15
@


1.88
log
@upgrade to GNOME 2.6.2; try a simpler workaround for gtk+ build problem
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.87 2004/07/11 05:04:08 zaphod Exp zaphod $;
d1806 2
a1807 2
task 18 toastinit toast arm http://toastball.net/toast-linux-tmp/toastinit-1.15.tar.gz
task 1 toastlogin toast arm http://toastball.net/toast-linux-tmp/toastlogin-1.8.tar.gz
@


1.87
log
@update linux and busybox configurations so as to use less space
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.86 2004/07/11 03:43:40 zaphod Exp zaphod $;
d1917 4
a1920 4
task 0 pkgconfig toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/pkgconfig-0.15.0.tar.bz2
task 0 audiofile toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/audiofile-0.2.5.tar.bz2
task 0 libxml2 toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/libxml2-2.6.8.tar.bz2
task 0 libxslt toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/libxslt-1.1.5.tar.bz2
d1922 4
a1925 4
task 0 gtk-doc toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gtk-doc-1.2.tar.bz2
task 0 glib toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/glib-2.4.0.tar.bz2
task 0 libIDL toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/libIDL-0.8.3.tar.bz2
task 0 ORBit2 toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/ORBit2-2.10.0.tar.bz2
d1927 2
a1928 2
task 0 intltool toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/intltool-0.30.tar.bz2
task 0 libbonobo toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/libbonobo-2.6.0.tar.bz2
d1933 2
a1934 2
task 0 pango toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/pango-1.4.0.tar.bz2
task 0 atk toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/atk-1.6.0.tar.bz2
d1936 1
a1936 1
task 0 gtk+ sh -c 'toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gtk+-2.4.0.tar.bz2 && chroot /mnt/root sh -c "( [ -d /usr/etc/gtk-2.0 ] || mkdir /usr/etc/gtk-2.0 ) && ( [ -r /usr/etc/gtk-2.0/gdk-pixbuf.loaders ] || gdk-pixbuf-query-loaders > /usr/etc/gtk-2.0/gdk-pixbuf.loaders )"' # XXX: toast needs to handle this somehow
d1938 9
a1946 9
task 0 GConf toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/GConf-2.6.0.tar.bz2
task 0 gnome-mime-data toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gnome-mime-data-2.4.1.tar.bz2
task 0 gnome-vfs toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gnome-vfs-2.6.0.tar.bz2
task 0 esound toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/esound-0.2.34.tar.bz2
task 0 libgnome toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/libgnome-2.6.0.tar.bz2
task 0 libart toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/libart_lgpl-2.3.16.tar.bz2
task 0 libglade toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/libglade-2.3.6.tar.bz2
task 0 libgnomecanvas toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/libgnomecanvas-2.6.0.tar.bz2
task 0 libbonoboui toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/libbonoboui-2.6.0.tar.bz2
d1948 17
a1964 17
task 0 gnome-icon-theme toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gnome-icon-theme-1.2.0.tar.bz2
task 0 gnome-keyring toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gnome-keyring-0.2.0.tar.bz2
task 0 libgnomeui toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/libgnomeui-2.6.0.tar.bz2
task 0 startup-notification toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/startup-notification-0.5.tar.bz2
task 0 gtk-engines toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gtk-engines-2.2.0.tar.bz2
task 0 gnome-themes toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gnome-themes-2.6.0.tar.bz2
task 0 scrollkeeper toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/scrollkeeper-0.3.14.tar.bz2
task 0 gnome-desktop toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gnome-desktop-2.6.0.1.tar.bz2
task 0 libwnck toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/libwnck-2.6.0.1.tar.bz2
task 0 gnome-panel toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gnome-panel-2.6.0.tar.bz2
task 0 gnome-session toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gnome-session-2.6.0.tar.bz2
task 0 vte toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/vte-0.11.10.tar.bz2
task 0 gnome-terminal toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gnome-terminal-2.6.0.tar.bz2
task 0 libgtop toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/libgtop-2.5.2.tar.bz2
task 0 gail toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gail-1.6.0.tar.bz2
task 0 gnome-applets toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gnome-applets-2.6.0.tar.bz2
task 0 metacity toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/metacity-2.8.0.tar.bz2
d1967 16
a1982 16
task 0 librsvg toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/librsvg-2.6.4.tar.bz2
task 0 eel toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/eel-2.6.0.tar.bz2
task 0 nautilus toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/nautilus-2.6.0.tar.bz2
task 0 control-center toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/control-center-2.6.0.3.tar.bz2
task 0 libgtkhtml toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/libgtkhtml-2.6.0.tar.bz2
task 0 yelp toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/yelp-2.6.0.tar.bz2
task 0 bug-buddy toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/bug-buddy-2.6.0.tar.bz2
task 0 libgnomeprint toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/libgnomeprint-2.6.0.tar.bz2
task 0 libgnomeprintui toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/libgnomeprintui-2.6.0.tar.bz2
task 0 gtksourceview toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gtksourceview-1.0.0.tar.bz2
task 0 gedit toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gedit-2.6.0.tar.bz2
task 0 eog toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/eog-2.6.0.tar.bz2
task 0 ggv toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/ggv-2.6.0.tar.bz2
task 0 file-roller toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/file-roller-2.6.0.tar.bz2
task 0 gconf-editor toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gconf-editor-2.6.0.tar.bz2
task 0 gnome-utils toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gnome-utils-2.6.0.tar.bz2
d1984 24
a2007 24
task 0 gnome-system-monitor toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gnome-system-monitor-2.6.0.tar.bz2
task 0 gstreamer toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gstreamer-0.8.0.tar.bz2
task 0 gst-plugins toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gst-plugins-0.8.0.tar.bz2
task 0 gnome-media toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gnome-media-2.6.0.tar.bz2
task 0 gnome-netstatus toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gnome-netstatus-2.6.0.1.tar.bz2
task 0 gcalctool toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gcalctool-4.3.51.tar.bz2
task 0 gpdf toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gpdf-0.131.tar.bz2
task 0 gucharmap toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gucharmap-1.4.1.tar.bz2
task 0 nautilus-cd-burner toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/nautilus-cd-burner-2.6.0.tar.bz2
task 0 zenity toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/zenity-2.6.0.tar.bz2
task 0 gnome-speech toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gnome-speech-0.3.2.tar.bz2
task 0 at-spi toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/at-spi-1.4.0.tar.bz2
task 0 gnome-mag toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gnome-mag-0.10.10.tar.bz2
task 0 gnopernicus toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gnopernicus-0.8.1.tar.bz2
task 0 gok toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gok-0.10.0.tar.bz2
task 0 epiphany toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/epiphany-1.2.2.tar.bz2
task 0 gnomemeeting toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gnomemeeting-1.0.1.tar.bz2
task 0 gnome-games toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gnome-games-2.6.0.1.tar.bz2
task 0 gnome2-user-docs toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gnome2-user-docs-2.6.0.1.tar.bz2
task 0 dasher toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/dasher-3.2.8.tar.bz2
task 0 gdm toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gdm-2.6.0.0.tar.bz2
task 0 libgail-gnome toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/libgail-gnome-1.0.3.tar.bz2
task 0 libxklavier toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/libxklavier-1.00.tar.bz2
task 0 nautilus-media toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/nautilus-media-0.8.0.tar.bz2
@


1.86
log
@updated versions of the software on the install disk
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.85 2004/06/23 23:41:47 zaphod Exp zaphod $;
d2068 1
d2071 1
d2083 1
d2242 1
a2242 2
CONFIG_BLK_DEV_LOOP=y
# CONFIG_BLK_DEV_CRYPTOLOOP is not set
a2261 1
# CONFIG_IDEDISK_STROKE is not set
d2308 1
a2333 1
# CONFIG_SCSI_REPORT_LUNS is not set
d2355 1
a2360 1
# CONFIG_SCSI_CPQFCTS is not set
d2373 1
a2448 2
# CONFIG_DECNET is not set
# CONFIG_BRIDGE is not set
d2456 1
d2458 1
d2479 5
d2485 5
a2494 5
# CONFIG_DUMMY is not set
# CONFIG_BONDING is not set
# CONFIG_EQUALIZER is not set
# CONFIG_TUN is not set
# CONFIG_NET_SB1000 is not set
d2535 1
a2555 1
CONFIG_8139_RXBUF_IDX=1
a2574 1
# CONFIG_SIS190 is not set
d2582 6
a2587 4
# CONFIG_FDDI is not set
# CONFIG_HIPPI is not set
# CONFIG_PPP is not set
# CONFIG_SLIP is not set
d2595 1
a2595 1
# Token Ring devices
d2597 5
a2601 1
# CONFIG_TR is not set
a2602 1
# CONFIG_RCPCI is not set
a2606 22
# Wan interfaces
#
# CONFIG_WAN is not set

#
# Amateur Radio support
#
# CONFIG_HAMRADIO is not set

#
# IrDA (infrared) support
#
# CONFIG_IRDA is not set

#
# Bluetooth support
#
# CONFIG_BT is not set
# CONFIG_NETPOLL is not set
# CONFIG_NET_POLL_CONTROLLER is not set

#
d2671 2
a2672 3
CONFIG_UNIX98_PTYS=y
CONFIG_LEGACY_PTYS=y
CONFIG_LEGACY_PTY_COUNT=256
d2786 1
a2787 1
# CONFIG_DEVPTS_FS_XATTR is not set
a2819 1
# CONFIG_INTERMEZZO_FS is not set
d2880 1
a2880 1
CONFIG_EARLY_PRINTK=y
d2883 1
d2899 1
d2901 1
d2919 1
a2919 1
CONFIG_FEATURE_DEVPTS=y
d2930 1
a2930 1
CROSS_COMPILER_PREFIX="/home/zaphod/toast/linux/toolchain/gcc-3.3.x/toolchain_i386/usr/bin/"
d2994 1
a2994 2
CONFIG_DOS2UNIX=y
CONFIG_UNIX2DOS=y
d3002 1
a3002 1
CONFIG_FOLD=y
d3018 1
a3018 1
CONFIG_FEATURE_LS_COLOR=y
d3049 1
a3049 1
CONFIG_TTY=y
d3053 2
a3054 2
CONFIG_UUDECODE=y
CONFIG_UUENCODE=y
d3064 1
a3064 1
CONFIG_FEATURE_PRESERVE_HARDLINKS=y
d3084 1
a3084 1
CONFIG_CHVT=y
d3086 2
a3087 2
CONFIG_DEALLOCVT=y
CONFIG_DUMPKMAP=y
d3090 1
a3090 1
CONFIG_OPENVT=y
d3112 10
a3121 10
CONFIG_FEATURE_VI_COLON=y
CONFIG_FEATURE_VI_YANKMARK=y
CONFIG_FEATURE_VI_SEARCH=y
CONFIG_FEATURE_VI_USE_SIGNALS=y
CONFIG_FEATURE_VI_DOT_CMD=y
CONFIG_FEATURE_VI_READONLY=y
CONFIG_FEATURE_VI_SETOPTS=y
CONFIG_FEATURE_VI_SET=y
CONFIG_FEATURE_VI_WIN_RESIZE=y
CONFIG_FEATURE_VI_OPTIMIZE_CURSOR=y
d3176 1
a3176 7
CONFIG_HDPARM=y
CONFIG_FEATURE_HDPARM_GET_IDENTITY=y
# CONFIG_FEATURE_HDPARM_HDIO_SCAN_HWIF is not set
# CONFIG_FEATURE_HDPARM_HDIO_UNREGISTER_HWIF is not set
# CONFIG_FEATURE_HDPARM_HDIO_DRIVE_RESET is not set
# CONFIG_FEATURE_HDPARM_HDIO_TRISTATE_HWIF is not set
# CONFIG_FEATURE_HDPARM_HDIO_GETSET_DMA is not set
d3181 1
a3181 1
CONFIG_TIME=y
d3187 2
a3188 6
CONFIG_INSMOD=y
# CONFIG_FEATURE_2_2_MODULES is not set
# CONFIG_FEATURE_2_4_MODULES is not set
CONFIG_FEATURE_2_6_MODULES=y
CONFIG_LSMOD=y
CONFIG_FEATURE_QUERY_MODULE_INTERFACE=y
a3190 1
CONFIG_FEATURE_CHECK_TAINTED_MODULE=y
d3196 2
a3197 2
CONFIG_ARPING=y
CONFIG_FTPGET=y
d3217 1
a3217 1
CONFIG_NC=y
d3223 1
a3223 3
CONFIG_TELNET=y
CONFIG_FEATURE_TELNET_TTYPE=y
CONFIG_FEATURE_TELNET_AUTOLOGIN=y
d3231 1
a3231 1
CONFIG_FEATURE_WGET_AUTHENTICATION=y
d3239 1
a3239 1
CONFIG_FEATURE_UDHCP_SYSLOG=y
d3245 1
a3245 1
CONFIG_FREE=y
d3247 2
a3248 2
CONFIG_KILLALL=y
CONFIG_PIDOF=y
d3252 1
a3252 1
CONFIG_UPTIME=y
d3275 1
d3301 1
a3301 1
CONFIG_DMESG=y
d3304 3
a3306 9
CONFIG_FDFORMAT=y
CONFIG_FDISK=y
CONFIG_FEATURE_FDISK_WRITABLE=y
# CONFIG_FEATURE_AIX_LABEL is not set
# CONFIG_FEATURE_SGI_LABEL is not set
# CONFIG_FEATURE_SUN_LABEL is not set
# CONFIG_FEATURE_OSF_LABEL is not set
# CONFIG_FEATURE_FDISK_ADVANCED is not set
CONFIG_FREERAMDISK=y
d3311 2
a3312 3
CONFIG_HWCLOCK=y
CONFIG_FEATURE_HWCLOCK_LONGOPTIONS=y
CONFIG_LOSETUP=y
d3314 1
a3314 2
CONFIG_MORE=y
CONFIG_FEATURE_USE_TERMIOS=y
d3316 1
a3316 1
CONFIG_RDATE=y
d3326 1
a3326 1
CONFIG_FEATURE_MOUNT_LOOP=y
@


1.85
log
@I ran into some kind of ridiculous nonsense trying to download CVS;
upgraded toast-markup, which now includes sgml-common + opensp + openjade
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.84 2004/06/01 20:35:05 zaphod Exp zaphod $;
d132 1
a132 1
LINUX_VERSION = 2.6.5
d134 5
a138 5
E2FSPROGS_VERSION = 1.34
NTFSPROGS_VERSION = 1.8.5
PARTED_VERSION = 1.6.6
DEVMAP_VERSION = 1.00.17
LVM2_VERSION = 2.00.15
d140 1
a140 1
GENEXT2FS_PATCHLEVEL = 4
d142 1
a142 1
SYSLINUX_VERSION = 2.08
@


1.84
log
@upgrade debian gcc/binutils, again
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.83 2004/06/01 01:05:08 zaphod Exp zaphod $;
d1135 1
a1135 1
for i in inittab rc devfsd.conf protocols services rpc fdprm xml; do
d1883 1
a1883 1
task 0 cvs toast arm http://www.cvshome.org/files/19/10/cvs-1.12.7.tar.bz2
d1921 1
a1921 4
task 0 sgml-common toast arm http://gd.tuwien.ac.at/hci/kde/devel/docbook/SOURCES/sgml-common-0.6.3.tgz
task 0 opensp toast arm http://download.sourceforge.net/openjade/OpenSP-1.5.1.tar.gz
task 0 openjade toast arm http://download.sourceforge.net/openjade/openjade-1.3.2.tar.gz
task 0 toast-markup toast arm http://toastball.net/toast-linux-tmp/toast-markup-1.2.tar.gz
@


1.83
log
@upgrade toast; maybe sgml-common will build now!
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.82 2004/05/28 01:02:50 zaphod Exp zaphod $;
d1742 3
a1744 3
deb b/binutils/binutils_2.14.90.0.7-6
deb g/gcc-3.3/gcc-3.3_3.3.3-6
deb g/gcc-3.3/cpp-3.3_3.3.3-6
@


1.82
log
@try to work around problems encountered during latest trial run
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.81 2004/05/26 01:51:43 zaphod Exp zaphod $;
d1761 1
a1761 1
task 4 toast utoast toast 1.328 http://toastball.net/toast/toast-1.328.tar.gz
@


1.81
log
@a few package URLs are broken: just look for latest version;
ghostscript didn't build, look at it later
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.80 2004/05/24 19:54:56 zaphod Exp zaphod $;
d460 5
a1909 1
task 0 xmms toast arm http://www.xmms.org/files/1.2.x/xmms-1.2.10.tar.bz2
d1921 1
a1921 1
task 0 sgml-common http://gd.tuwien.ac.at/hci/kde/devel/docbook/SOURCES/sgml-common-0.6.3.tgz
d1939 1
a1939 1
task 0 gtk+ sh -c 'toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gtk+-2.4.0.tar.bz2 && { [ -d /usr/etc/gtk-2.0 ] || mkdir /usr/etc/gtk-2.0 } && { [ -r /usr/etc/gtk-2.0/gdk-pixbuf.loaders ] || gdk-pixbuf-query-loaders > /usr/etc/gtk-2.0/gdk-pixbuf.loaders }' # XXX: toast needs to handle this somehow
d2033 1
@


1.80
log
@default to vga=ext EXTRAS=X
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.79 2004/05/24 19:53:16 zaphod Exp zaphod $;
d1787 1
a1787 1
task 37 procps toast arm http://download.sourceforge.net/procps/procps-3.1.15.tar.gz
d1869 1
a1869 1
task 0 samba toast arm http://us1.samba.org/samba/ftp/samba-3.0.3.tar.bz2
d1875 1
a1875 1
task 0 unzip toast arm ftp://ftp.info-zip.org/pub/infozip/src/unzip550.tar.gz
d1889 1
a1889 1
task 0 ghostscript toast arm [ http://download.sourceforge.net/ghostscript/ghostscript-8.14.tar.gz http://download.sourceforge.net/gs-fonts/ghostscript-fonts-std-8.11.tar.gz ]
@


1.79
log
@upgrade debian bash
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.78 2004/05/24 19:37:23 zaphod Exp zaphod $;
d651 1
a651 1
append initrd=initrd root=/dev/ram0 rw
d1834 1
a1834 1
[ -z "$EXTRAS" ] && exit 0
d1891 1
a1891 1
[ "$EXTRAS" = "X" ] || exit 0
@


1.78
log
@update debian glibc
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.77 2004/05/24 03:40:41 zaphod Exp zaphod $;
d1742 1
a1742 1
deb b/bash/bash_2.05b-14
@


1.77
log
@try to get SGML stuff installed
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.76 2004/05/13 22:33:17 zaphod Exp zaphod $;
d1734 2
a1735 2
deb g/glibc/libc6_2.3.2.ds1-11
deb g/glibc/libc6-dev_2.3.2.ds1-11
@


1.76
log
@try to fix various problems encountered while doing a full install
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.75 2004/05/06 00:21:01 zaphod Exp zaphod $;
d1917 1
d1920 1
a1920 1
task 0 toastxml toast arm http://toastball.net/toast-linux-tmp/toastxml-1.3.tar.gz
@


1.75
log
@downgrade flex to fix XFree86
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.74 2004/05/06 00:11:23 zaphod Exp zaphod $;
d1130 1
a1130 1
for i in inittab rc devfsd.conf protocols services rpc fdprm; do
d1756 1
a1756 1
task 4 toast utoast toast 1.327 http://toastball.net/toast/toast-1.327.tar.gz
d1816 1
a1816 1
task 440 openssl toast arm http://www.openssl.org/source/openssl-0.9.7d.tar.gz
d1836 1
a1894 1
task 0 utils toast arm http://ftp.xfree86.org/pub/XFree86/4.4.0/source/utils-1.1.2.tgz
d1896 1
d1900 4
a1903 4
task 0 alsa-lib toast arm alsa-lib
task 0 alsa-tools toast arm alsa-tools
task 0 alsa-utils toast arm alsa-utils
task 0 freetype toast arm http://download.sourceforge.net/freetype/freetype-2.1.7.tar.bz2
d1906 1
a1906 1
task 0 t1lib toast arm ftp://ftp.foolabs.com/pub/xpdf/t1lib-1.3.tar.gz
d1917 3
d1924 1
d1928 2
a1929 2
# Render (?)
# Xrender (?)
d1934 1
a1934 1
task 0 gtk+ toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/gtk+-2.4.0.tar.bz2
d1952 1
a1954 1
task 0 scrollkeeper toast arm http://ftp.gnome.org/pub/GNOME/desktop/2.6/2.6.0/sources/scrollkeeper-0.3.14.tar.bz2
@


1.74
log
@tweak installed /etc/fstab; add /etc/filesystems;
normalize all sourceforge.net download URLs
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.73 2004/05/05 01:50:35 zaphod Exp zaphod $;
d1826 1
a1826 1
task 389 flex toast arm http://download.sourceforge.net/sourceforge/lex/flex-2.5.31.tar.bz2
@


1.73
log
@upgrade toast to get shared openssl needed by... something;
netpbm needs some libraries; other things are broken; disable proxy
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.72 2004/05/04 20:56:05 zaphod Exp zaphod $;
d175 2
a176 2
E2FSPROGS_URL = http://unc.dl.sourceforge.net/sourceforge/e2fsprogs/$(E2FSPROGS_ARCHIVE)
NTFSPROGS_URL = http://unc.dl.sourceforge.net/sourceforge/linux-ntfs/$(NTFSPROGS_ARCHIVE)
d787 5
a791 5
proc            /proc           proc    rw                              0 0
sys             /sys            sysfs   rw                              0 0
dev             /dev            devfs   rw                              0 0
devpts          /dev/pts        devpts  rw                              0 0
/dev/fd0        /mnt/floppy     vfat    rw,noauto,sync                  0 0
d799 4
d1787 1
a1787 1
task 37 procps toast arm http://procps.sourceforge.net/procps-3.1.15.tar.gz
d1796 1
a1796 1
task 64 nasm toast arm http://unc.dl.sourceforge.net/sourceforge/nasm/nasm-0.98.38.tar.bz2
d1798 1
a1798 1
task 327 e2fsprogs toast arm http://unc.dl.sourceforge.net/sourceforge/e2fsprogs/e2fsprogs-1.34.tar.gz
d1826 1
a1826 1
task 389 flex toast arm http://unc.dl.sourceforge.net/sourceforge/lex/flex-2.5.31.tar.bz2
d1847 1
a1847 1
task 0 genromfs toast arm http://unc.dl.sourceforge.net/sourceforge/romfs/genromfs-0.5.1.tar.gz
d1851 1
a1851 1
task 0 strace toast arm http://prdownloads.sourceforge.net/strace/strace-4.4.98.tar.bz2
d1869 1
a1869 1
task 0 smartsuite toast arm http://prdownloads.sourceforge.net/smartsuite/smartsuite-2.1.tar.gz
d1882 1
a1882 1
task 0 lame toast arm http://prdownloads.sourceforge.net/lame/lame-3.96.tar.gz
d1884 1
a1884 1
task 0 libpng toast arm http://prdownloads.sourceforge.net/png-mng/libpng-1.2.5.tar.bz2
d1886 1
a1886 1
# task 0 libmng toast arm http://prdownloads.sourceforge.net/libmng/libmng-1.0.6.tar.gz
d1888 1
a1888 1
task 0 ghostscript toast arm [ http://prdownloads.sourceforge.net/ghostscript/ghostscript-8.14.tar.gz http://prdownloads.sourceforge.net/gs-fonts/ghostscript-fonts-std-8.11.tar.gz ]
d1902 1
a1902 1
task 0 freetype toast arm http://prdownloads.sourceforge.net/freetype/freetype-2.1.7.tar.bz2
d1907 1
a1907 1
task 0 lesstif toast arm http://prdownloads.sourceforge.net/lesstif/lesstif-0.93.94.tar.bz2
d1909 2
a1910 2
task 0 xine-lib toast arm http://prdownloads.sourceforge.net/xine/xine-lib-1-rc3c.tar.gz
task 0 xine-ui toast arm http://prdownloads.sourceforge.net/xine/xine-ui-0.99.1.tar.gz
@


1.72
log
@figlet needs the latest toast; gale still needs funny LDFLAGS;
mutt wants /var/spool/mail to exist
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.71 2004/05/04 18:28:08 zaphod Exp zaphod $;
a1743 4
# XXX use local squid proxy to reduce bandwidth consumption for testing:
export http_proxy=http://cli-03:3128/
export ftp_proxy=http://cli-03:3128/

d1752 1
a1752 1
task 4 toast utoast toast 1.326 http://toastball.net/toast/toast-1.326.tar.gz
a1854 1
task 0 netpbm toast arm http://download.sourceforge.net/netpbm/netpbm-10.19.tgz
d1858 1
a1858 1
task 0 unison toast arm http://www.cis.upenn.edu/~bcpierce/unison/download/stable/latest/src.tar.gz
d1864 1
a1864 1
task 0 samba toast arm http://us1.samba.org/samba/ftp/samba-3.0.2a.tar.bz2
d1866 2
a1867 2
task 0 syslinux toast arm http://kernel.org/pub/linux/utils/boot/syslinux/syslinux-2.08.tar.bz2
task 0 units toast arm http://ftp.gnu.org/gnu/units/units-1.80.tar.gz
d1882 2
a1883 1
task 0 libmng toast arm http://prdownloads.sourceforge.net/libmng/libmng-1.0.6.tar.gz
@


1.71
log
@kbd needs bison
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.70 2004/05/04 18:15:06 zaphod Exp zaphod $;
d1118 1
a1118 1
for i in boot etc/dhcpc mnt/boot mnt/floppy mnt/cdrom proc root sys tmp usr/man var/empty var/lock var/run var/log; do
d1756 1
a1756 1
task 4 toast utoast toast 1.325 http://toastball.net/toast/toast-1.325.tar.gz
d1846 1
a1846 1
task 0 gale toast arm http://download.ofb.net/gale/gale-0.99fruit.tar.bz2
@


1.70
log
@openssh requires zlib; other things might enjoy it also
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.69 2004/05/03 23:26:37 zaphod Exp zaphod $;
a1823 1
task 38 kbd toast arm ftp://ftp.win.tue.nl/pub/linux-local/utils/kbd/kbd-1.12.tar.gz
d1831 1
@


1.69
log
@upgraded openssl; switch to HTTP mirror
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.68 2004/05/03 18:26:06 zaphod Exp zaphod $;
d1811 1
a1823 1
task 17 zlib toast arm http://www.libpng.org/pub/png/src/zlib-1.2.1.tar.gz
@


1.68
log
@upgrade toastinit
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.67 2004/05/03 18:18:43 zaphod Exp zaphod $;
d1816 1
a1816 1
task 192 openssh toast arm ftp://ftp.openbsd.org/pub/OpenBSD/OpenSSH/portable/openssh-3.8p1.tar.gz
@


1.67
log
@added time estimate for dhcpcd
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.66 2004/05/01 05:29:57 zaphod Exp zaphod $;
d1801 1
a1801 1
task 18 toastinit toast arm http://toastball.net/toast-linux-tmp/toastinit-1.14.tar.gz
@


1.66
log
@add a bunch of optional packages
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.65 2004/04/30 22:00:29 zaphod Exp zaphod $;
d1806 1
a1806 1
task 0 dhcpcd toast arm http://www.phystech.com/ftp/dhcpcd-1.3.22-pl4.tar.gz
@


1.65
log
@upgrade toastinit; install dhcpcd instead of udhcp
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.64 2004/04/30 17:07:51 zaphod Exp zaphod $;
d1809 2
a1811 1
task 14 hdparm toast arm http://www.ibiblio.org/pub/Linux/system/hardware/hdparm-5.5.tar.gz
d1814 3
d1822 1
d1824 1
d1833 192
a2024 4
task 38 kbd toast arm ftp://ftp.win.tue.nl/pub/linux-local/utils/kbd/kbd-1.12.tar.gz
task 98 parted toast arm http://ftp.gnu.org/gnu/parted/parted-1.6.6.tar.gz
task 440 openssl toast arm http://www.openssl.org/source/openssl-0.9.7d.tar.gz
task 192 openssh toast arm ftp://ftp.openbsd.org/pub/OpenBSD/OpenSSH/portable/openssh-3.8p1.tar.gz
@


1.64
log
@adjusted time estimates to match latest test run
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.63 2004/04/29 20:05:20 zaphod Exp zaphod $;
d1118 1
a1118 1
for i in boot mnt/boot mnt/floppy mnt/cdrom proc root sys tmp usr/man var/empty var/lock var/run var/log; do
d1801 1
a1801 1
task 18 toastinit toast arm http://toastball.net/toast-linux-tmp/toastinit-1.12.tar.gz
a1804 1
task 7 udhcp toast arm http://udhcp.busybox.net/source/udhcp-0.9.8.tar.gz
d1806 1
@


1.63
log
@upgrade toastinit
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.62 2004/04/29 17:02:45 zaphod Exp zaphod $;
d1771 2
a1772 2
task 1831 rebuild toast rebuild make toast gawk coreutils binutils perl
task 5930 gcc toast arm http://ftp.gnu.org/gnu/gcc/gcc-3.3.2/gcc-3.3.2.tar.bz2
@


1.62
log
@ifconfig is pretty important
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.61 2004/04/29 16:59:47 zaphod Exp zaphod $;
d1801 1
a1801 1
task 18 toastinit toast arm http://toastball.net/toast-linux-tmp/toastinit-1.11.tar.gz
@


1.61
log
@cpio won't build without texinfo
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.60 2004/04/29 01:44:18 zaphod Exp zaphod $;
d1806 1
a1811 1
task 34 net-tools toast arm http://www.tazenda.demon.co.uk/phil/net-tools/net-tools-1.60.tar.bz2
@


1.60
log
@try to cut down on build time by building gcc-core, then gcc
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.59 2004/04/28 21:29:44 zaphod Exp zaphod $;
a1805 1
task 172 cpio toast arm http://ftp.gnu.org/gnu/cpio/cpio-2.5.tar.gz
d1817 1
@


1.59
log
@reorder packages; upgrade toastinit; use /bin/zsh in /etc/passwd;
rename "finish" task to "bootable"; make lilo labels short enough
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.58 2004/04/28 01:13:49 zaphod Exp zaphod $;
d1761 1
a1761 1
task 5930 gcc toast arm http://ftp.gnu.org/gnu/gcc/gcc-3.3.2/gcc-3.3.2.tar.bz2
d1771 2
a1772 1
task 7761 rebuild toast rebuild make toast gawk coreutils binutils gcc perl
d1779 1
a1779 1
task 37 remove toast remove bin busybox
@


1.58
log
@added estimates for openssl and openssh
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.57 2004/04/27 17:09:17 zaphod Exp zaphod $;
d704 1
a704 1
root:x:0:0:root:/root:/bin/sh
d718 1
a718 1
toast:x:42:42:toast:/toast:/bin/sh
d811 1
a811 1
label = toast.oldkernel
d815 1
a815 1
label = toast.olderkernel
d820 1
a820 1
label = toast.oldinitrd
d825 1
a825 1
label = toast.olderinitrd
d830 1
a830 1
label = toast.oldkernel.oldinitrd
d1479 1
a1479 1
--- FILE root/sbin/finish ---
d1784 2
a1789 4
task 14 hdparm toast arm http://www.ibiblio.org/pub/Linux/system/hardware/hdparm-5.5.tar.gz
task 131 inetutils toast arm http://ftp.gnu.org/gnu/inetutils/inetutils-1.4.2.tar.gz
task 7 udhcp toast arm http://udhcp.busybox.net/source/udhcp-0.9.8.tar.gz
task 192 vim toast arm ftp://ftp.vim.org/pub/vim/unix/vim-6.2.tar.bz2
a1790 1
task 34 net-tools toast arm http://www.tazenda.demon.co.uk/phil/net-tools/net-tools-1.60.tar.bz2
a1796 1
task 485 gettext toast arm http://ftp.gnu.org/gnu/gettext/gettext-0.14.1.tar.gz
d1800 1
a1800 1
task 18 toastinit toast arm http://toastball.net/toast-linux-tmp/toastinit-1.8.tar.gz
d1802 13
d1816 1
a1819 2
task 50 less toast arm http://www.greenwoodsoftware.com/less/less-381.tar.gz
task 221 groff toast arm http://ftp.gnu.org/gnu/groff/groff-1.19.tar.gz
a1820 1
task 93 texinfo toast arm http://ftp.gnu.org/gnu/texinfo/texinfo-4.6.tar.gz
a1826 4
task 13 man toast arm http://kernel.org/pub/linux/utils/man/man-1.5m2.tar.bz2
task 4 iana-etc toast arm http://www.sethwklein.net/projects/iana-etc/downloads/iana-etc-0.99.tar.bz2
task 238 zsh toast arm http://archive.progeny.com/zsh/zsh-4.2.0.tar.bz2
task 60 readline toast arm http://ftp.gnu.org/gnu/readline/readline-4.3.tar.gz
a1827 1
task 172 cpio toast arm http://ftp.gnu.org/gnu/cpio/cpio-2.5.tar.gz
a1829 3
task 7 finish finish

# TODO: reorder/rebuild pkgs to take full advantage of optional libraries etc.
@


1.57
log
@debug toastinit
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.56 2004/04/27 04:45:46 zaphod Exp zaphod $;
d1826 2
a1827 2
task 0 openssl toast arm http://www.openssl.org/source/openssl-0.9.7d.tar.gz
task 0 openssh toast arm ftp://ftp.openbsd.org/pub/OpenBSD/OpenSSH/portable/openssh-3.8p1.tar.gz
@


1.56
log
@installed /etc/fstab needs /dev entry for devfs; upgrade toastinit
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.55 2004/04/25 22:42:41 zaphod Exp zaphod $;
d1804 1
a1804 1
task 18 toastinit toast arm http://toastball.net/toast-linux-tmp/toastinit-1.7.tar.gz
@


1.55
log
@don't estimate time remaining unless we're at least 1% complete
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.54 2004/04/25 22:35:13 zaphod Exp zaphod $;
d789 1
d1804 1
a1804 1
task 18 toastinit toast arm http://toastball.net/toast-linux-tmp/toastinit-1.6.tar.gz
@


1.54
log
@improve installer status display doodad
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.53 2004/04/25 05:08:26 zaphod Exp zaphod $;
d1064 2
a1065 1
if [ "$esofar" -gt 0 -a "$asofar" -gt 0 ]; then
a1068 1
let percent="$esofar*100/$etotal"
@


1.53
log
@the latest toast should be able to build openssl
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.52 2004/04/23 21:48:07 zaphod Exp zaphod $;
d999 1
d1021 15
a1038 1
p '\33[s\33[H'
d1062 2
a1063 1
remain="?"
d1066 1
d1068 3
a1070 1
p '\33[K\12\33[0;1;42m'"$asofar seconds elapsed; $remain remaining"'\33[K\12\16\33[1;33;43m'
@


1.52
log
@upgrade toastinit
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.51 2004/04/23 17:15:27 zaphod Exp zaphod $;
d1736 1
a1736 1
task 4 toast utoast toast 1.320 http://toastball.net/toast/toast-1.320.tar.gz
d1806 2
a1807 2
# task 0 openssl toast arm http://www.openssl.org/source/openssl-0.9.7d.tar.gz
# task 0 openssh toast arm ftp://ftp.openbsd.org/pub/OpenBSD/OpenSSH/portable/openssh-3.8p1.tar.gz
@


1.51
log
@fill in estimated task completion times from last night's run
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.50 2004/04/23 01:17:51 zaphod Exp zaphod $;
d1784 1
a1784 1
task 18 toastinit toast arm http://toastball.net/toast-linux-tmp/toastinit-1.5.tar.gz
@


1.50
log
@cure for new LVM2 not being able to find any devices
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.49 2004/04/23 00:42:02 zaphod Exp zaphod $;
d1730 2
a1731 20
# preliminary figures:
# network: 0 sec
# partition: 123 sec
# swap: 1 sec
# setup: 1 sec
# bin: 92 sec
# make: 52 sec
# toast: 3 sec
# gawk: 89 sec
# coreutils: 267 sec
# perl: 839 sec
# binutils: 538 sec
# gcc-core: 755 sec
# glibc: 5470 sec
# bash: 177 sec
# rebuild [make toast gawk coreutils binutils gcc-core perl]: 2463 sec
# remove [bin busybox]: 42 sec

task 1 network network
task 1 partition partition
d1734 9
a1742 9
task 1 bin utoastdeb
task 1 make utoast make 3.80 http://ftp.gnu.org/gnu/make/make-3.80.tar.bz2
task 1 toast utoast toast 1.320 http://toastball.net/toast/toast-1.320.tar.gz
task 1 gawk toast arm http://ftp.gnu.org/gnu/gawk/gawk-3.1.3.tar.bz2
task 1 coreutils toast arm http://ftp.gnu.org/gnu/coreutils/coreutils-5.0.tar.bz2
task 1 perl toast arm http://www.cpan.org/src/5.0/perl-5.8.3.tar.gz
task 1 binutils toast arm http://ftp.gnu.org/gnu/binutils/binutils-2.14.tar.bz2
task 1 gcc toast arm http://ftp.gnu.org/gnu/gcc/gcc-3.3.2/gcc-3.3.2.tar.bz2
task 1 glibc toast arm glibc/2.3.2: [ http://ftp.gnu.org/gnu/glibc/glibc-2.3.2.tar.bz2 http://ftp.gnu.org/gnu/glibc/glibc-linuxthreads-2.3.2.tar.bz2 http://kernel.org/pub/linux/kernel/v2.4/linux-2.4.25.tar.bz2 http://toastball.net/toast-linux-tmp/glibc-2.3.2-gcc-2.3.x.patch ]
d1751 34
a1784 34
task 1 rebuild toast rebuild make toast gawk coreutils binutils gcc perl
task 1 bash toast arm http://ftp.gnu.org/gnu/bash/bash-2.05b.tar.gz
task 1 sed toast arm http://ftp.gnu.org/gnu/sed/sed-4.0.9.tar.gz
task 1 grep toast arm http://ftp.gnu.org/gnu/grep/grep-2.5.tar.bz2
task 1 gzip toast arm http://ftp.gnu.org/gnu/gzip/gzip-1.2.4a.tar.gz
task 1 tar toast arm ftp://alpha.gnu.org/gnu/tar/tar-1.13.25.tar.gz
task 1 wget toast arm http://ftp.gnu.org/gnu/wget/wget-1.9.1.tar.gz
task 1 remove toast remove bin busybox
task 1 diffutils toast arm http://ftp.gnu.org/gnu/diffutils/diffutils-2.8.1.tar.gz
task 1 bzip2 toast arm http://mirrors.kernel.org/sources.redhat.com/bzip2/v102/bzip2-1.0.2.tar.gz
task 1 util-linux toast arm http://kernel.org/pub/linux/utils/util-linux/util-linux-2.11z.tar.bz2
task 1 module-init-tools toast arm http://kernel.org/pub/linux/utils/kernel/module-init-tools/module-init-tools-3.0.tar.bz2
task 1 ncurses toast arm http://ftp.gnu.org/gnu/ncurses/ncurses-5.4.tar.gz
task 1 procps toast arm http://procps.sourceforge.net/procps-3.1.15.tar.gz
task 1 patch toast arm http://ftp.gnu.org/gnu/patch/patch-2.5.4.tar.gz
task 1 findutils toast arm [ http://ftp.gnu.org/gnu/findutils/findutils-4.1.tar.gz http://downloads.linuxfromscratch.org/findutils-4.1.patch ]
task 1 sysvinit toast arm ftp://ftp.cistron.nl/pub/people/miquels/sysvinit/sysvinit-2.85.tar.gz
task 1 hdparm toast arm http://www.ibiblio.org/pub/Linux/system/hardware/hdparm-5.5.tar.gz
task 1 inetutils toast arm http://ftp.gnu.org/gnu/inetutils/inetutils-1.4.2.tar.gz
task 1 udhcp toast arm http://udhcp.busybox.net/source/udhcp-0.9.8.tar.gz
task 1 vim toast arm ftp://ftp.vim.org/pub/vim/unix/vim-6.2.tar.bz2
task 1 sysklogd toast arm http://www.infodrom.org/projects/sysklogd/download/sysklogd-1.4.1.tar.gz
task 1 net-tools toast arm http://www.tazenda.demon.co.uk/phil/net-tools/net-tools-1.60.tar.bz2
task 1 linux toast arm [ http://kernel.org/pub/linux/kernel/v2.6/linux-2.6.5.tar.bz2 http://toastball.net/toast-linux-tmp/linux-2.6.5-config.tar.gz ]
task 1 device-mapper toast arm http://mirrors.kernel.org/sources.redhat.com/dm/device-mapper.1.00.17.tgz
task 1 lvm2 toast arm http://mirrors.kernel.org/sources.redhat.com/lvm2/LVM2.2.00.15.tgz
task 1 bin86 toast arm http://www.cix.co.uk/~mayday/dev86/bin86-0.16.15.tar.gz
task 1 nasm toast arm http://unc.dl.sourceforge.net/sourceforge/nasm/nasm-0.98.38.tar.bz2
task 1 lilo toast arm lilo/22.5.8+devmapper: [ http://home.san.rr.com/johninsd/pub/linux/lilo/obsolete/lilo-22.5.8.tar.gz http://www.saout.de/misc/lilo-22.5.8-devmapper.patch ]
task 1 gettext toast arm http://ftp.gnu.org/gnu/gettext/gettext-0.14.1.tar.gz
task 1 e2fsprogs toast arm http://unc.dl.sourceforge.net/sourceforge/e2fsprogs/e2fsprogs-1.34.tar.gz
task 1 devfsd toast arm http://kernel.org/pub/linux/daemons/devfsd/devfsd-v1.3.25.tar.bz2
task 1 genext2fs toast arm genext2fs/1.3-4: [ http://http.us.debian.org/debian/pool/main/g/genext2fs/genext2fs_1.3.orig.tar.gz http://http.us.debian.org/debian/pool/main/g/genext2fs/genext2fs_1.3-4.diff.gz ]
task 1 toastinit toast arm http://toastball.net/toast-linux-tmp/toastinit-1.5.tar.gz
d1786 23
a1808 23
task 1 man-pages toast arm http://kernel.org/pub/linux/docs/manpages/man-pages-1.65.tar.bz2
task 1 zlib toast arm http://www.libpng.org/pub/png/src/zlib-1.2.1.tar.gz
task 1 m4 toast arm http://ftp.gnu.org/gnu/m4/m4-1.4.tar.gz
task 1 bison toast arm http://ftp.gnu.org/gnu/bison/bison-1.875.tar.bz2
task 1 less toast arm http://www.greenwoodsoftware.com/less/less-381.tar.gz
task 1 groff toast arm http://ftp.gnu.org/gnu/groff/groff-1.19.tar.gz
task 1 flex toast arm http://unc.dl.sourceforge.net/sourceforge/lex/flex-2.5.31.tar.bz2
task 1 texinfo toast arm http://ftp.gnu.org/gnu/texinfo/texinfo-4.6.tar.gz
task 1 autoconf toast arm http://ftp.gnu.org/gnu/autoconf/autoconf-2.59.tar.gz
task 1 automake toast arm http://ftp.gnu.org/gnu/automake/automake-1.8.2.tar.gz
task 1 file toast arm ftp://ftp.astron.com/pub/file/file-4.07.tar.gz
task 1 libtool toast arm http://ftp.gnu.org/gnu/libtool/libtool-1.5.2.tar.gz
task 1 ed toast arm http://ftp.gnu.org/gnu/ed/ed-0.2.tar.gz
task 1 kbd toast arm ftp://ftp.win.tue.nl/pub/linux-local/utils/kbd/kbd-1.12.tar.gz
task 1 man toast arm http://kernel.org/pub/linux/utils/man/man-1.5m2.tar.bz2
task 1 iana-etc toast arm http://www.sethwklein.net/projects/iana-etc/downloads/iana-etc-0.99.tar.bz2
task 1 zsh toast arm http://archive.progeny.com/zsh/zsh-4.2.0.tar.bz2
task 1 readline toast arm http://ftp.gnu.org/gnu/readline/readline-4.3.tar.gz
task 1 parted toast arm http://ftp.gnu.org/gnu/parted/parted-1.6.6.tar.gz
task 1 cpio toast arm http://ftp.gnu.org/gnu/cpio/cpio-2.5.tar.gz
# task 1 openssl toast arm http://www.openssl.org/source/openssl-0.9.7d.tar.gz
# task 1 openssh toast arm ftp://ftp.openbsd.org/pub/OpenBSD/OpenSSH/portable/openssh-3.8p1.tar.gz
task 1 finish finish
@


1.49
log
@fix runtime linking problems with LVM2
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.48 2004/04/22 23:29:55 zaphod Exp zaphod $;
d767 3
@


1.48
log
@display time remaining, dammit
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.47 2004/04/22 23:27:31 zaphod Exp zaphod $;
d314 1
d318 1
a318 1
symbols: $(BUSYBOX) $(E2FSCK) $(TUNE2FS) $(NTFSRESIZE) $(PARTED) $(DEVMAP) $(LVM2)
@


1.47
log
@coax new version of LVM2 into cross-compiling
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.46 2004/04/22 21:37:28 zaphod Exp zaphod $;
a1042 1
p '\33[K\12\33[m'
d1044 1
a1044 1
if [ "$esofar" -gt 0 && "$asofar" -gt 0 ]; then
d1047 1
a1047 1
p "$asofar seconds elapsed; $remain remaining"
a1048 1
p '\33[K\12\16\33[1;33;43m'
@


1.46
log
@build static libdevmapper for install disk
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.45 2004/04/22 21:16:26 zaphod Exp zaphod $;
d314 1
a314 2
  cd $(LVM2_DIR) && ./configure
  $(MAKE) -C $(LVM2_DIR) CC="$(TOOLCHAIN_BIN_DIR)/gcc -Os -I$(CURDIR)/$(DEVMAP_DIR)/include -L$(CURDIR)/$(dir $(DEVMAP))" DESTDIR=dummy
@


1.45
log
@root filesystem needs /mnt/boot to exist so toastinit can boot it
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.44 2004/04/22 21:10:23 zaphod Exp zaphod $;
d201 1
a201 1
DEVMAP = $(DEVMAP_DIR)/lib/ioctl/libdevmapper.so
d308 1
a308 2
  set -e; cd $(DEVMAP_DIR); ./configure; $(MAKE) CC="$(TOOLCHAIN_BIN_DIR)/gcc -Os"
  strip $@@
a340 1
  install -D $(DEVMAP) $@@/lib/libdevmapper.so.1.00
@


1.44
log
@mount sysfs on root partition; skip broken openssl/openssh build for now
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.43 2004/04/22 19:47:00 zaphod Exp zaphod $;
d1099 1
a1099 1
for i in boot mnt/floppy proc root sys tmp usr/man var/empty var/lock var/run var/log; do
@


1.43
log
@update device-mapper and LVM2 URLs
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.42 2004/04/22 17:37:56 zaphod Exp zaphod $;
d781 1
d851 1
d1104 1
a1104 2
mount "$target/boot"
mount "$target/proc"
d1462 2
a1463 1
[ -d /mnt/root/proc/1 ] || !echo "/mnt/root/proc not mounted?"
d1825 2
a1826 1
task 1 openssh toast arm ftp://ftp.openbsd.org/pub/OpenBSD/OpenSSH/portable/openssh-3.8p1.tar.gz
@


1.42
log
@oops
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.41 2004/04/22 01:40:20 zaphod Exp zaphod $;
d137 2
a138 2
DEVMAP_VERSION = 1.00.07
LVM2_VERSION = 2.00.08
d178 2
a179 2
DEVMAP_URL = ftp://ftp.sistina.com/pub/LVM2/device-mapper/$(DEVMAP_ARCHIVE)
LVM2_URL = ftp://ftp.sistina.com/pub/LVM2/tools/$(LVM2_ARCHIVE)
d1792 2
a1793 2
task 1 device-mapper toast arm ftp://ftp.sistina.com/pub/LVM2/device-mapper/device-mapper.1.00.07.tgz
task 1 lvm2 toast arm ftp://ftp.sistina.com/pub/LVM2/tools/LVM2.2.00.08.tgz
@


1.41
log
@sysvinit needs /dev/initctl
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.40 2004/04/21 21:50:00 zaphod Exp zaphod $;
d1166 1
a1166 1
[ ! -p /dev/initctl ] || mknod /dev/initctl p
@


1.40
log
@ncurses apparently wants a C++ compiler; this is the easiest way to get one
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.39 2004/04/21 17:08:04 zaphod Exp zaphod $;
d1166 2
@


1.39
log
@can't build anything without grep
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.38 2004/04/21 17:02:28 zaphod Exp zaphod $;
d1756 1
a1756 1
task 1 gcc-core toast arm http://ftp.gnu.org/gnu/gcc/gcc-3.3.2/gcc-core-3.3.2.tar.bz2
d1766 1
a1766 1
task 1 rebuild toast rebuild make toast gawk coreutils binutils gcc-core perl
@


1.38
log
@bzip2 won't build with TOAST_PRELOAD=true
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.37 2004/04/21 05:46:22 zaphod Exp zaphod $;
d1769 1
a1781 1
task 1 grep toast arm http://ftp.gnu.org/gnu/grep/grep-2.5.tar.bz2
@


1.37
log
@display time elapsed/remaining
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.36 2004/04/20 22:41:40 zaphod Exp zaphod $;
a1768 1
task 1 bzip2 toast arm http://mirrors.kernel.org/sources.redhat.com/bzip2/v102/bzip2-1.0.2.tar.gz
d1774 1
@


1.36
log
@oops
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.35 2004/04/20 22:36:41 zaphod Exp zaphod $;
d1045 1
a1045 1
remain="???"
a1047 1
  p "$remain seconds"
d1049 1
d1051 1
a1051 1
p '\33[K\16\33[1;33;43m'
@


1.35
log
@reorder tasks to try to make the install work again
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.34 2004/04/20 22:35:28 zaphod Exp zaphod $;
d1049 1
@


1.34
log
@simplify task accounting and try to calculate time remaining
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.33 2004/04/20 03:38:08 zaphod Exp zaphod $;
d1768 1
d1773 1
a1784 1
task 1 diffutils toast arm http://ftp.gnu.org/gnu/diffutils/diffutils-2.8.1.tar.gz
a1785 1
task 1 bzip2 toast arm http://mirrors.kernel.org/sources.redhat.com/bzip2/v102/bzip2-1.0.2.tar.gz
@


1.33
log
@reorder tasks to try to get things working again
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.32 2004/04/19 21:54:00 zaphod Exp zaphod $;
d991 9
a999 1
cost="$1"
d1003 3
a1005 10
dir="/var/run/tasks"
tfile="$dir/total"
cfile="$dir/current"
lfile="$dir/list"
log="$dir/log"
ndir="$dir/names"
ddir="$dir/done"

total=0
[ -r "$tfile" ] && read total < "$tfile"
d1008 4
a1011 8
  nfile="$ndir/$name"
  [ -r "$nfile" ] && exit 0
  mkdir -p "$dir" "$ndir" "$ddir"
  : > "$nfile"
  let total="$total+$cost"
  echo "$total" > "$tfile"
  echo "$name" >> "$lfile"
  echo "0" > "$cfile"
d1015 1
a1015 2
dfile="$ddir/$name"
[ -r "$dfile" ] && exit 0
d1019 2
a1020 3
firstline=3
lastline=25
p '\33[H'
d1022 6
a1027 2
while read i; do
  line="$line $i"
d1031 1
a1031 1
    line=" $i"
d1034 8
a1041 2
  [ "$name" = "$i" ] && p '\33[0;1m'
  p "$i"
d1043 8
a1050 4
done < "$lfile"
p '\33[K\12\16\33[1;33;43m'
read current < "$cfile"
let bar="$current*80/$total"
d1055 1
a1055 1
p '\17\33[K\33[m\33['"$firstline;$lastline"'r\33['"$lastline"'H'
a1057 1
start="`date +'%s'`"
d1063 1
a1063 5
echo "$name $elapsed" >> $log

: > "$dfile"
let current="$current+$cost"
echo "$current" > $cfile
d1724 1
a1724 1
[ -z "$TASK_INIT" ] && TASK_INIT=1 $0
@


1.32
log
@fix chown of homedir during setup to use numeric uid/gid
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.31 2004/04/19 21:28:52 zaphod Exp zaphod $;
d1761 1
d1763 1
a1763 1
task 1 rebuild toast rebuild make toast gawk coreutils binutils gcc-core perl
a1767 1
task 1 sed toast arm http://ftp.gnu.org/gnu/sed/sed-4.0.9.tar.gz
@


1.31
log
@record some task timings; add more essential stuff before removing busybox
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.30 2004/04/18 23:39:24 zaphod Exp zaphod $;
d1126 1
a1126 1
  chown $i.$i "$target/home/$i"
@


1.30
log
@fix processing of IF variable; add USERS variable
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.29 2004/04/18 23:09:41 zaphod Exp zaphod $;
d1722 18
d1763 3
a1771 2
task 1 tar toast arm ftp://alpha.gnu.org/gnu/tar/tar-1.13.25.tar.gz
task 1 gzip toast arm http://ftp.gnu.org/gnu/gzip/gzip-1.2.4a.tar.gz
a1777 1
task 1 wget toast arm http://ftp.gnu.org/gnu/wget/wget-1.9.1.tar.gz
@


1.29
log
@add cpio and openssh to base install
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.28 2004/04/17 03:56:36 zaphod Exp zaphod $;
d862 1
a862 1
IF="`echo \"$DNS\" | sed -e 's/[^a-z0-9]/ /g; s/^  *//; s/  *$//'`"
d1118 12
@


1.28
log
@upgrade busybox; don't invoke run twice at startup
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.27 2004/04/16 23:05:10 zaphod Exp zaphod $;
d1785 2
@


1.27
log
@resume install when user exits shell
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.26 2004/04/16 22:53:46 zaphod Exp zaphod $;
d133 1
a133 1
BUSYBOX_VERSION = 1.00-pre8
a844 1
run
@


1.26
log
@fix setup bug; spiff up task list
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.25 2004/04/16 22:27:17 zaphod Exp zaphod $;
d835 2
a836 1
::respawn:-/bin/sh
a837 1
::shutdown:/etc/init.d/rc.stop
d853 5
@


1.25
log
@task was returning 0 on failure and misrendering task list
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.24 2004/04/16 22:19:15 zaphod Exp zaphod $;
d1017 2
d1021 1
a1021 1
echo -ne '\33[H'
d1027 1
a1027 1
    echo -e '\33[K'
d1030 4
a1033 4
  echo -en '\33[0;44m '
  [ "$name" = "$i" ] && echo -en '\33[0;1m'
  echo -n "$i"
  echo -en '\33[0;44m'
d1035 1
a1035 3

echo -e '\33[K'
echo -ne '\33[1;33;43m'
d1039 1
a1039 1
  echo -ne '\16a\17'
d1042 2
a1043 1
echo -ne '\33[0;41m\33[K\33[m\33['"$firstline;$lastline"'r\33['"$lastline"'H'
d1112 1
a1112 1
chmod -R ro-w "$target/etc"
d1717 1
a1717 1
task 1 gcc toast arm http://ftp.gnu.org/gnu/gcc/gcc-3.3.2/gcc-core-3.3.2.tar.bz2
@


1.24
log
@fix misc. bugs; streamline task list
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.23 2004/04/16 00:26:54 zaphod Exp zaphod $;
d1031 1
a1031 1
  echo -en '\33[0;44m '
a1045 1
  status="$?"
d1047 1
a1047 1
  exit "$status"
@


1.23
log
@fixed a few stupid bugs
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.22 2004/04/16 00:17:16 zaphod Exp zaphod $;
d837 1
a837 1
::shutdown:/etc/rc.stop
d995 1
d1031 1
d1044 8
a1051 1
"$@@" || exit $?
d1100 1
d1111 2
a1112 1
# TODO: adjust permissions
d1436 1
a1436 1
--- FILE root/sbin/lilo ---
d1441 1
a1441 1
cp /mnt/root/usr/boot/* /mnt/root/boot/
d1681 15
a1695 1
exec utoast "deb-$1" "$3" "http://http.us.debian.org/debian/pool/main/$4/$2_$3_i386.deb"
d1710 9
a1718 41

# Step 1: Download the minimum required binary packages.
# These are all stolen from Debian testing.
# I'm including a perl binary here because perl refuses to build without comm,
# busybox doesn't seem to include comm, and I'd just as soon avoid trying to
# build real source packages with utoast.
# Including bash because hardly anything will build with busybox ash alone.
# Including ncurses only because the bash binary requires it.

task 1 glibc0 utoastdeb glibc libc6 2.3.2.ds1-11 g/glibc
task 1 headers utoastdeb headers libc6-dev 2.3.2.ds1-11 g/glibc
task 1 kheaders utoastdeb kheaders linux-kernel-headers 2.5.999-test7-bk-15 l/linux-kernel-headers
task 1 binutils0 utoastdeb binutils binutils 2.14.90.0.7-6 b/binutils
task 1 gcc0 utoastdeb gcc gcc-3.3 3.3.3-6 g/gcc-3.3
task 1 cpp utoastdeb cpp cpp-3.3 3.3.3-6 g/gcc-3.3
task 1 perl0 utoastdeb perl perl-base 5.8.3-3 p/perl
task 1 ncurses0 utoastdeb ncurses libncurses5 5.4-3 n/ncurses # required by bash
task 1 bash0 utoastdeb bash bash 2.05b-14 b/bash

# Step 2: Install toast, so we can use it to install everything else.
# Note that utoast currently needs make in order to install toast.

task 1 make1 utoast make 3.80 http://ftp.gnu.org/gnu/make/make-3.80.tar.bz2
task 1 toast1 utoast toast 1.320 http://toastball.net/toast/toast-1.320.tar.gz

# Step 3: Replace all binary packages from step 1 with source packages.
# Everything compiled from source prior to this point will need to be rebuilt
# against the new libc before we get rid of the old one.
# Everything compiled from source during this step prior to the new gcc and
# binutils should be rebuilt with the new tools before the end of this step.
# We need to rebuild toast itself in order to install the man page correctly.
# Note that we install kernel headers from 2.4 with glibc because some programs
# (notably LILO) won't compile against the headers in 2.6.  What a mess.

task 1 gawk1 toast arm http://ftp.gnu.org/gnu/gawk/gawk-3.1.3.tar.bz2
task 1 coreutils1 toast arm http://ftp.gnu.org/gnu/coreutils/coreutils-5.0.tar.bz2
task 1 gcc1 toast arm http://ftp.gnu.org/gnu/gcc/gcc-3.3.2/gcc-3.3.2.tar.bz2
task 1 clean1 toast remove deb-gcc deb-cpp
task 1 perl1 toast arm http://www.cpan.org/src/5.0/perl-5.8.2.tar.gz
task 1 clean2 toast remove deb-perl
task 1 glibc1 toast arm glibc/2.3.2: [ http://ftp.gnu.org/gnu/glibc/glibc-2.3.2.tar.bz2 http://ftp.gnu.org/gnu/glibc/glibc-linuxthreads-2.3.2.tar.bz2 http://kernel.org/pub/linux/kernel/v2.4/linux-2.4.25.tar.bz2 http://toastball.net/toast-linux-tmp/glibc-2.3.2-gcc-2.3.x.patch ]
a1719 1
# http://www.pengutronix.de/software/ptxdist/patches-0.5.0/glibc-2.3.2/generic/generic-sscanf.diff
d1724 1
d1726 1
a1726 4
# http://sources.redhat.com/ml/bug-glibc/2003-10/msg00101/sscanf.c.diff
task 1 clean3 toast remove deb-headers deb-kheaders
task 1 binutils1 toast arm http://ftp.gnu.org/gnu/binutils/binutils-2.14.tar.bz2
task 1 clean4 toast remove deb-binutils
d1728 2
a1729 12
task 1 glibc toast rebuild glibc
task 1 gcc toast rebuild gcc
task 1 binutils toast rebuild binutils
task 1 coreutils toast rebuild coreutils
task 1 make toast rebuild make
task 1 gawk toast rebuild gawk
task 1 toast toast rebuild toast
task 1 perl toast rebuild perl
task 1 clean4 toast remove deb-ncurses deb-glibc deb-bash

# Step 4: Replace busybox with full GNU/Linux tools.

a1746 5
task 1 clean5 toast remove busybox

# Some of these packages can't be installed until busybox is gone because
# they require the LD_PRELOAD hack in order to install correctly:

a1749 3

# Step 5: Install what we will need in order to make the system usable.

d1760 1
a1760 1
task 1 toastinit toast arm http://toastball.net/toast-linux-tmp/toastinit-1.3.tar.gz
a1761 3

# Step 6: Bring the new system roughly up to par with Linux From Scratch.

a1777 3

# Step 7: Install other essential packages.

d1781 1
d1783 1
a1783 6
task 1 runlilo lilo

# TODO:
# openssh
# reorder and/or rebuild packages to take full advantage of optional libraries
# garnome2toast
@


1.22
log
@added /boot lv to placate lilo; lots of other attempted fixes
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.21 2004/04/15 06:20:38 zaphod Exp zaphod $;
d840 1
a840 1
#!/bin/sh
d847 1
a847 1
--- FILE root/etc/init.d/rc.stop
a1053 2
mount "$target/boot"
mount "$target/proc"
d1084 3
@


1.21
log
@break everything II: progress indicator, add vga=ext support to kernel
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.20 2004/04/14 22:28:34 zaphod Exp zaphod $;
d779 2
d784 1
d799 1
a799 1
initrd = /usr/boot/initrd.gz
d804 1
a804 1
image = /usr/boot/vmlinuz
d807 1
a807 1
image = /usr/boot/vmlinuz.off
d811 1
a811 1
image = /usr/boot/vmlinuz.off.off
d815 2
a816 2
image = /usr/boot/vmlinuz
initrd = /usr/boot/initrd.gz.off
d820 2
a821 2
image = /usr/boot/vmlinuz
initrd = /usr/boot/initrd.gz.off.off
d825 2
a826 2
image = /usr/boot/vmlinuz.off
initrd = /usr/boot/initrd.gz.off
d834 1
a834 1
::sysinit:/etc/init.d/rcS
d837 1
a837 2
::shutdown:/sbin/swapoff -a
::shutdown:/bin/umount -a -r
d839 1
a839 1
--- FILE root/etc/init.d/rcS ---
d847 6
d1054 2
d1081 1
a1081 1
for i in mnt/floppy proc sys tmp usr/man var/empty var/lock var/run var/log; do
d1087 3
d1140 2
d1206 7
d1214 4
a1217 3
# single logical volume we'll be creating.
# Remaining space in the VG will be used by snapshots (for fsck or backups)
# and/or any other logical volumes the user might decide to create later.
a1224 4
# Logical volume name.  This only needs to be unique within our volume group,
# so a generic descriptive name should be fine. 
lvname="root"

a1407 1
lvpath="/dev/$vgname/$lvname"
d1414 2
a1415 1
echo "lvcreate -l $lvextents -n $lvname $vgname"
d1417 6
a1422 3
echo "parted -s $lvpath -- mklabel loop"
echo "parted -s $lvpath -- mkpartfs primary ext2 0 -0"
echo "tune2fs -j $lvpath"
d1425 5
a1429 1
#!/bin/sh
d1736 1
a1736 1
task 1 bash1 toast arm http://ftp.gnu.org/gnu/bash/bash-2.05b.tar.gz
d1757 1
a1757 1
task 1 findutils toast arm [ http://ftp.gnu.org/gnu/findutils/findutils-4.1.tar.gz http://www.linuxfromscratch.org/findutils-4.1.patch ]
d1779 1
a1779 1
task 1 LVM2 toast arm ftp://ftp.sistina.com/pub/LVM2/tools/LVM2.2.00.08.tgz
d1782 1
a1782 1
task 1 lilo toast arm lilo/22.5.8+devmapper: [ http://home.san.rr.com/johninsd/pub/linux/lilo/lilo-22.5.8.tar.gz http://www.saout.de/misc/lilo-22.5.8-devmapper.patch ]
d1786 1
a1786 1
task 1 genext2fs toast arm genext2fs/1.3-4: [ http://http.us.debian.org/debian/pool/main/g/genext2fs/genext2fs_1.3.orig.tar.gz http://http.us.debian.org/debian/pool/main/g/genext2fs_1.3-4.diff.gz ]
@


1.20
log
@fixed a few more migrate/toaststrap problems
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.19 2004/04/14 18:03:09 zaphod Exp zaphod $;
d843 1
a843 18
autoinstall

--- FILE root/sbin/autoinstall ---
#!/bin/sh -e
echo "Configuring network."
network
echo ""
echo "Examining disks:"
partition > /tmp/partition.tmp
grep '^# ' /tmp/partition.tmp
echo "Preparing to write new disk partitions as described above."
echo "Press any key to abort."
timeout 20
sh -ex /tmp/partition.tmp
rm /tmp/partition.tmp
swap
migrate
toaststrap
d848 2
d976 65
a1040 1
--- FILE root/sbin/migrate ---
d1152 14
d1641 5
a1645 1
--- FILE root/sbin/toaststrap ---
d1652 7
d1667 9
a1675 13
utoastdeb()
{
  utoast "deb-$1" "$3" "http://http.us.debian.org/debian/pool/main/$4/$2_$3_i386.deb"
}
utoastdeb glibc libc6 2.3.2.ds1-11 g/glibc
utoastdeb headers libc6-dev 2.3.2.ds1-11 g/glibc
utoastdeb linux linux-kernel-headers 2.5.999-test7-bk-15 l/linux-kernel-headers
utoastdeb binutils binutils 2.14.90.0.7-6 b/binutils
utoastdeb gcc gcc-3.3 3.3.3-6 g/gcc-3.3
utoastdeb cpp cpp-3.3 3.3.3-6 g/gcc-3.3
utoastdeb perl perl-base 5.8.3-3 p/perl
utoastdeb ncurses libncurses5 5.4-3 n/ncurses # required by bash
utoastdeb bash bash 2.05b-14 b/bash
d1680 2
a1681 2
utoast make 3.80 http://ftp.gnu.org/gnu/make/make-3.80.tar.bz2
utoast toast 1.320 http://toastball.net/toast/toast-1.320.tar.gz
d1692 7
a1698 7
toast arm http://ftp.gnu.org/gnu/gawk/gawk-3.1.3.tar.bz2
toast arm http://ftp.gnu.org/gnu/coreutils/coreutils-5.0.tar.bz2
toast arm http://ftp.gnu.org/gnu/gcc/gcc-3.3.2/gcc-3.3.2.tar.bz2
toast remove deb-gcc deb-cpp
toast arm http://www.cpan.org/src/5.0/perl-5.8.2.tar.gz
toast remove deb-perl
toast arm glibc/2.3.2: [ http://ftp.gnu.org/gnu/glibc/glibc-2.3.2.tar.bz2 http://ftp.gnu.org/gnu/glibc/glibc-linuxthreads-2.3.2.tar.bz2 http://kernel.org/pub/linux/kernel/v2.4/linux-2.4.25.tar.bz2 http://toastball.net/toast-linux-tmp/glibc-2.3.2-gcc-2.3.x.patch ]
d1707 13
a1719 9
toast remove deb-headers deb-linux
toast arm http://ftp.gnu.org/gnu/binutils/binutils-2.14.tar.bz2
toast remove deb-binutils
toast arm http://ftp.gnu.org/gnu/bash/bash-2.05b.tar.gz
toast rebuild glibc gcc binutils coreutils make gawk toast
# Perl must be rebuilt in separate invocation of toast; otherwise toast will
# continue running without knowing the correct location of perl:
toast rebuild perl
toast remove deb-ncurses deb-glibc deb-bash
d1723 18
a1740 18
toast arm http://ftp.gnu.org/gnu/sed/sed-4.0.9.tar.gz
toast arm http://kernel.org/pub/linux/utils/util-linux/util-linux-2.11z.tar.bz2
toast arm http://kernel.org/pub/linux/utils/kernel/module-init-tools/module-init-tools-3.0.tar.bz2
toast arm http://ftp.gnu.org/gnu/ncurses/ncurses-5.4.tar.gz
toast arm http://procps.sourceforge.net/procps-3.1.15.tar.gz
toast arm ftp://alpha.gnu.org/gnu/tar/tar-1.13.25.tar.gz
toast arm http://ftp.gnu.org/gnu/gzip/gzip-1.2.4a.tar.gz
toast arm http://ftp.gnu.org/gnu/patch/patch-2.5.4.tar.gz
toast arm [ http://ftp.gnu.org/gnu/findutils/findutils-4.1.tar.gz http://www.linuxfromscratch.org/findutils-4.1.patch ]
toast arm http://ftp.gnu.org/gnu/grep/grep-2.5.tar.bz2
toast arm ftp://ftp.cistron.nl/pub/people/miquels/sysvinit/sysvinit-2.85.tar.gz
toast arm http://www.ibiblio.org/pub/Linux/system/hardware/hdparm-5.5.tar.gz
toast arm http://ftp.gnu.org/gnu/inetutils/inetutils-1.4.2.tar.gz
toast arm http://ftp.gnu.org/gnu/wget/wget-1.9.1.tar.gz
toast arm http://udhcp.busybox.net/source/udhcp-0.9.8.tar.gz
toast arm http://ftp.gnu.org/gnu/diffutils/diffutils-2.8.1.tar.gz
toast arm ftp://ftp.vim.org/pub/vim/unix/vim-6.2.tar.bz2
toast remove busybox
d1745 3
a1747 3
toast arm http://mirrors.kernel.org/sources.redhat.com/bzip2/v102/bzip2-1.0.2.tar.gz
toast arm http://www.infodrom.org/projects/sysklogd/download/sysklogd-1.4.1.tar.gz
toast arm http://www.tazenda.demon.co.uk/phil/net-tools/net-tools-1.60.tar.bz2
d1751 12
a1762 12
toast arm [ http://kernel.org/pub/linux/kernel/v2.6/linux-2.6.5.tar.bz2 http://toastball.net/toast-linux-tmp/linux-2.6.5-config.tar.gz ]
toast arm ftp://ftp.sistina.com/pub/LVM2/device-mapper/device-mapper.1.00.07.tgz
toast arm ftp://ftp.sistina.com/pub/LVM2/tools/LVM2.2.00.08.tgz
toast arm http://www.cix.co.uk/~mayday/dev86/bin86-0.16.15.tar.gz
toast arm http://unc.dl.sourceforge.net/sourceforge/nasm/nasm-0.98.38.tar.bz2
toast arm lilo/22.5.8+devmapper: [ http://home.san.rr.com/johninsd/pub/linux/lilo/lilo-22.5.8.tar.gz http://www.saout.de/misc/lilo-22.5.8-devmapper.patch ]
toast arm http://ftp.gnu.org/gnu/gettext/gettext-0.14.1.tar.gz
toast arm http://unc.dl.sourceforge.net/sourceforge/e2fsprogs/e2fsprogs-1.34.tar.gz
toast arm http://kernel.org/pub/linux/daemons/devfsd/devfsd-v1.3.25.tar.bz2
toast arm genext2fs/1.3-4: [ http://http.us.debian.org/debian/pool/main/g/genext2fs/genext2fs_1.3.orig.tar.gz http://http.us.debian.org/debian/pool/main/g/genext2fs_1.3-4.diff.gz ]
toast arm http://toastball.net/toast-linux-tmp/toastinit-1.3.tar.gz
toast arm http://toastball.net/toast-linux-tmp/toastlogin-1.8.tar.gz
d1766 16
a1781 16
toast arm http://kernel.org/pub/linux/docs/manpages/man-pages-1.65.tar.bz2
toast arm http://www.libpng.org/pub/png/src/zlib-1.2.1.tar.gz
toast arm http://ftp.gnu.org/gnu/m4/m4-1.4.tar.gz
toast arm http://ftp.gnu.org/gnu/bison/bison-1.875.tar.bz2
toast arm http://www.greenwoodsoftware.com/less/less-381.tar.gz
toast arm http://ftp.gnu.org/gnu/groff/groff-1.19.tar.gz
toast arm http://unc.dl.sourceforge.net/sourceforge/lex/flex-2.5.31.tar.bz2
toast arm http://ftp.gnu.org/gnu/texinfo/texinfo-4.6.tar.gz
toast arm http://ftp.gnu.org/gnu/autoconf/autoconf-2.59.tar.gz
toast arm http://ftp.gnu.org/gnu/automake/automake-1.8.2.tar.gz
toast arm ftp://ftp.astron.com/pub/file/file-4.07.tar.gz
toast arm http://ftp.gnu.org/gnu/libtool/libtool-1.5.2.tar.gz
toast arm http://ftp.gnu.org/gnu/ed/ed-0.2.tar.gz
toast arm ftp://ftp.win.tue.nl/pub/linux-local/utils/kbd/kbd-1.12.tar.gz
toast arm http://kernel.org/pub/linux/utils/man/man-1.5m2.tar.bz2
toast arm http://www.sethwklein.net/projects/iana-etc/downloads/iana-etc-0.99.tar.bz2
d1785 3
a1787 5
toast arm http://archive.progeny.com/zsh/zsh-4.2.0.tar.bz2
toast arm http://ftp.gnu.org/gnu/readline/readline-4.3.tar.gz
toast arm http://ftp.gnu.org/gnu/parted/parted-1.6.6.tar.gz

# Step 8: Remove the last traces of the installer, including this script.
d1789 1
a1789 3
toast disarm scripts

lilo
d1833 1
d1854 1
d1870 1
a1874 1
# CONFIG_MELAN is not set
d1897 4
d1907 1
d1918 1
d1930 1
d1935 1
a1941 1
CONFIG_HOTPLUG=y
d2004 1
a2045 1
# CONFIG_IDEDMA_PCI_WIP is not set
d2050 1
a2072 1
# CONFIG_DMA_NONPCI is not set
d2099 6
d2140 1
a2140 1
CONFIG_SCSI_QLA2XXX_CONFIG=y
d2143 4
a2146 1
# CONFIG_SCSI_QLA23XX is not set
d2167 1
a2167 1
CONFIG_DM_IOCTL_V4=y
d2175 1
a2175 1
# IEEE 1394 (FireWire) support (EXPERIMENTAL)
a2203 1
# CONFIG_INET_ECN is not set
a2215 1
CONFIG_IPV6_SCTP__=y
d2279 1
d2310 1
d2355 1
d2376 2
d2382 1
a2382 1
# CONFIG_ISDN_BOOL is not set
d2420 1
d2445 2
a2446 6
CONFIG_UNIX98_PTY_COUNT=64

#
# Mice
#
# CONFIG_BUSMOUSE is not set
d2483 5
d2501 1
a2501 1
# CONFIG_VIDEO_SELECT is not set
a2560 1
CONFIG_DEVPTS_FS=y
d2573 1
d2655 1
@


1.19
log
@fix some more migrate problems
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.18 2004/04/14 01:22:35 zaphod Exp zaphod $;
d1022 1
a1022 1
for i in mnt/floppy proc sys usr/man var/empty var/lock var/run var/log; do
d1025 1
d1346 1
a1346 1
[ -x /mnt/root/bin/busybox ] && export TOAST_PRELOAD=false
d1553 1
a1553 1
  if [ -r "$1" ]; then
@


1.18
log
@fixed some utoast bugs
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.17 2004/04/14 00:57:08 zaphod Exp zaphod $;
d1019 1
a1019 1
  ln -s "$relrootdir$i" "$target/$i"
d1027 1
d2864 1
a2864 1
CONFIG_STRINGS=y
@


1.17
log
@fix a few stupid migrate bugs; upgrade debian binary packages again
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.16 2004/04/14 00:30:35 zaphod Exp zaphod $;
a1342 5

# XXX use local squid proxy to reduce bandwidth consumption for testing:
export http_proxy=http://cli-03:3128/
export ftp_proxy=http://cli-03:3128/

d1427 1
a1427 1
relbuilddir="$relstoredir/$name/v$version/$build"
d1495 1
a1495 1
    if [ -d "$subdir" ]; then
d1503 2
a1504 2
        announce chroot "$chrootdir" sh -c "cd $makedir && ./$confprog --prefix=$relarmdir"
        chroot "$chrootdir" sh -c "cd $makedir && ./$confprog --prefix=$relarmdir" || error
d1521 4
a1524 4
      announce chroot "$chrootdir" sh -c "cd $makedir && sh build.sh.patched"
      chroot "$chrootdir" sh -c "cd $makedir && sh build.sh.patched" || error
      announce PATH="$PATH:$relmakedir" chroot "$chrootdir" make -C "$makedir" install DESTDIR="$relrootdir"
      PATH="$PATH:$relmakedir" chroot "$chrootdir" make -C "$makedir" install DESTDIR="$relrootdir" || error
d1526 2
a1527 2
      announce chroot "$chrootdir" make -C "$makedir" all install DESTDIR="$relrootdir"
      chroot "$chrootdir" make -C "$makedir" all install DESTDIR="$relrootdir" || error
d1579 4
@


1.16
log
@toastify busybox
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.15 2004/04/13 21:25:28 zaphod Exp zaphod $;
a1026 1
ln -s vim "$target/bin/vi"
d1028 3
a1030 1
ln -s bash "$target/bin/sh.off.off"
d1599 3
a1601 3
utoastdeb binutils binutils 2.14.90.0.7-5 b/binutils
utoastdeb gcc gcc-3.3 3.3.3-5 g/gcc-3.3
utoastdeb cpp cpp-3.3 3.3.3-5 g/gcc-3.3
@


1.15
log
@break everything!
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.14 2004/04/13 19:55:57 zaphod Exp zaphod $;
d1003 18
a1020 1
(cd / && tar c dev etc bin/busybox lib) | (cd "$target" && tar x)
a1025 4
for i in `cd "$target/etc" && echo *.hd`; do
  mv "$target/etc/$i" "$target/etc/`basename $i .hd`"
done

d1029 1
a1029 1
ln -s bash "$garget/bin/sh.off.off"
d1031 3
a1033 2
chroot "$target" /bin/busybox --install
# TODO: toastify busybox (bin, sbin, lib)
d2592 1
a2592 1
CONFIG_FEATURE_INSTALLER=y
@


1.14
log
@random fixing and futzing
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.13 2004/04/12 23:24:43 zaphod Exp zaphod $;
d61 1
a61 1
#for($text{"skel/floppy/logo"})
d67 1
a67 1
for($text{"skel/floppy/syslinux.cfg"})
a209 5
PKGDIR = root/toast/pkg
BUSYBOX_ROOTDIR = $(PKGDIR)/busybox/v$(BUSYBOX_VERSION)/1/root
SCRIPTS_ROOTDIR = $(PKGDIR)/scripts/v$(VERSION)/1/root
OTHER_ROOTDIR = $(PKGDIR)/disk-utils/v$(VERSION)/1/root

d240 1
a240 1
  rm -fr $(PKG_DIRS) symbols floppy* cd* root* toast-linux* $(FROMCONF) $(FROMCONF2) skel
d329 1
a329 1
skel: !CONFIGURE!
d332 13
a344 22
  mkdir -p $@@/root/{root,proc,sys,tmp,mnt/{floppy,root},var/{empty,run,log,lock},usr/man}
  for i in bin lib sbin share; do ln -sf usr/$$i $@@/root/$$i; done
  ln -sf ../usr/share/zoneinfo/"`cat $@@/root/etc/TZ`" $@@/root/etc/localtime

root: $(LINUX) symbols skel
  rm -fr $@@
  mkdir -p $(SCRIPTS_ROOTDIR)
  set -e; (cd skel/root && tar c .) | (cd $@@ && tar x)
  set -e; (cd skel/scripts && tar c .) | (cd $(SCRIPTS_ROOTDIR) && tar x)
  install -D $(TOOLCHAIN_LIB_DIR)/ld-uClibc.so.0 $(BUSYBOX_ROOTDIR)/lib/ld-uClibc.so.0
  install -D $(TOOLCHAIN_LIB_DIR)/libdl.so.0 $(BUSYBOX_ROOTDIR)/lib/libdl.so.0
  gcc -s -nostdlib -Wl,-warn-common -shared -o $(BUSYBOX_ROOTDIR)/lib/libc.so.0 `cat symbols` $(TOOLCHAIN_LIB_DIR)/libc.a
  $(MAKE) -C $(BUSYBOX_DIR) PREFIX=$(CURDIR)/$(BUSYBOX_ROOTDIR) install
#  install -D $(E2FSCK) $(OTHER_ROOTDIR)/sbin/e2fsck
  install -D $(TUNE2FS) $(OTHER_ROOTDIR)/sbin/tune2fs
#  install -D $(NTFSRESIZE) $(OTHER_ROOTDIR)/sbin/ntfsresize
  install -D $(PARTED) $(OTHER_ROOTDIR)/sbin/parted
  install -D $(DEVMAP) $(OTHER_ROOTDIR)/lib/libdevmapper.so.1.00
  install -D $(LVM2) $(OTHER_ROOTDIR)/sbin/lvm
  for i in `cat $(LVM2_DIR)/tools/.commands`; do ln -s lvm $(OTHER_ROOTDIR)/sbin/$$i; done
  for i in $(BUSYBOX_ROOTDIR) $(SCRIPTS_ROOTDIR) $(OTHER_ROOTDIR); do echo "built by toast linux $(VERSION) on `date`" > $$i/../build.log; done
  toast --noprotect --relative --storedir=$(CURDIR)/root/toast --armdir=$(CURDIR)/root/usr --arm
d373 1
a373 1
floppy: $(LINUX) rootfs.gz skel
d375 1
a375 1
  mkdir $@@
a377 1
  cp skel/floppy/* $@@
d648 1
a648 1
--- FILE skel/floppy/syslinux.cfg ---
d655 1
a655 1
--- FILE skel/floppy/logo ---
d680 1
a680 1
--- FILE skel/floppy/help ---
d705 1
a705 1
--- FILE skel/root/etc/passwd ---
d723 1
a723 1
--- FILE skel/root/etc/group ---
d751 1
a751 1
--- FILE skel/root/etc/hosts ---
d754 1
a754 1
--- FILE skel/root/etc/host.conf ---
d758 1
a758 1
--- FILE skel/root/etc/nsswitch.conf ---
d761 1
a761 1
--- FILE skel/root/etc/resolv.conf ---
d764 1
a764 1
--- FILE skel/root/etc/TZ ---
d767 1
a767 1
--- FILE skel/root/etc/ld.so.conf ---
d769 1
a769 1
--- FILE skel/root/etc/syslog.conf ---
d772 1
a772 1
--- FILE skel/root/etc/fstab ---
d780 1
a780 1
--- FILE skel/root/etc/fstab.hd ---
d787 1
a787 1
--- FILE skel/root/etc/mtab ---
d790 1
a790 1
--- FILE skel/root/etc/mtab.hd ---
d793 1
a793 1
--- FILE skel/root/etc/lilo.conf ---
d827 1
a827 1
--- FILE skel/root/etc/profile ---
d830 1
a830 1
--- FILE skel/root/etc/inittab ---
d837 1
a837 1
--- FILE skel/root/etc/init.d/rcS ---
d845 1
a845 1
--- FILE skel/scripts/sbin/autoinstall ---
d860 1
a860 1
chroot /mnt/root toaststrap
d862 1
a862 1
--- FILE skel/scripts/sbin/network ---
d927 1
a927 1
--- FILE skel/scripts/share/udhcpc/default.script ---
d970 1
a970 1
--- FILE skel/scripts/sbin/timeout ---
d991 2
a992 2
--- FILE skel/scripts/sbin/migrate ---
#!/bin/sh
a995 10
dirs=""
for i in `cd / && echo *`; do
  case "$i" in
    mnt|proc|sys|lost+found) ;;
    *) dirs="$dirs $i" ;;
  esac
done

set -e

d1003 1
a1003 10
(cd / && tar c $dirs) | (cd "$target" && tar x)

if [ ! -x "$target/sbin/init" ]; then
  echo "migration failed: $target" >&2
  exit 1
fi

for i in mnt proc sys; do
  mkdir "$target/$i"
done
d1005 2
a1006 2
for i in `cd /mnt && echo *`; do
  mkdir "$target/mnt/$i"
d1013 8
d1023 1
a1023 1
--- FILE skel/scripts/sbin/devices ---
d1056 1
a1056 1
--- FILE skel/scripts/sbin/swap ---
d1083 1
a1083 1
--- FILE skel/scripts/sbin/partition ---
d1322 16
a1337 1
--- FILE skel/scripts/sbin/utoast ---
d1339 9
a1347 6
#
# utoast -- minimal toast replacement shell script
#
# Intended for use in a busybox-only environment.
# Emulates just enough of "toast arm" to set things up for the real toast.
#
a1367 5
# read environment variables

storedir="$TOAST_STOREDIR"
armdir="$TOAST_ARMDIR"

a1376 5
# apply defaults

[ -n "$storedir" ] || storedir=/toast
[ -n "$armdir" ] || armdir=/usr/local

d1417 1
d1419 1
d1421 2
d1483 6
a1488 2
    subdir=`echo "$makedir"/*`
    [ -d "$subdir" ] && makedir="$subdir"
d1493 2
a1494 2
        announce "(cd $makedir && ./$confprog --prefix=$armdir)"
        (cd "$makedir" && ./$confprog --prefix="$armdir") || error
d1511 4
a1514 4
      announce "(cd $makedir && sh build.sh.patched)"
      (cd "$makedir" && sh build.sh.patched) || error
      announce "(cd $makedir && PATH=$PATH:$makedir make install DESTDIR=$rootdir)"
      (cd "$makedir" && PATH="$PATH:$makedir" make install DESTDIR="$rootdir") || error
d1516 2
a1517 2
      announce "(cd $makedir && make all install DESTDIR=$rootdir)"
      (cd "$makedir" && make all install DESTDIR="$rootdir") || error
a1521 6
    for lib in "$rootdir"/lib/*.so; do
      if [ -r $lib ]; then
        explain "TODO: fix links for $lib"
      fi
    done

d1550 1
d1561 2
a1562 2
    announce ln -s "$rootfile" "$armfile"
    ln -s "$rootfile" "$armfile" || error
d1566 1
a1566 1
--- FILE skel/scripts/sbin/toaststrap ---
a1568 7
# XXX use local squid proxy to reduce bandwidth consumption for testing:
export http_proxy=http://cli-03:3128/
export ftp_proxy=http://cli-03:3128/

export TOAST_ARMDIR=/usr
export TOAST_PRELOAD=false

a1629 5
# When compiled from source, bash doesn't create a /bin/sh symlink, which
# means that /bin/sh is now busybox ash again, which won't work.  Fix it:
ln -sf bash /bin/sh
# While we're at it, util-linux expects to be able to compile C with "cc":
ln -sf gcc /bin/cc
d1650 5
a1654 5
ln -sf vim /bin/vi
toast remove busybox disk-utils
# Now that uClibc is gone, it's safe to re-enable the LD_PRELOAD hack,
# which is good because a few packages need it in order to install properly:
unset TOAST_PRELOAD
d1710 1
a1710 1
--- FILE skel/scripts/sbin/respin ---
d2578 1
a2578 1
# CONFIG_FEATURE_INSTALLER is not set
@


1.13
log
@enhanced toast-linux program
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.12 2004/04/11 19:56:34 zaphod Exp zaphod $;
d59 6
a64 4
for($text{"skel/floppy/logo"})
{
  s!^(( {8})+)!"\t" x (length($1)/8)!mge;
}
d126 4
a129 1
PKGS = LINUX TOOLCHAIN BUSYBOX E2FSPROGS NTFSPROGS PARTED DEVMAP LVM2
d245 1
a245 1
  rm -fr $(PKG_DIRS) symbols floppy* root*
d250 3
d327 1
a327 1
Makefile dev toast-linux.stub mkhd bochs-config: !CONFIGURE!
d331 1
a331 1
smartcat linux-config busybox-config:
d412 1
a412 1
run: floppy.img bochs-config
d416 1
a416 1
run-cd: cd.iso bochs-config-cd
d1175 1
a1175 1
    valid_disk_name "$disk" || error "bad disk name: $name"
d1730 2
d1742 1
a1742 1
wget -O /dev/fd0 http://toastball.net/floppy.img
@


1.12
log
@Makefile now downloads and builds mkisofs
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.11 2004/04/11 07:16:30 zaphod Exp zaphod $;
d49 31
a79 5
$text{"Makefile"} =~ s/^  /\t/mg;
$text{"Makefile"} =~ s/!GENBY!/$genby/g;
$text{"Makefile"} =~ s/!VERSION!/$version/g;
$text{"Makefile"} =~ s/!CONFIGURE!/$configure/g;
$text{"Makefile"} =~ s/!PREFIX!/$prefix/g;
a431 3
use warnings;
use strict;

d438 3
a440 1
B<toast-linux> I<TODO: insert options here>
d480 56
a535 1
my($floppy); # TODO: make true if writing floppy image, false for cd
d537 1
a537 1
if($floppy)
d545 1
a545 1
    my($i, $rc, $buf, $on) = 0;
d548 2
a549 1
      next unless $on ||= /^...SYSLINUX.{32}TOAST LINUXFAT12/;
d551 1
a551 1
      $on &&= ++$i < 2880;
d554 1
a554 1
    die("error: wrote $i sectors") unless $i == 2880;
@


1.11
log
@oops, forgot dummy mkisofs stuff
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.10 2004/04/11 07:13:31 zaphod Exp zaphod $;
d112 1
d125 1
d139 1
d153 3
d177 1
a177 1
MKISOFS = mkisofs
d211 1
d343 5
a347 2
# TODO:
$(MKISOFS):
a442 1
  - Makefile should build and use its own mkisofs
@


1.10
log
@beginnings of floppy/CD creation program and man page
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.9 2004/04/11 02:49:44 zaphod Exp zaphod $;
d171 1
d336 3
@


1.9
log
@use chroot instead of pivot_root (untested)
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.8 2004/04/09 23:59:49 zaphod Exp zaphod $;
d18 1
d53 1
d175 1
a175 1
OTHER_ROOTDIR = $(PKGDIR)/disk-utils/v0/1/root
d177 3
a179 1
DIST_TARBALL = toast-linux-$(VERSION).tar.gz
d181 2
a182 2
all: floppy.img
  $(MDIR) -a -i $< ::
d184 6
a189 3
# XXX
install: floppy.img
  cp $< ~/www/toastball.net/
d211 2
d285 1
a285 1
Makefile dev mkhd bochs-config: !CONFIGURE!
d346 1
a346 1
floppy.img: floppy $(MFORMAT) $(SYSLINUX)
d351 9
d361 2
a362 2
cd.iso: floppy.img
  mkisofs -o $@@ -b $< $<
d389 86
@


1.8
log
@toaststrap should mostly work now
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.7 2004/04/09 16:53:53 zaphod Exp zaphod $;
d286 1
a286 1
  mkdir -p $@@/root/{root,proc,sys,tmp,mnt/{floppy,initrd,toast-root},var/{empty,run,log,lock},usr/man}
d587 1
a587 1
/dev/toast/root /mnt/toast-root ext2    rw,noauto                       0 0
a640 9
::restart:/etc/init.d/pivot
::respawn:-/bin/sh
::ctrlaltdel:/sbin/reboot
::shutdown:/sbin/swapoff -a
::shutdown:/bin/umount -a -r

--- FILE skel/root/etc/inittab.hd ---
::sysinit:/etc/init.d/postpivot
::restart:/sbin/init
a653 27
--- FILE skel/root/etc/init.d/pivot ---
#!/bin/sh
PATH=/sbin:/bin
export PATH
mount -o remount / || exec /bin/sh
mount /mnt/toast-root || exec /bin/sh
umount /proc || exec /bin/sh
cd /mnt/toast-root || exec /bin/sh
pivot_root . mnt/initrd || exec /bin/sh
exec chroot . /sbin/init
exec /bin/sh

--- FILE skel/root/etc/init.d/postpivot ---
#!/bin/sh -e
mount /proc
grep -v '^rootfs ' /proc/mounts > /etc/mtab
mount /sys
mount /dev/pts

# TODO: fix "umount: device or resource busy", or just use chroot only....
#umount /mnt/initrd
#rmdir /mnt/initrd
#freeramdisk /dev/ram0

swap
toaststrap

d667 1
d669 1
d803 1
a803 1
target="/mnt/toast-root"
a842 2
kill -HUP 1

d1391 1
a1391 1
# Including ncurses only because the bash binary supposedly requires it.
d2817 1
a2817 1
CONFIG_PIVOT_ROOT=y
@


1.7
log
@added further missing dependencies to toaststrap
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.6 2004/04/09 00:05:07 zaphod Exp zaphod $;
d286 1
a286 1
  mkdir -p $@@/root/{proc,sys,tmp,mnt/{floppy,initrd,toast-root},var/{empty,run,log,lock},usr/man}
d1447 1
a1447 1
utoast toast 1.317 http://toastball.net/toast/toast-1.317.tar.gz
d1524 1
d1539 1
a1539 2
toast arm http://ftp.gnu.org/non-gnu/flex/flex-2.5.4a.tar.gz
toast arm http://ftp.gnu.org/gnu/gettext/gettext-0.12.1.tar.gz
d1552 2
a1553 1
toast arm http://archive.progeny.com/zsh/zsh-4.1.1.tar.bz2
d1560 5
@


1.6
log
@fix a bunch of toaststrap problems
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.5 2004/04/07 22:11:40 zaphod Exp zaphod $;
d1507 1
d1521 2
d1526 1
@


1.5
log
@add empty /etc/ld.so.conf to suppress ldconfig warning;
rebuild perl in separate toast invocation so toast doesn't get confused
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.4 2004/04/07 18:36:59 zaphod Exp zaphod $;
d516 13
d530 1
d534 20
d555 4
d1447 1
a1447 1
utoast toast 1.314 http://toastball.net/toast/toast-1.314.tar.gz
d1478 2
a1479 2
# perl must be rebuilt in separate invocation of toast; otherwise toast will
# continue running without knowing the correct location of perl
d1481 6
a1486 1
toast remove deb-bash deb-ncurses deb-glibc
d1493 1
a1496 1
toast arm http://mirrors.kernel.org/sources.redhat.com/bzip2/v102/bzip2-1.0.2.tar.gz
d1498 1
a1498 1
toast arm http://ftp.gnu.org/gnu/findutils/findutils-4.1.tar.gz
a1500 1
toast arm http://www.infodrom.org/projects/sysklogd/download/sysklogd-1.4.1.tar.gz
a1501 1
toast arm http://www.tazenda.demon.co.uk/phil/net-tools/net-tools-1.60.tar.bz2
d1505 9
a1513 1
toast remove busybox
d1517 1
a1517 1
toast arm [ http://kernel.org/pub/linux/kernel/v2.6/linux-2.6.4.tar.bz2 http://toastball.net/toast-linux-tmp/linux-2.6.4-config.tar.gz ]
a1529 2
toast arm http://ftp.gnu.org/gnu/ncurses/ncurses-5.3.tar.bz2
toast arm ftp://ftp.vim.org/pub/vim/unix/vim-6.2.tar.bz2
a1540 1
toast arm http://ftp.gnu.org/gnu/diffutils/diffutils-2.8.1.tar.gz
a1549 1
toast disarm disk-utils
@


1.4
log
@switch to a working version of binutils
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.3 2004/04/06 00:36:29 zaphod Exp zaphod $;
d538 2
d1439 4
a1442 1
toast rebuild glibc gcc binutils coreutils make gawk perl toast
@


1.3
log
@utoast needs /usr/man to exist; upgrade debs; glibc needs the real perl
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.2 2004/04/05 19:48:43 zaphod Exp zaphod $;
d1434 1
a1434 1
toast arm http://kernel.org/pub/linux/devel/binutils/binutils-2.14.90.0.8.tar.bz2
@


1.2
log
@fix some obvious build problems
@
text
@d10 1
a10 1
my($rcsid) = q$Id: configure,v 1.1 2004/04/04 23:20:58 zaphod Exp zaphod $;
d286 1
a286 1
  mkdir -p $@@/root/{proc,sys,tmp,mnt/{floppy,initrd,toast-root},var/{empty,run,log,lock}}
d1399 2
a1400 2
utoastdeb perl perl-base 5.8.3-2 p/perl
utoastdeb ncurses libncurses5 5.4-2 n/ncurses # required by bash
d1419 1
d1422 2
a1435 2
toast arm http://www.cpan.org/src/5.0/perl-5.8.2.tar.gz
toast remove deb-perl
d1437 1
a1438 1
toast rebuild glibc gcc binutils make gawk toast
a1442 1
toast arm http://ftp.gnu.org/gnu/coreutils/coreutils-5.0.tar.bz2
@


1.1
log
@Initial revision
@
text
@d10 1
a10 1
my($rcsid) = q$Id$;
d12 1
a12 1
my($version, $rcsdate) = ("toast linux", $1, $2);
d19 1
a19 1
if(length(@@ARGV) != 1 || $target =~ /^-/)
d23 1
d65 1
a65 1
      $path = defined($path) ? $_ : "$path/$_";
d73 1
a73 1
  sysopen(OUTFILE, $_, O_WRONLY, $text =~ m@@^#!/@@ ? 0777 : 0666)
d150 3
a152 2
TOOLCHAIN_LIB_DIR = $(TOOLCHAIN_MAKE_DIR)/toolchain_i386/lib
TOOLCHAIN_BIN_DIR = $(CURDIR)/$(TOOLCHAIN_MAKE_DIR)/toolchain_i386/usr/bin
d204 1
a204 1
$(LINUX_DIR)/.config: $(LINUX_ARCHIVE) linux-config
d221 1
a221 1
$(TOOLCHAIN_DIR)/ok: $(TOOLCHAIN_ARCHIVE)
d228 1
a228 1
$(BUSYBOX_DIR)/.config: $(BUSYBOX_ARCHIVE) busybox-config $(TOOLCHAIN_DIR)/ok
d238 1
a238 1
$(TUNE2FS): $(E2FSPROGS_ARCHIVE) $(TOOLCHAIN_DIR)/ok
d245 1
a245 1
$(NTFSRESIZE): $(NTFSPROGS_ARCHIVE) $(TOOLCHAIN_DIR)/ok
d251 1
a251 1
$(PARTED): $(PARTED_ARCHIVE) $(TOOLCHAIN_DIR)/ok
d259 1
a259 1
$(DEVMAP): $(DEVMAP_ARCHIVE) $(TOOLCHAIN_DIR)/ok
d265 1
a265 1
$(LVM2): $(LVM2_ARCHIVE) $(DEVMAP) $(TOOLCHAIN_DIR)/ok
d276 6
a281 2
Makefile dev smartcat mkhd linux-config busybox-config bochs-config: !CONFIGURE!
  $< $@@
d285 1
a285 1
  $< $@@
d288 1
a288 1
  ln ../usr/share/zoneinfo/"`cat $@@/root/etc/TZ`" $@@/root/etc/localtime
d290 1
a290 1
root: $(LINUX) symbols
d301 1
a301 1
  install -D $(NTFSRESIZE) $(OTHER_ROOTDIR)/sbin/ntfsresize
d309 1
a309 1
$(GENEXT2FS): $(GENEXT2FS_ARCHIVE) $(GENEXT2FS_PATCH)
d315 1
a315 1
$(MFORMAT) $(MCOPY) $(MDIR): $(MTOOLS_ARCHIVE)
d321 1
a321 1
$(SYSLINUX): $(SYSLINUX_ARCHIVE)
d330 1
a330 1
floppy: $(LINUX) rootfs.gz
a370 9
dist: $(DIST_TARBALL)

$(DIST_TARBALL): Makefile linux-config busybox-config dev smartcat skel bochs-config mkhd TODO
  rm -fr $@@
  tar czf $@@ $^

backup: $(DIST_TARBALL)
  scp $< ofb.net:.

d392 1
a392 1
-- FILE mkhd ---
d514 1
a514 1
--- FILE skel/etc/passwd ---
d518 1
a518 1
--- FILE skel/etc/group ---
d522 1
a522 1
--- FILE skel/etc/hosts ---
d525 1
a525 1
--- FILE skel/etc/host.conf ---
d529 1
a529 1
--- FILE skel/etc/nsswitch.conf ---
d532 1
a532 1
--- FILE skel/etc/resolv.conf ---
d535 1
a535 1
--- FILE skel/etc/TZ ---
d538 1
a538 1
--- FILE skel/etc/syslog.conf ---
d541 1
a541 1
--- FILE skel/etc/fstab ---
d549 1
a549 1
--- FILE skel/etc/fstab.hd ---
d556 1
a556 1
--- FILE skel/etc/mtab ---
d559 1
a559 1
--- FILE skel/etc/mtab.hd ---
d562 1
a562 1
--- FILE skel/etc/lilo.conf ---
d596 1
a596 1
--- FILE skel/etc/profile ---
d599 1
a599 1
--- FILE skel/etc/inittab ---
d607 1
a607 1
--- FILE skel/etc/inittab.hd ---
d615 1
a615 1
--- FILE skel/etc/init.d/rcS ---
d623 1
a623 1
--- FILE skel/etc/init.d/pivot ---
d635 1
a635 1
--- FILE skel/etc/init.d/postpivot ---
@
